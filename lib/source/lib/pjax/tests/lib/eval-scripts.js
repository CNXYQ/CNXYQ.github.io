// build time:Wed Mar 18 2020 12:20:46 GMT+0800 (GMT+08:00)
var tape=require("tape");var evalScript=require("../../lib/eval-script");tape("test evalScript method",function(e){document.body.className="";var t=document.createElement("script");t.innerHTML="document.body.className = 'executed'";e.equal(document.body.className,"","script hasn't been executed yet");evalScript(t);e.equal(document.body.className,"executed","script has been properly executed");t.innerHTML="document.write('failure')";var r="document.write hasn't been executed";document.body.text=r;evalScript(t);e.equal(document.body.text,r,"document.write hasn't been executed");e.end()});tape("evalScript should not throw an error if the script removed itself",function(e){var t=document.createElement("script");t.id="myScript";t.innerHTML="const script = document.querySelector('#myScript');"+"script.parentNode.removeChild(script);";try{evalScript(t);e.pass("Missing script tested successfully")}catch(r){console.error(r);e.fail("Attempted to remove missing script")}e.end()});
//rebuild by neat 