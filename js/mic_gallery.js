// build time:Mon Jun 08 2020 19:37:58 GMT+0800 (GMT+08:00)
var gallery_main=function(e){var i={settings:{preload:false,slideDuration:500,layoutDuration:750,gallery_thumbnailsPerRow:2,gallery_mainSide:"right"},$window:null,$body:null,$gallery_main:null,$gallery_thumbnails:null,$viewer:null,$toggle:null,$navNext:null,$navPrevious:null,slides:[],current:null,locked:false,keys:{27:function(){i.toggle()},38:function(){i.up()},40:function(){i.down()},32:function(){i.next()},39:function(){i.next()},37:function(){i.previous()}},initProperties:function(){i.$window=e(window);i.$body=e("body");i.$gallery_thumbnails=e("#gallery_thumbnails");i.$viewer=e('<div id="viewer">'+'<div class="inner">'+'<div class="nav-next"></div>'+'<div class="nav-previous"></div>'+'<div class="toggle"></div>'+"</div>"+"</div>").appendTo(i.$body);i.$navNext=i.$viewer.find(".nav-next");i.$navPrevious=i.$viewer.find(".nav-previous");i.$gallery_main=e("#gallery_main");e('<div class="toggle"></div>').appendTo(i.$gallery_main);i.$toggle=e(".toggle");if(skel.vars.IEVersion<9)i.$window.on("resize",function(){window.setTimeout(function(){i.$viewer.css("width",i.$window.width()-i.$gallery_main.width())},100)}).trigger("resize")},initEvents:function(){i.$window.on("load",function(){i.$body.removeClass("is-loading-0");window.setTimeout(function(){i.$body.removeClass("is-loading-1")},100);window.setTimeout(function(){i.$body.removeClass("is-loading-2")},100+Math.max(i.settings.layoutDuration-150,0))});var e;i.$window.on("resize",function(){i.$body.addClass("is-loading-0");window.clearTimeout(e);e=window.setTimeout(function(){i.$body.removeClass("is-loading-0")},100)});i.$viewer.on("touchend",function(){if(skel.breakpoint("medium").active)i.hide()});i.$viewer.on("touchstart",function(e){i.$viewer.touchPosX=e.originalEvent.touches[0].pageX;i.$viewer.touchPosY=e.originalEvent.touches[0].pageY}).on("touchmove",function(e){if(i.$viewer.touchPosX===null||i.$viewer.touchPosY===null)return;var n=i.$viewer.touchPosX-e.originalEvent.touches[0].pageX,l=i.$viewer.touchPosY-e.originalEvent.touches[0].pageY;boundary=20,delta=50;if(l<boundary&&l>-1*boundary&&n>delta)i.next();else if(l<boundary&&l>-1*boundary&&n<-1*delta)i.previous();var t=i.$viewer.outerHeight(),o=i.$viewer.get(0).scrollHeight-i.$viewer.scrollTop();if(i.$viewer.scrollTop()<=0&&l<0||o>t-2&&o<t+2&&l>0){e.preventDefault();e.stopPropagation()}});i.$gallery_main.on("touchstart",function(e){if(skel.breakpoint("xsmall").active)return;i.$gallery_main.touchPosX=e.originalEvent.touches[0].pageX;i.$gallery_main.touchPosY=e.originalEvent.touches[0].pageY}).on("touchmove",function(e){if(skel.breakpoint("xsmall").active)return;if(i.$gallery_main.touchPosX===null||i.$gallery_main.touchPosY===null)return;var n=i.$gallery_main.touchPosX-e.originalEvent.touches[0].pageX,l=i.$gallery_main.touchPosY-e.originalEvent.touches[0].pageY;boundary=20,delta=50,result=false;switch(i.settings.gallery_mainSide){case"left":result=l<boundary&&l>-1*boundary&&n>delta;break;case"right":result=l<boundary&&l>-1*boundary&&n<-1*delta;break;default:break}if(result)i.hide();var t=i.$gallery_main.outerHeight(),o=i.$gallery_main.get(0).scrollHeight-i.$gallery_main.scrollTop();if(i.$gallery_main.scrollTop()<=0&&l<0||o>t-2&&o<t+2&&l>0){e.preventDefault();e.stopPropagation()}});i.$toggle.on("click",function(){i.toggle()});i.$toggle.on("touchend",function(e){e.stopPropagation()});i.$navNext.on("click",function(){i.next()});i.$navPrevious.on("click",function(){i.previous()});i.$body.on("keydown","input,select,textarea",function(e){e.stopPropagation()});i.$window.on("keydown",function(e){if(skel.breakpoint("xsmall").active)return;if(e.keyCode in i.keys){e.stopPropagation();e.preventDefault();i.keys[e.keyCode]()}})},initViewer:function(){i.$gallery_thumbnails.on("click",".thumbnail",function(n){var l=e(this);n.preventDefault();n.stopPropagation();if(i.locked)l.blur();i.switchTo(l.data("index"))});i.$gallery_thumbnails.children().each(function(){var n=e(this),l=n.children(".thumbnail"),t;t={$parent:n,$slide:null,$slideImage:null,$slideCaption:null,url:l.attr("href"),loaded:false};n.attr("tabIndex","-1");t.$slide=e('<div class="slide"><div class="caption"></div><div class="image"></div></div>');t.$slideImage=t.$slide.children(".image");t.$slideImage.css("background-image","").css("background-position","center center");t.$slideCaption=t.$slide.find(".caption");n.children().not(l).appendTo(t.$slideCaption);if(i.settings.preload){var o=e('<img src="'+t.url+'" />');t.$slideImage.css("background-image","url("+t.url+")");t.$slide.addClass("loaded");t.loaded=true}i.slides.push(t);l.data("index",i.slides.length-1)})},init:function(){if(skel.vars.IEVersion<10){i.settings.slideDuration=0;i.settings.layoutDuration=0}skel.breakpoints({xlarge:"(max-width: 1680px)",large:"(max-width: 1280px)",medium:"(max-width: 980px)",small:"(max-width: 736px)",xsmall:"(max-width: 480px)"});i.initProperties();i.initViewer();i.initEvents();window.setTimeout(function(){skel.on("-xsmall !xsmall",function(){if(i.current===null)i.switchTo(0,true)})},0)},switchTo:function(n,l){if(i.current==n&&!skel.breakpoint("xsmall").active)return;if(i.locked)return;i.locked=true;if(!l&&skel.breakpoint("medium").active&&skel.vars.IEVersion>8)i.hide();var t=i.current!==null?i.slides[i.current]:null,o=i.slides[n];i.current=n;if(t){t.$parent.removeClass("active");t.$slide.removeClass("active")}o.$parent.addClass("active").focus();var a=function(){if(t)t.$slide.detach();o.$slide.appendTo(i.$viewer);if(!o.loaded){window.setTimeout(function(){o.$slide.addClass("loading");e('<img src="'+o.url+'" />').on("load",function(){o.$slideImage.css("background-image","url("+o.url+")");o.loaded=true;o.$slide.removeClass("loading");o.$slide.addClass("active");window.setTimeout(function(){i.locked=false},100)})},100)}else{window.setTimeout(function(){o.$slide.addClass("active");window.setTimeout(function(){i.locked=false},100)},100)}};if(!t)a();else window.setTimeout(a,i.settings.slideDuration)},next:function(){var e,n=i.current,l=i.slides.length;if(n>=l-1)e=0;else e=n+1;i.switchTo(e)},previous:function(){var e,n=i.current,l=i.slides.length;if(n<=0)e=l-1;else e=n-1;i.switchTo(e)},up:function(){if(i.$body.hasClass("fullscreen"))return;var e,n=i.current,l=i.slides.length,t=i.settings.gallery_thumbnailsPerRow;if(n<=t-1)e=l-(t-1-n)-1;else e=n-t;i.switchTo(e)},down:function(){if(i.$body.hasClass("fullscreen"))return;var e,n=i.current,l=i.slides.length,t=i.settings.gallery_thumbnailsPerRow;if(n>=l-t)e=n-l+t;else e=n+t;i.switchTo(e)},show:function(){if(!i.$body.hasClass("fullscreen"))return;i.$body.removeClass("fullscreen");i.$gallery_main.focus()},hide:function(){if(i.$body.hasClass("fullscreen"))return;i.$body.addClass("fullscreen");i.$gallery_main.blur()},toggle:function(){if(i.$body.hasClass("fullscreen"))i.show();else i.hide()}};return i}(jQuery);gallery_main.init();
//rebuild by neat 