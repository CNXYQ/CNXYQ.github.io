<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>gitä¸Šä¼ å¤§æ–‡ä»¶æˆ–è€…PDFæˆ–è€…äºŒè¿›åˆ¶æ–‡ä»¶æ— æ³•ä¸Šä¼ </title>
    <url>/2020/03/04/git%E4%B8%8A%E4%BC%A0%E5%A4%A7%E6%96%87%E4%BB%B6%E6%88%96%E8%80%85PDF%E6%88%96%E8%80%85%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E6%97%A0%E6%B3%95%E4%B8%8A%E4%BC%A0/</url>
    <content><![CDATA[<!-- build time:Wed Jun 17 2020 15:06:13 GMT+0800 (GMT+08:00) --><p><span style="color:red;background:#fff;font-size:15;font-family:å­—ä½“">æé†’ï¼šgit commit â€“hard commit_id ä¼šæŠŠcommitå¯¹åº”çš„æ–‡ä»¶ä»æœ¬åœ°åº“åˆ é™¤ï¼è°¨æ…ä½¿ç”¨æ­¤å‘½ä»¤ï¼</span></p><h2 id="1-é—®é¢˜æè¿°"><a href="#1-é—®é¢˜æè¿°" class="headerlink" title="1. é—®é¢˜æè¿°"></a>1. é—®é¢˜æè¿°</h2><p>â€‹ pushå¤§æ–‡ä»¶å¤±è´¥ï¼Œåœ¨å°†å¤§æ–‡ä»¶åˆ é™¤ä¹‹åï¼Œå…¶ä½™å°æ–‡ä»¶ä»ç„¶å—åˆ°ä¹‹å‰å¤§æ–‡ä»¶pushå¤±è´¥çš„å½±å“ï¼Œæ— æ³•æ­£å¸¸pushã€‚</p><h2 id="2-è§£å†³æ–¹æ¡ˆ"><a href="#2-è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2. è§£å†³æ–¹æ¡ˆ"></a>2. è§£å†³æ–¹æ¡ˆ</h2><p>â€‹ éœ€è¦å°†ä¹‹å‰å«æœ‰å¤§æ–‡ä»¶çš„commitè®°å½•åˆ é™¤ï¼ˆå…¨éƒ¨åˆ é™¤ï¼‰</p><h2 id="3-è¯¦ç»†è¿‡ç¨‹"><a href="#3-è¯¦ç»†è¿‡ç¨‹" class="headerlink" title="3. è¯¦ç»†è¿‡ç¨‹"></a>3. è¯¦ç»†è¿‡ç¨‹</h2><ol><li><p>å°†gitåˆ‡æ¢åˆ°ä¹‹å‰æäº¤çš„gité¡¹ç›®æ‰€åœ¨ç›®å½•</p></li><li><p>ä½¿ç”¨<code>git log</code>å‘½ä»¤æŸ¥çœ‹commitçš„å†å²è®°å½•åŠå…¶å¯¹åº”çš„commit_idï¼ŒæŸ¥çœ‹ç»“æœå¦‚å›¾ï¼š</p><p><img src="/2020/03/04/git%E4%B8%8A%E4%BC%A0%E5%A4%A7%E6%96%87%E4%BB%B6%E6%88%96%E8%80%85PDF%E6%88%96%E8%80%85%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E6%97%A0%E6%B3%95%E4%B8%8A%E4%BC%A0/1.JPG" alt="1.JPG"></p></li><li><p>å¤åˆ¶commit_idï¼Œä½¿ç”¨Ctrl+Cé€€å‡ºlogæŸ¥çœ‹é¡µé¢ï¼Œè¿›å…¥æ­£å¸¸gitå¯è¾“å…¥å‘½ä»¤ç•Œé¢ï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤ï¼Œä½¿gitå›é€€åˆ°commit_idçš„çŠ¶æ€ã€‚ <code>git reset --hard //å‰é¢3ä¸ªå•è¯ä¸éœ€æ”¹å˜ï¼Œå°†æ”¹æˆå¯¹åº”çš„commit_idçš„å€¼</code></p><p><img src="/2020/03/04/git%E4%B8%8A%E4%BC%A0%E5%A4%A7%E6%96%87%E4%BB%B6%E6%88%96%E8%80%85PDF%E6%88%96%E8%80%85%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E6%97%A0%E6%B3%95%E4%B8%8A%E4%BC%A0/2.JPG" alt="2.JPG"></p></li><li><p>ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤ä½¿æœ¬åœ°å’Œè¿œç¨‹çš„å†…å®¹éƒ½å›é€€åˆ°commit_idå¯¹åº”çš„çŠ¶æ€ã€‚ <code>git push origin HEAD --force //å›ºå®šæ¨¡å¼ï¼Œä¸éœ€è¦æ”¹å˜å•è¯</code></p><p><img src="/2020/03/04/git%E4%B8%8A%E4%BC%A0%E5%A4%A7%E6%96%87%E4%BB%B6%E6%88%96%E8%80%85PDF%E6%88%96%E8%80%85%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E6%97%A0%E6%B3%95%E4%B8%8A%E4%BC%A0/3.JPG" alt="3.JPG"></p></li></ol><h2 id="4-å‚æ•°è§£é‡Š"><a href="#4-å‚æ•°è§£é‡Š" class="headerlink" title="4. å‚æ•°è§£é‡Š"></a>4. å‚æ•°è§£é‡Š</h2><p>æ ¹æ®â€“soft â€“mixed â€“hardï¼Œä¼šå¯¹working treeå’Œindexå’ŒHEADè¿›è¡Œé‡ç½®:</p><ul><li><p>git reset â€“mixedï¼šæ­¤ä¸ºé»˜è®¤æ–¹å¼ï¼Œä¸å¸¦ä»»ä½•å‚æ•°çš„git resetï¼Œå³æ—¶è¿™ç§æ–¹å¼ï¼Œå®ƒå›é€€åˆ°æŸä¸ªç‰ˆæœ¬ï¼Œåªä¿ç•™æºç ï¼Œå›é€€commitå’Œindexä¿¡æ¯ã€‚</p></li><li><p>git reset â€“softï¼šå›é€€åˆ°æŸä¸ªç‰ˆæœ¬ï¼Œåªå›é€€äº†commitçš„ä¿¡æ¯ï¼Œä¸ä¼šæ¢å¤åˆ°index fileä¸€çº§ã€‚å¦‚æœè¿˜è¦æäº¤ï¼Œç›´æ¥commitå³å¯ã€‚</p></li><li><p>git reset â€“hardï¼šå½»åº•å›é€€åˆ°æŸä¸ªç‰ˆæœ¬ï¼Œæœ¬åœ°çš„æºç ä¹Ÿä¼šå˜ä¸ºä¸Šä¸€ä¸ªç‰ˆæœ¬çš„å†…å®¹ã€‚</p></li><li><p>git status :æŸ¥çœ‹æœªè¢«ä¼ é€åˆ°è¿œç¨‹ä»£ç åº“çš„æäº¤çŠ¶æ€</p></li><li><p>git cherry -v æŸ¥çœ‹æœªè¢«ä¼ é€åˆ°è¿œç¨‹ä»£ç åº“çš„æäº¤æè¿°å’Œè¯´æ˜</p></li><li><p>git reset commit_id æ’¤é”€æœªè¢«ä¼ é€åˆ°è¿œç¨‹ä»£ç åº“çš„æäº¤</p></li><li><p>HEAD æœ€è¿‘ä¸€ä¸ªæäº¤</p></li><li><p>HEAD^ ä¸Šä¸€æ¬¡æäº¤</p></li><li><p>æ¯æ¬¡commitçš„SHA1å€¼. å¯ä»¥ç”¨git log çœ‹åˆ°,ä¹Ÿå¯ä»¥åœ¨é¡µé¢ä¸Šcommitæ ‡ç­¾é¡µé‡Œæ‰¾åˆ°ã€‚</p></li></ul><h2 id="å‚è€ƒæ–‡ç« ï¼š"><a href="#å‚è€ƒæ–‡ç« ï¼š" class="headerlink" title="å‚è€ƒæ–‡ç« ï¼š"></a>å‚è€ƒæ–‡ç« ï¼š</h2><p><a href="https://www.douban.com/note/189603387/" target="_blank" rel="noopener">git åˆ é™¤é”™è¯¯æäº¤çš„commit</a></p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>Stay hungry. Stay Foolish.</title>
    <url>/2020/03/18/Stay-hungry-Stay-Foolish/</url>
    <content><![CDATA[<!-- build time:Wed Jun 17 2020 15:06:13 GMT+0800 (GMT+08:00) --><div id="article_content" class="article_content clearfix"><link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-833878f763.css"><div id="content_views" class="markdown_views prism-atom-one-light"><svg xmlns="http://www.w3.org/2000/svg" style="display:none"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color:transparent"/></svg><p>Thank you. I am honored to be with you today at your commencement from one of the finest universities in the world. Truth be told, I never graduated from college. This is the closest Iâ€™ve ever gotten to a college graduation. Today I want to tell you three stories from my life. Thatâ€™s it. No big deal. Just three stories.</p><p>å¾ˆè£å¹¸å’Œå¤§å®¶ä¸€é“å‚åŠ è¿™æ‰€ä¸–ç•Œä¸Šæœ€å¥½çš„ä¸€åº§å¤§å­¦çš„æ¯•ä¸šå…¸ç¤¼ã€‚æˆ‘å¤§å­¦æ²¡æ¯•ä¸šï¼Œè¯´å®è¯ï¼Œè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡ç¦»å¤§å­¦æ¯•ä¸šå…¸ç¤¼è¿™ä¹ˆè¿‘ã€‚ä»Šå¤©æˆ‘æƒ³ç»™å¤§å®¶è®²ä¸‰ä¸ªæˆ‘è‡ªå·±çš„æ•…äº‹ï¼Œä¸è®²åˆ«çš„ï¼Œä¹Ÿä¸è®²å¤§é“ç†ï¼Œå°±è®²ä¸‰ä¸ªæ•…äº‹ã€‚</p><p>The first story is about connecting the dots. I dropped out of Reed College after the first 6 months, but then stayed around as a drop-in for another 18 months or so before I really quit. So why did I drop out?</p><p>ç¬¬ä¸€ä¸ªæ•…äº‹è®²çš„æ˜¯ç‚¹ä¸ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚æˆ‘åœ¨é‡Œå¾·å­¦é™¢(Reed College)åªè¯»äº†å…­ä¸ªæœˆå°±é€€å­¦äº†ï¼Œæ­¤åä¾¿åœ¨å­¦æ ¡é‡Œæ—å¬ï¼Œåˆè¿‡äº†å¤§çº¦ä¸€å¹´åŠï¼Œæˆ‘å½»åº•ç¦»å¼€ã€‚é‚£ä¹ˆï¼Œæˆ‘ä¸ºä»€ä¹ˆé€€å­¦å‘¢?</p><p>It started before I was born. My biological mother was a young, unwed college graduate student, and she decided to put me up for adoption. She felt very strongly that I should be adopted by college graduates, so everything was all set for me to be adopted at birth by a lawyer and his wife.</p><p>è¿™å¾—ä»æˆ‘å‡ºç”Ÿå‰è®²èµ·ã€‚æˆ‘çš„ç”Ÿæ¯æ˜¯ä¸€åå¹´è½»çš„æœªå©šåœ¨æ ¡ç ”ç©¶ç”Ÿï¼Œå¥¹å†³å®šå°†æˆ‘é€ç»™åˆ«äººæ”¶å…»ã€‚å¥¹éå¸¸å¸Œæœ›æ”¶å…»æˆ‘çš„æ˜¯æœ‰å¤§å­¦å­¦å†çš„äººï¼Œæ‰€ä»¥æŠŠä¸€åˆ‡éƒ½å®‰æ’å¥½äº†ï¼Œæˆ‘ä¸€å‡ºç”Ÿå°±äº¤ç»™ä¸€å¯¹å¾‹å¸ˆå¤«å¦‡æ”¶å…»ã€‚</p><p>Except that when I popped out they decided at the last minute that they really wanted a girl. So my parents, who were on a waiting list, got a call in the middle of the night asking: â€œWe have an unexpected baby boy; do you want him?â€ They said: â€œOf course.â€</p><p>æ²¡æƒ³åˆ°æˆ‘è½åœ°çš„éœé‚£é—´ï¼Œé‚£å¯¹å¤«å¦‡å´å†³å®šæ”¶å…»ä¸€åå¥³å­©ã€‚å°±è¿™æ ·ï¼Œæˆ‘çš„å…»çˆ¶æ¯â”€å½“æ—¶ä»–ä»¬è¿˜åœ¨ç™»è®°å†Œä¸Šæ’é˜Ÿç­‰ç€å‘¢â”€åŠå¤œä¸‰æ›´æ¥åˆ°ä¸€ä¸ªç”µè¯: â€œæˆ‘ä»¬è¿™å„¿æœ‰ä¸€ä¸ªæ²¡äººè¦çš„ç”·å©´ï¼Œä½ ä»¬è¦ä¹ˆ?â€â€œå½“ç„¶è¦â€ä»–ä»¬å›ç­”ã€‚</p><p>My biological mother later found out that my mother had never graduated from college and that my father had never graduated from high school. She refused to sign the final adoption papers. She only relented a few months later when my parents promised that I would someday go to college.</p><p>ä½†æ˜¯ï¼Œæˆ‘çš„ç”Ÿæ¯åæ¥å‘ç°æˆ‘çš„å…»æ¯ä¸æ˜¯å¤§å­¦æ¯•ä¸šç”Ÿï¼Œæˆ‘çš„å…»çˆ¶ç”šè‡³è¿ä¸­å­¦éƒ½æ²¡æœ‰æ¯•ä¸šï¼Œæ‰€ä»¥å¥¹æ‹’ç»åœ¨æœ€åçš„æ”¶å…»æ–‡ä»¶ä¸Šç­¾å­—ã€‚ä¸è¿‡ï¼Œæ²¡è¿‡å‡ ä¸ªæœˆå¥¹å°±å¿ƒè½¯äº†ï¼Œå› ä¸ºæˆ‘çš„å…»çˆ¶æ¯è®¸è¯ºæ—¥åä¸€å®šé€æˆ‘ä¸Šå¤§å­¦ã€‚</p><p>And 17 years later I did go to college. But I naively chose a college that was almost as expensive as Stanford, and all of my working-class parentsâ€™ savings were being spent on my college tuition.</p><p>17 å¹´åï¼Œæˆ‘çœŸçš„è¿›äº†å¤§å­¦ã€‚å½“æ—¶æˆ‘å¾ˆå¤©çœŸï¼Œé€‰äº†ä¸€æ‰€å­¦è´¹å‡ ä¹å’Œæ–¯å¦ç¦å¤§å­¦ä¸€æ ·æ˜‚è´µçš„å­¦æ ¡ï¼Œå½“å·¥äººçš„å…»çˆ¶æ¯å€¾å…¶æ‰€æœ‰çš„ç§¯è“„ä¸ºæˆ‘æ”¯ä»˜äº†å¤§å­¦å­¦è´¹ã€‚</p><p>After six months, I couldnâ€™t see the value in it. I had no idea what I wanted to do with my life and no idea how college was going to help me figure it out. And here I was spending all of the money my parents had saved their entire life.</p><p>è¯»äº†å…­ä¸ªæœˆåï¼Œæˆ‘å´çœ‹ä¸å‡ºä¸Šå­¦æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚æˆ‘æ—¢ä¸çŸ¥é“è‡ªå·±è¿™ä¸€ç”Ÿæƒ³å¹²ä»€ä¹ˆï¼Œä¹Ÿä¸çŸ¥é“å¤§å­¦æ˜¯å¦èƒ½å¤Ÿå¸®æˆ‘å¼„æ˜ç™½è‡ªå·±æƒ³å¹²ä»€ä¹ˆã€‚è¿™æ—¶ï¼Œæˆ‘å°±è¦èŠ±å…‰çˆ¶æ¯ä¸€è¾ˆå­èŠ‚çœä¸‹æ¥çš„é’±äº†ã€‚</p><p>So I decided to drop out and trust that it would all work out OK. It was pretty scary at the time, but looking back it was one of the best decisions I ever made. The minute I dropped out I could stop taking the required classes that didnâ€™t interest me, and begin dropping in on the ones that looked interestingã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘å†³å®šé€€å­¦ï¼Œå¹¶ä¸”åšä¿¡æ—¥åä¼šè¯æ˜æˆ‘è¿™æ ·åšæ˜¯å¯¹çš„ã€‚å½“å¹´åšå‡ºè¿™ä¸ªå†³å®šæ—¶å¿ƒé‡Œç›´æ‰“é¼“ï¼Œä½†ç°åœ¨å›æƒ³èµ·æ¥ï¼Œè¿™è¿˜çœŸæ˜¯æˆ‘æœ‰ç”Ÿä»¥æ¥åšå‡ºçš„æœ€å¥½çš„å†³å®šä¹‹ä¸€ã€‚ä»é€€å­¦é‚£ä¸€åˆ»èµ·ï¼Œæˆ‘å°±å¯ä»¥ä¸å†é€‰é‚£äº›æˆ‘æ¯«æ— å…´è¶£çš„å¿…ä¿®è¯¾ï¼Œå¼€å§‹æ—å¬ä¸€äº›çœ‹ä¸Šå»æœ‰æ„æ€çš„è¯¾ã€‚</p><p>It wasnâ€™t all romantic. I didnâ€™t have a dorm room, so I slept on the floor in friendsâ€™ rooms, I returned coke bottles for the 5? deposits to buy food with, and I would walk the 7 miles across town every Sunday night to get one good meal a week at the Hare Krishna temple. I loved it. And much of what I stumbled into by following my curiosity and intuition turned out to be priceless later on. Let me give you one example:</p><p>é‚£äº›æ—¥å­ä¸€ç‚¹å„¿éƒ½ä¸æµªæ¼«ã€‚æˆ‘æ²¡æœ‰å®¿èˆï¼Œåªèƒ½ç¡åœ¨æœ‹å‹æˆ¿é—´çš„åœ°æ¿ä¸Šã€‚æˆ‘å»é€€è¿˜å¯ä¹ç“¶ï¼Œç”¨é‚£äº”åˆ†é’±çš„æŠ¼é‡‘æ¥ä¹°åƒçš„ã€‚æ¯ä¸ªæ˜ŸæœŸå¤©æ™šä¸Šæˆ‘éƒ½è¦èµ°ä¸ƒè‹±é‡Œï¼Œåˆ°åŸé‚£å¤´çš„é»‘å°”-ç§‘é‡Œæ–½çº³ç¤¼æ‹œå ‚å»ï¼Œåƒæ¯å‘¨æ‰èƒ½äº«ç”¨ä¸€æ¬¡çš„ç¾é¤ã€‚æˆ‘å–œæ¬¢è¿™æ ·ã€‚æˆ‘å‡­è‘—å¥½å¥‡å¿ƒå’Œç›´è§‰æ‰€å¹²çš„è¿™äº›äº‹æƒ…ï¼Œæœ‰è®¸å¤šåæ¥éƒ½è¯æ˜æ˜¯æ— ä»·ä¹‹å®ã€‚æˆ‘ç»™å¤§å®¶ä¸¾ä¸ªä¾‹å­:</p><p>Reed College at that time offered perhaps the best calligraphy instruction in the country. Throughout the campus every poster, every label on every drawer, was beautifully hand calligraphed. Because I had dropped out and didnâ€™t have to take the normal classes, I decided to take a calligraphy class to learn how to do this.</p><p>å½“æ—¶ï¼Œé‡Œå¾·å­¦é™¢çš„ä¹¦æ³•è¯¾å¤§æ¦‚æ˜¯å…¨å›½æœ€å¥½çš„ã€‚æ ¡å›­é‡Œæ‰€æœ‰çš„å…¬å‘Šæ å’Œæ¯ä¸ªæŠ½å±‰æ ‡ç­¾ä¸Šçš„å­—éƒ½å†™å¾—éå¸¸æ¼‚äº®ã€‚å½“æ—¶æˆ‘å·²ç»é€€å­¦ï¼Œä¸ç”¨æ­£å¸¸ä¸Šè¯¾ï¼Œæ‰€ä»¥æˆ‘å†³å®šé€‰ä¸€é—¨ä¹¦æ³•è¯¾ï¼Œå­¦å­¦æ€ä¹ˆå†™å¥½å­—ã€‚</p><p>I learned about serif and san serif typefaces, about varying the amount of space between different letter combinations, about what makes great typography great. It was beautiful, historical, artistically subtle in a way that science canâ€™t capture, and I found it fascinating.</p><p>æˆ‘å­¦ä¹ å†™å¸¦çŸ­æˆªçº¿å’Œä¸å¸¦çŸ­æˆªçº¿çš„å°åˆ·å­—ä½“ï¼Œæ ¹æ®ä¸åŒå­—æ¯ç»„åˆè°ƒæ•´å…¶é—´è·ï¼Œä»¥åŠæ€æ ·æŠŠç‰ˆå¼è°ƒæ•´å¾—å¥½ä¸ŠåŠ å¥½ã€‚è¿™é—¨è¯¾å¤ªæ£’äº†ï¼Œæ—¢æœ‰å†å²ä»·å€¼ï¼Œåˆæœ‰è‰ºæœ¯é€ è¯£ï¼Œè¿™ä¸€ç‚¹ç§‘å­¦å°±åšä¸åˆ°ï¼Œè€Œæˆ‘è§‰å¾—å®ƒå¦™ä¸å¯è¨€ã€‚</p><p>None of this had even a hope of any practical application in my life. But ten years later, when we were designing the first Macintosh computer, it all came back to me. And we designed it all into the Mac.</p><p>å½“æ—¶æˆ‘å¹¶ä¸æŒ‡æœ›ä¹¦æ³•åœ¨ä»¥åçš„ç”Ÿæ´»ä¸­èƒ½æœ‰ä»€ä¹ˆå®ç”¨ä»·å€¼ã€‚ä½†æ˜¯ï¼Œåå¹´ä¹‹åï¼Œæˆ‘ä»¬åœ¨è®¾è®¡ç¬¬ä¸€å° Macintosh è®¡ç®—æœºæ—¶ï¼Œå®ƒä¸€ä¸‹å­æµ®ç°åœ¨æˆ‘çœ¼å‰ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬æŠŠè¿™äº›ä¸œè¥¿å…¨éƒ½è®¾è®¡è¿›äº†è®¡ç®—æœºä¸­ã€‚</p><p>It was the first computer with beautiful typography. If I had never dropped in on that single course in college, the Mac would have never had multiple typefaces or proportionally spaced fonts. And since Windows just copied the Mac, its likely that no personal computer would have them.</p><p>è¿™æ˜¯ç¬¬ä¸€å°æœ‰è¿™ä¹ˆæ¼‚äº®çš„æ–‡å­—ç‰ˆå¼çš„è®¡ç®—æœºã€‚è¦ä¸æ˜¯æˆ‘å½“åˆåœ¨å¤§å­¦é‡Œå¶ç„¶é€‰äº†è¿™ä¹ˆä¸€é—¨è¯¾ï¼ŒMacintosh è®¡ç®—æœºç»ä¸ä¼šæœ‰é‚£ä¹ˆå¤šç§å°åˆ·å­—ä½“æˆ–é—´è·å®‰æ’åˆç†çš„å­—å·ã€‚è¦ä¸æ˜¯ Windows ç…§æ¬äº† Macintoshï¼Œä¸ªäººç”µè„‘å¯èƒ½ä¸ä¼šæœ‰è¿™äº›å­—ä½“å’Œå­—å·ã€‚</p><p>If I had never dropped out, I would have never dropped in on this calligraphy class, and personal computers might not have the wonderful typography that they do. Of course it was impossible to connect the dots looking forward when I was in college. But it was very, very clear looking backwards ten years later.</p><p>è¦ä¸æ˜¯é€€äº†å­¦ï¼Œæˆ‘å†³ä¸ä¼šç¢°å·§é€‰äº†è¿™é—¨ä¹¦æ³•è¯¾ï¼Œä¸ªäººç”µè„‘ä¹Ÿå¯èƒ½ä¸ä¼šæœ‰ç°åœ¨è¿™äº›æ¼‚äº®çš„ç‰ˆå¼äº†ã€‚å½“ç„¶ï¼Œæˆ‘åœ¨å¤§å­¦é‡Œä¸å¯èƒ½ä»è¿™ä¸€ç‚¹ä¸Šçœ‹åˆ°å®ƒä¸å°†æ¥çš„å…³ç³»ã€‚åå¹´ä¹‹åå†å›å¤´çœ‹ï¼Œä¸¤è€…ä¹‹é—´çš„å…³ç³»å°±éå¸¸ã€éå¸¸æ¸…æ¥šäº†ã€‚</p><p>Again, you canâ€™t connect the dots looking forward; you can only connect them looking backwards. So you have to trust that the dots will somehow connect in your future. You have to trust in something â€” your gut, destiny, life, karma, whatever. This approach has never let me down, and it has made all the difference in my life.</p><p>ä½ ä»¬åŒæ ·ä¸å¯èƒ½ä»ç°åœ¨è¿™ä¸ªç‚¹ä¸Šçœ‹åˆ°å°†æ¥ï¼›åªæœ‰å›å¤´çœ‹æ—¶ï¼Œæ‰ä¼šå‘ç°å®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚æ‰€ä»¥ï¼Œè¦ç›¸ä¿¡è¿™äº›ç‚¹è¿Ÿæ—©ä¼šè¿æ¥åˆ°ä¸€èµ·ã€‚ä½ ä»¬å¿…é¡»ä¿¡èµ–æŸäº›ä¸œè¥¿â”€ç›´è§‰ã€å½’å®¿ã€ç”Ÿå‘½ï¼Œè¿˜æœ‰ä¸šåŠ›ï¼Œç­‰ç­‰ã€‚è¿™æ ·åšä»æ¥æ²¡æœ‰è®©æˆ‘çš„å¸Œæœ›è½ç©ºè¿‡ï¼Œè€Œä¸”è¿˜å½»åº•æ”¹å˜äº†æˆ‘çš„ç”Ÿæ´»ã€‚</p><p>My second story is about love and loss. I was lucky â€” I found what I loved to do early in life. Woz and I started Apple in my parents garage when I was 20. We worked hard, and in 10 years Apple had grown from just the two of us in a garage into a $2 billion company with over 4000 employees.</p><p>æˆ‘çš„ç¬¬äºŒä¸ªæ•…äº‹æ˜¯å…³äºå¥½æ¶ä¸å¾—å¤±ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘åœ¨å¾ˆå°çš„æ—¶å€™å°±å‘ç°è‡ªå·±å–œæ¬¢åšä»€ä¹ˆã€‚æˆ‘åœ¨ 20 å²æ—¶å’Œæ²ƒå…¹åœ¨æˆ‘çˆ¶æ¯çš„è½¦åº“é‡ŒåŠèµ·äº†è‹¹æœå…¬å¸ã€‚æˆ‘ä»¬å¹²å¾—å¾ˆå–åŠ›ï¼Œåå¹´åï¼Œè‹¹æœå…¬å¸å°±ä»è½¦åº“é‡Œæˆ‘ä»¬ä¸¤ä¸ªäººå‘å±•æˆä¸ºä¸€ä¸ªæ‹¥æœ‰ 20 äº¿å…ƒèµ„äº§ã€4,000 åå‘˜å·¥çš„å¤§ä¼ä¸šã€‚</p><p>We had just released our finest creation â€” the Macintosh â€” a year earlier, and I had just turned 30. And then I got fired. How can you get fired from a company you started? Well, as Apple grew we hired someone who I thought was very talented to run the company with me, and for the first year or so things went well.</p><p>é‚£æ—¶ï¼Œæˆ‘ä»¬åˆšåˆšæ¨å‡ºäº†æˆ‘ä»¬æœ€å¥½çš„äº§å“â”€ Macintosh ç”µè„‘â”€é‚£æ˜¯åœ¨ç¬¬ 9 å¹´ï¼Œæˆ‘åˆšæ»¡ 30 å²ã€‚å¯åæ¥ï¼Œæˆ‘è¢«è§£é›‡äº†ã€‚ä½ æ€ä¹ˆä¼šè¢«è‡ªå·±åŠçš„å…¬å¸è§£é›‡å‘¢?æ˜¯è¿™æ ·ï¼Œéšè‘—è‹¹æœå…¬å¸è¶Šåšè¶Šå¤§ï¼Œæˆ‘ä»¬è˜äº†ä¸€ä½æˆ‘è®¤ä¸ºéå¸¸æœ‰æ‰åçš„äººä¸æˆ‘ä¸€é“ç®¡ç†å…¬å¸ã€‚åœ¨å¼€å§‹çš„ä¸€å¹´å¤šé‡Œï¼Œä¸€åˆ‡éƒ½å¾ˆé¡ºåˆ©ã€‚</p><p>But then our visions of the future began to diverge and eventually we had a falling out. When we did, our Board of Directors sided with him. So at 30 I was out. And very publicly out. What had been the focus of my entire adult life was gone, and it was devastating.</p><p>å¯æ˜¯ï¼Œéšåæˆ‘ä¿©å¯¹å…¬å¸å‰æ™¯çš„çœ‹æ³•å¼€å§‹å‡ºç°åˆ†æ­§ï¼Œæœ€åæˆ‘ä¿©åç›®äº†ã€‚è¿™æ—¶ï¼Œè‘£äº‹ä¼šç«™åœ¨äº†ä»–é‚£ä¸€è¾¹ï¼Œæ‰€ä»¥åœ¨ 30 å²é‚£å¹´ï¼Œæˆ‘ç¦»å¼€äº†å…¬å¸ï¼Œè€Œä¸”è¿™ä»¶äº‹é—¹å¾—æ»¡åŸé£é›¨ã€‚æˆ‘æˆå¹´åçš„æ•´ä¸ªç”Ÿæ´»é‡å¿ƒéƒ½æ²¡æœ‰äº†ï¼Œè¿™ä½¿æˆ‘å¿ƒåŠ›äº¤ç˜ã€‚</p><p>I really didnâ€™t know what to do for a few months. I felt that I had let the previous generation of entrepreneurs down - that I had dropped the baton as it was being passed to me. I met with David Packard and Bob Noyce and tried to apologize for screwing up so badly. I was a very public failure, and I even thought about running away from the valley.</p><p>ä¸€è¿å‡ ä¸ªæœˆï¼Œæˆ‘çœŸçš„ä¸çŸ¥é“åº”è¯¥æ€ä¹ˆåŠã€‚æˆ‘æ„Ÿåˆ°è‡ªå·±ç»™è€ä¸€ä»£çš„åˆ›ä¸šè€…ä¸¢äº†è„¸â”€å› ä¸ºæˆ‘æ‰”æ‰äº†äº¤åˆ°è‡ªå·±æ‰‹é‡Œçš„æ¥åŠ›æ£’ã€‚æˆ‘å»è§äº†æˆ´ç»´å¸•å¡å¾·å’Œé²å‹ƒ.è¯ºä¼Šæ–¯ï¼Œæƒ³ä¸ºæŠŠäº‹æƒ…æå¾—è¿™ä¹ˆç³Ÿç³•è¯´å£°é“æ­‰ã€‚è¿™æ¬¡å¤±è´¥å¼„å¾—æ²¸æ²¸æ‰¬æ‰¬çš„ï¼Œæˆ‘ç”šè‡³æƒ³è¿‡é€ƒç¦»ç¡…è°·ã€‚</p><p>But something slowly began to dawn on me â€” I still loved what I did. The turn of events at Apple had not changed that one bit. I had been rejected, but I was still in love. And so I decided to start over.</p><p>ä½†æ˜¯ï¼Œæ¸æ¸åœ°ï¼Œæˆ‘å¼€å§‹æœ‰äº†ä¸€ä¸ªæƒ³æ³•â”€æˆ‘ä»ç„¶çƒ­çˆ±æˆ‘è¿‡å»åšçš„ä¸€åˆ‡ã€‚åœ¨è‹¹æœå…¬å¸å‘ç”Ÿçš„è¿™äº›é£æ³¢ä¸æ¯«æ²¡æœ‰æ”¹å˜è¿™ä¸€ç‚¹ã€‚æˆ‘è™½ç„¶è¢«æ‹’ä¹‹é—¨å¤–ï¼Œä½†æˆ‘ä»ç„¶æ·±çˆ±æˆ‘çš„äº‹ä¸šã€‚äºæ˜¯ï¼Œæˆ‘å†³å®šä»å¤´å¼€å§‹ã€‚</p><p>I didnâ€™t see it then, but it turned out that getting fired from Apple was the best thing that could have ever happened to me. The heaviness of being successful was replaced by the lightness of being a beginner again, less sure about everything. It freed me to enter one of the most creative periods of my life.</p><p>è™½ç„¶å½“æ—¶æˆ‘å¹¶æ²¡æœ‰æ„è¯†åˆ°ï¼Œä½†äº‹å®è¯æ˜ï¼Œè¢«è‹¹æœå…¬å¸ç‚’é±¿é±¼æ˜¯æˆ‘ä¸€ç”Ÿä¸­ç¢°åˆ°çš„æœ€å¥½çš„äº‹æƒ…ã€‚å°½ç®¡å‰æ™¯æœªåœï¼Œä½†ä»å¤´å¼€å§‹çš„è½»æ¾æ„Ÿå–ä»£äº†ä¿æŒæˆåŠŸçš„æ²‰é‡æ„Ÿã€‚è¿™ä½¿æˆ‘è¿›å…¥äº†ä¸€ç”Ÿä¸­æœ€å¯Œæœ‰åˆ›é€ åŠ›çš„æ—¶æœŸä¹‹ä¸€ã€‚</p><p>During the next five years, I started a company named NeXT, another company named Pixar, and fell in love with an amazing woman who would become my wife. Pixar went on to create the worlds first computer animated feature film, Toy Story, and is now the most successful animation studio in the world.</p><p>åœ¨æ­¤åçš„äº”å¹´é‡Œï¼Œæˆ‘å¼€äº†ä¸€å®¶åå« NeXT çš„å…¬å¸å’Œä¸€å®¶å«çš®å…‹æ–¯çš„å…¬å¸ï¼Œæˆ‘è¿˜çˆ±ä¸Šä¸€ä½äº†ä¸èµ·çš„å¥³äººï¼Œåæ¥å¨¶äº†å¥¹ã€‚çš®å…‹æ–¯å…¬å¸æ¨å‡ºäº†ä¸–ç•Œä¸Šç¬¬ä¸€éƒ¨ç”¨ç”µè„‘åˆ¶ä½œçš„åŠ¨ç”»ç‰‡ã€Šç©å…·æ€»åŠ¨å‘˜ã€‹(Toy Story)ï¼Œå®ƒç°åœ¨æ˜¯å…¨çƒæœ€æˆåŠŸçš„åŠ¨ç”»åˆ¶ä½œå®¤ã€‚</p><p>In a remarkable turn of events, Apple bought NeXT, I retuned to Apple, and the technology we developed at NeXT is at the heart of Appleâ€™s current renaissance. And Laurene and I have a wonderful family together.</p><p>ä¸–é“è½®å›ï¼Œè‹¹æœå…¬å¸ä¹°ä¸‹ NeXT åï¼Œæˆ‘åˆå›åˆ°äº†è‹¹æœå…¬å¸ï¼Œæˆ‘ä»¬åœ¨ NeXT å…¬å¸å¼€å‘çš„æŠ€æœ¯æˆäº†è‹¹æœå…¬å¸è¿™æ¬¡é‡æ–°å´›èµ·çš„æ ¸å¿ƒã€‚æˆ‘å’ŒåŠ³ä¼¦å¨œ(Laurene)ä¹Ÿå»ºç«‹äº†ç¾æ»¡çš„å®¶åº­ã€‚</p><p>Iâ€™m pretty sure none of this would have happened if I hadnâ€™t been fired from Apple. It was awful tasting medicine, but I guess the patient needed it. Sometimes life hits you in the head with a brick. Donâ€™t lose faith. Iâ€™m convinced that the only thing that kept me going was that I loved what I did.</p><p>æˆ‘ç¡®ä¿¡ï¼Œå¦‚æœä¸æ˜¯è¢«è‹¹æœå…¬å¸è§£é›‡ï¼Œè¿™ä¸€åˆ‡å†³ä¸å¯èƒ½å‘ç”Ÿã€‚è¿™æ˜¯ä¸€å‰‚è‹¦è¯ï¼Œå¯æˆ‘è®¤ä¸ºè‹¦è¯åˆ©äºç—…ã€‚æœ‰æ—¶ç”Ÿæ´»ä¼šå½“å¤´ç»™ä½ ä¸€æ£’ï¼Œä½†ä¸è¦ç°å¿ƒã€‚æˆ‘åšä¿¡è®©æˆ‘ä¸€å¾€æ— å‰çš„å”¯ä¸€åŠ›é‡å°±æ˜¯æˆ‘çƒ­çˆ±æˆ‘æ‰€åšçš„ä¸€åˆ‡ã€‚</p><p>Youâ€™ve got to find what you love. And that is as true for your work as it is for your lovers. Your work is going to fill a large part of your life, and the only way to be truly satisfied is to do what you believe is great work. And the only way to do great work is to love what you do.</p><p>æ‰€ä»¥ï¼Œä¸€å®šå¾—çŸ¥é“è‡ªå·±å–œæ¬¢ä»€ä¹ˆï¼Œé€‰æ‹©çˆ±äººæ—¶å¦‚æ­¤ï¼Œé€‰æ‹©å·¥ä½œæ—¶åŒæ ·å¦‚æ­¤ã€‚å·¥ä½œå°†æ˜¯ç”Ÿæ´»ä¸­çš„ä¸€å¤§éƒ¨åˆ†ï¼Œè®©è‡ªå·±çœŸæ­£æ»¡æ„çš„å”¯ä¸€åŠæ³•ï¼Œæ˜¯åšè‡ªå·±è®¤ä¸ºæ˜¯æœ‰æ„ä¹‰çš„å·¥ä½œ;åšæœ‰æ„ä¹‰çš„å·¥ä½œçš„å”¯ä¸€åŠæ³•ï¼Œæ˜¯çƒ­çˆ±è‡ªå·±çš„å·¥ä½œã€‚</p><p>If you havenâ€™t found it yet, keep looking. Donâ€™t settle. As with all matters of the heart, youâ€™ll know when you find it. And, like any great relationship, it just gets better and better as the years roll on. So keep looking until you find it. Donâ€™t settle.</p><p>ä½ ä»¬å¦‚æœè¿˜æ²¡æœ‰å‘ç°è‡ªå·±å–œæ¬¢ä»€ä¹ˆï¼Œé‚£å°±ä¸æ–­åœ°å»å¯»æ‰¾ï¼Œä¸è¦æ€¥äºåšå‡ºå†³å®šã€‚å°±åƒä¸€åˆ‡è¦å‡­ç€æ„Ÿè§‰å»åšçš„äº‹æƒ…ä¸€æ ·ï¼Œä¸€æ—¦æ‰¾åˆ°äº†è‡ªå·±å–œæ¬¢çš„äº‹ï¼Œæ„Ÿè§‰å°±ä¼šå‘Šè¯‰ä½ ã€‚å°±åƒä»»ä½•ä¸€ç§ç¾å¦™çš„ä¸œè¥¿ï¼Œå†ä¹…å¼¥æ–°ã€‚æ‰€ä»¥è¯´ï¼Œè¦ä¸æ–­åœ°å¯»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„ä¸œè¥¿ã€‚ä¸è¦åŠé€”è€ŒåºŸã€‚</p><p>My third story is about death. When I was 17, I read a quote that went something like: â€œIf you live each day as if it was your last, someday youâ€™ll most certainly be right.â€ It made an impression on me, and since then, for the past 33 years, I have looked in the mirror every morning and asked myself: â€œIf today were the last day of my life, would I want to do what I am about to do today?â€ And whenever the answer has been â€œNoâ€ for too many days in a row, I know I need to change something.</p><p>æˆ‘çš„ç¬¬ä¸‰ä¸ªæ•…äº‹ä¸æ­»äº¡æœ‰å…³ã€‚17 å²é‚£å¹´ï¼Œæˆ‘è¯»åˆ°è¿‡è¿™æ ·ä¸€æ®µè¯ï¼Œå¤§æ„æ˜¯:â€œå¦‚æœæŠŠæ¯ä¸€å¤©éƒ½å½“ä½œç”Ÿå‘½çš„æœ€åä¸€å¤©ï¼Œæ€»æœ‰ä¸€å¤©ä½ ä¼šå¦‚æ„¿ä»¥å¿ã€‚â€æˆ‘è®°ä½äº†è¿™å¥è¯ï¼Œä»é‚£æ—¶èµ·ï¼Œ33 å¹´è¿‡å»äº†ï¼Œæˆ‘æ¯å¤©æ—©æ™¨éƒ½å¯¹ç€é•œå­è‡ªé—®: â€œå‡å¦‚ä»Šå¤©æ˜¯ç”Ÿå‘½çš„æœ€åä¸€å¤©ï¼Œæˆ‘è¿˜ä¼šå»åšä»Šå¤©è¦åšçš„äº‹å—?â€å¦‚æœä¸€è¿è®¸å¤šå¤©æˆ‘çš„å›ç­”éƒ½æ˜¯â€œä¸â€ï¼Œæˆ‘çŸ¥é“è‡ªå·±åº”è¯¥æœ‰æ‰€æ”¹å˜äº†ã€‚</p><p>Remembering that Iâ€™ll be dead soon is the most important tool Iâ€™ve ever encountered to help me make the big choices in life. Because almost everything â€” all external expectations, all pride, all fear of embarrassment or failure - these things just fall away in the face of death, leaving only what is truly important. Remembering that you are going to die is the best way I know to avoid the trap of thinking you have something to lose. You are already naked. There is no reason not to follow your heart.</p><p>è®©æˆ‘èƒ½å¤Ÿåšå‡ºäººç”Ÿé‡å¤§æŠ‰æ‹©çš„æœ€ä¸»è¦åŠæ³•æ˜¯ï¼Œè®°ä½ç”Ÿå‘½éšæ—¶éƒ½æœ‰å¯èƒ½ç»“æŸã€‚å› ä¸ºå‡ ä¹æ‰€æœ‰çš„ä¸œè¥¿â”€æ‰€æœ‰å¯¹è‡ªèº«ä¹‹å¤–çš„å¸Œæ±‚ã€æ‰€æœ‰çš„å°Šä¸¥ã€æ‰€æœ‰å¯¹å›°çª˜å’Œå¤±è´¥çš„ææƒ§â”€åœ¨æ­»äº¡æ¥ä¸´æ—¶éƒ½å°†ä¸å¤å­˜åœ¨ï¼Œåªå‰©ä¸‹çœŸæ­£é‡è¦çš„ä¸œè¥¿ã€‚è®°ä½è‡ªå·±éšæ—¶éƒ½ä¼šæ­»å»ï¼Œè¿™æ˜¯æˆ‘æ‰€çŸ¥é“çš„é˜²æ­¢æ‚£å¾—æ‚£å¤±çš„æœ€å¥½æ–¹æ³•ã€‚ä½ å·²ç»ä¸€æ— æ‰€æœ‰äº†ï¼Œè¿˜æœ‰ä»€ä¹ˆç†ç”±ä¸è·Ÿç€è‡ªå·±çš„æ„Ÿè§‰èµ°å‘¢ã€‚</p><p>About a year ago I was diagnosed with cancer. I had a scan at 7:30 in the morning, and it clearly showed a tumor on my pancreas. I didnâ€™t even know what a pancreas was. The doctors told me this was almost certainly a type of cancer that is incurable, and that I should expect to live no longer than three to six months.</p><p>å¤§çº¦ä¸€å¹´å‰ï¼Œæˆ‘è¢«è¯Šæ–­æ‚£äº†ç™Œç—‡ã€‚é‚£å¤©æ—©ä¸Šä¸ƒç‚¹åŠï¼Œæˆ‘åšäº†ä¸€æ¬¡æ‰«ææ£€æŸ¥ï¼Œç»“æœæ¸…æ¥šåœ°è¡¨æ˜æˆ‘çš„èƒ°è…ºä¸Šé•¿äº†ä¸€ä¸ªç˜¤å­ï¼Œå¯é‚£æ—¶æˆ‘è¿èƒ°è…ºæ˜¯ä»€ä¹ˆè¿˜ä¸çŸ¥é“å‘¢!åŒ»ç”Ÿå‘Šè¯‰æˆ‘è¯´ï¼Œå‡ ä¹å¯ä»¥ç¡®è¯Šè¿™æ˜¯ä¸€ç§æ— æ³•æ²»æ„ˆçš„æ¶æ€§è‚¿ç˜¤ï¼Œæˆ‘æœ€å¤šè¿˜èƒ½æ´» 3 åˆ° 6 ä¸ªæœˆã€‚</p><p>My doctor advised me to go home and get my affairs in order, which is doctorâ€™s code for prepare to die. It means to try to tell your kids everything you thought youâ€™d have the next 10 years to tell them in just a few months. It means to make sure everything is buttoned up so that it will be as easy as possible for your family. It means to say your goodbyes.</p><p>åŒ»ç”Ÿå»ºè®®æˆ‘å›å»æŠŠä¸€åˆ‡éƒ½å®‰æ’å¥½ï¼Œå…¶å®è¿™æ˜¯åœ¨æš—ç¤ºâ€œå‡†å¤‡åäº‹â€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠä»Šååå¹´è¦è·Ÿå­©å­ä»¬è¯´çš„äº‹æƒ…åœ¨è¿™å‡ ä¸ªæœˆå†…å˜±å’å®Œ;ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠä¸€åˆ‡éƒ½å®‰æ’å¦¥å½“ï¼Œå°½å¯èƒ½ä¸ç»™å®¶äººç•™éº»çƒ¦ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå»è·Ÿå¤§å®¶è¯€åˆ«ã€‚</p><p>I lived with that diagnosis all day. Later that evening I had a biopsy, where they stuck an endoscope down my throat, through my stomach and into my intestines, put a needle into my pancreas and got a few cells from the tumor. I was sedated, but my wife, who was there, told me that when they viewed the cells under a microscope the doctors started crying because it turned out to be a very rare form of pancreatic cancer that is curable with surgery. I had the surgery and Iâ€™m fine now.</p><p>é‚£ä¸€æ•´å¤©é‡Œï¼Œæˆ‘çš„è„‘å­ä¸€ç›´æ²¡ç¦»å¼€è¿™ä¸ªè¯Šæ–­ã€‚åˆ°äº†æ™šä¸Šï¼Œæˆ‘åšäº†ä¸€æ¬¡ç»„ç»‡åˆ‡ç‰‡æ£€æŸ¥ï¼Œä»–ä»¬æŠŠä¸€ä¸ªå†…çª¥é•œé€šè¿‡å–‰å’™ç©¿è¿‡æˆ‘çš„èƒƒè¿›å…¥è‚ å­ï¼Œç”¨é’ˆå¤´åœ¨èƒ°è…ºçš„ç˜¤å­ä¸Šå–äº†ä¸€äº›ç»†èƒç»„ç»‡ã€‚å½“æ—¶æˆ‘ç”¨äº†éº»é†‰å‰‚ï¼Œé™ªåœ¨ä¸€æ—çš„å¦»å­åæ¥å‘Šè¯‰æˆ‘ï¼ŒåŒ»ç”Ÿåœ¨æ˜¾å¾®é•œé‡Œçœ‹äº†ç»†èƒä¹‹åå«äº†èµ·æ¥ï¼ŒåŸæ¥è¿™æ˜¯ä¸€ç§å°‘è§çš„å¯ä»¥é€šè¿‡å¤–ç§‘æ‰‹æœ¯æ²»æ„ˆçš„æ¶æ€§è‚¿ç˜¤ã€‚æˆ‘åšäº†æ‰‹æœ¯ï¼Œç°åœ¨å¥½äº†ã€‚</p><p>This was the closest Iâ€™ve been to facing death, and I hope its the closest I get for a few more decades. Having lived through it, I can now say this to you with a bit more certainty than when death was a useful but purely intellectual concept:No one wants to die. Even people who want to go to heaven donâ€™t want to die to get there. And yet death is the destination we all share.</p><p>è¿™æ˜¯æˆ‘å’Œæ­»ç¥ç¦»å¾—æœ€è¿‘çš„ä¸€æ¬¡ï¼Œæˆ‘å¸Œæœ›ä¹Ÿæ˜¯ä»Šåå‡ åå¹´é‡Œæœ€è¿‘çš„ä¸€æ¬¡ã€‚æœ‰äº†è¿™æ¬¡ç»å†ä¹‹åï¼Œç°åœ¨æˆ‘å¯ä»¥æ›´åŠ å®åœ¨åœ°å’Œä½ ä»¬è°ˆè®ºæ­»äº¡ï¼Œè€Œä¸æ˜¯çº¯ç²¹çº¸ä¸Šè°ˆå…µï¼Œé‚£å°±æ˜¯: è°éƒ½ä¸æ„¿æ„æ­»ã€‚å°±æ˜¯é‚£äº›æƒ³è¿›å¤©å ‚çš„äººä¹Ÿä¸æ„¿æ„æ­»åå†è¿›ã€‚ç„¶è€Œï¼Œæ­»äº¡æ˜¯æˆ‘ä»¬å…±åŒçš„å½’å®¿ï¼Œæ²¡äººèƒ½æ‘†è„±ã€‚</p><p>No one has ever escaped it. And that is as it should be, because Death is very likely the single best invention of Life. It is Lifeâ€™s change agent. It clears out the old to make way for the new. Right now the new is you, but someday not too long from now, you will gradually become the old and be cleared away. Sorry to be so dramatic, but it is quite true.</p><p>æˆ‘ä»¬æ³¨å®šä¼šæ­»ï¼Œå› ä¸ºæ­»äº¡å¾ˆå¯èƒ½æ˜¯ç”Ÿå‘½æœ€å¥½çš„ä¸€é¡¹å‘æ˜ã€‚å®ƒæ¨è¿›ç”Ÿå‘½çš„å˜è¿ï¼Œæ—§çš„ä¸å»ï¼Œæ–°çš„ä¸æ¥ã€‚ç°åœ¨ï¼Œä½ ä»¬å°±æ˜¯æ–°çš„ï¼Œä½†åœ¨ä¸ä¹…çš„å°†æ¥ï¼Œä½ ä»¬ä¹Ÿä¼šé€æ¸æˆä¸ºæ—§çš„ï¼Œä¹Ÿä¼šè¢«æ·˜æ±°ã€‚å¯¹ä¸èµ·ï¼Œè¯è¯´å¾—å¤ªè¿‡åˆ†äº†ï¼Œä¸è¿‡è¿™æ˜¯åƒçœŸä¸‡ç¡®çš„ã€‚</p><p>Your time is limited, so donâ€™t waste it living someone elseâ€™s life. Donâ€™t be trapped by dogma â€” which is living with the results of other peopleâ€™s thinking. Donâ€™t let the noise of othersâ€™ opinions drown out your own inner voice. And most important, have the courage to follow your heart and intuition. They somehow already know what you truly want to become. Everything else is secondary.</p><p>ä½ ä»¬çš„æ—¶é—´éƒ½æœ‰é™ï¼Œæ‰€ä»¥ä¸è¦æŒ‰ç…§åˆ«äººçš„æ„æ„¿å»æ´»ï¼Œè¿™æ˜¯æµªè´¹æ—¶é—´ã€‚ä¸è¦å›¿äºæˆè§ï¼Œé‚£æ˜¯åœ¨æŒ‰ç…§åˆ«äººè®¾æƒ³çš„ç»“æœè€Œæ´»ã€‚ä¸è¦è®©åˆ«äººè§‚ç‚¹çš„è’å™ªå£°æ·¹æ²¡è‡ªå·±çš„å¿ƒå£°ã€‚æœ€ä¸»è¦çš„æ˜¯ï¼Œè¦æœ‰è·Ÿç€è‡ªå·±æ„Ÿè§‰å’Œç›´è§‰èµ°çš„å‹‡æ°”ã€‚æ— è®ºå¦‚ä½•ï¼Œæ„Ÿè§‰å’Œç›´è§‰æ—©å°±çŸ¥é“ä½ åˆ°åº•æƒ³æˆä¸ºä»€ä¹ˆæ ·çš„äººï¼Œå…¶ä»–éƒ½æ˜¯æ¬¡è¦çš„ã€‚</p><p>When I was young, there was an amazing publication called The Whole Earth Catalog, which was one of the bibles of my generation. It was created by a fellow named Stewart Brand not far from here in Menlo Park, and he brought it to life with his poetic touch.</p><p>æˆ‘å¹´è½»æ—¶æœ‰ä¸€æœ¬éå¸¸å¥½çš„åˆŠç‰©ï¼Œå«ã€Šå…¨çƒæ¦‚è§ˆã€‹ï¼Œè¿™æ˜¯æˆ‘é‚£ä»£äººçš„å®ä¹¦ä¹‹ä¸€ï¼Œåˆ›åŠäººåå«æ–¯å›¾å°”ç‰¹å¸ƒå…°å¾·ï¼Œå°±ä½åœ¨ç¦»è¿™å„¿ä¸è¿œçš„é—¨æ´›å¸•å…‹å¸‚ã€‚ä»–ç”¨è¯—ä¸€èˆ¬çš„è¯­è¨€æŠŠåˆŠç‰©åŠå¾—ç”ŸåŠ¨æ´»æ³¼ã€‚</p><p>This was in the late 1960â€™s, before personal computers and desktop publishing, so it was all made with typewriters, scissors, and polaroid cameras. It was sort of like Google in paperback form, 35 years before Google came along: it was idealistic, and overflowing with neat tools and great notions.</p><p>é‚£æ˜¯ 20 ä¸–çºª 60 å¹´ä»£æœ«ï¼Œè¿˜æ²¡æœ‰ä¸ªäººç”µè„‘å’Œæ¡Œé¢å°åˆ·ç³»ç»Ÿï¼Œå…¨é æ‰“å­—æœºã€å‰ªåˆ€å’Œå®ä¸½è±ç…§ç›¸æœºã€‚å®ƒå°±åƒä¸€ç§çº¸è´¨çš„ Googleï¼Œå´æ¯” Google æ—©é—®ä¸–äº† 35 å¹´ã€‚è¿™ä»½åˆŠç‰©å¤ªå®Œç¾äº†ï¼ŒæŸ¥é˜…æ‰‹æ®µé½å¤‡ã€æ„æ€ä¸å‡¡ã€‚</p><p>Stewart and his team put out several issues of The Whole Earth Catalog, and then when it had run its course, they put out a final issue. It was the mid-1970s, and I was your age.</p><p>æ–¯å›¾å°”ç‰¹å’Œä»–çš„åŒäº‹ä»¬å‡ºäº†å¥½å‡ æœŸã€Šå…¨çƒæ¦‚è§ˆã€‹ï¼Œåˆ°æœ€ååŠä¸ä¸‹å»æ—¶ï¼Œä»–ä»¬å‡ºäº†æœ€åä¸€æœŸã€‚é‚£æ˜¯ 20 ä¸–çºª 70 å¹´ä»£ä¸­æœŸï¼Œæˆ‘ä¹Ÿå°±æ˜¯ä½ ä»¬ç°åœ¨çš„å¹´çºªã€‚</p><p>On the back cover of their final issue was a photograph of an early morning country road, the kind you might find yourself hitchhiking on if you were so adventurous. Beneath it were the words: â€œStay Hungry. Stay Foolish.â€ It was their farewell message as they signed off. Stay Hungry. Stay Foolish. And I have always wished that for myself.</p><p>æœ€åä¸€æœŸçš„å°åº•ä¸Šæ˜¯ä¸€å¼ æ¸…æ™¨ä¹¡é—´å°è·¯çš„ç…§ç‰‡ï¼Œå°±æ˜¯é‚£ç§çˆ±å†’é™©çš„äººç­‰åœ¨é‚£å„¿æ­ä¾¿è½¦çš„é‚£ç§å°è·¯ã€‚ç…§ç‰‡ä¸‹é¢å†™é“: æ±‚çŸ¥è‹¥é¥¥ã€è™šå¿ƒè‹¥æ„šã€‚é‚£æ˜¯ä»–ä»¬åœåˆŠå‰çš„å‘Šåˆ«è¯­ã€‚æ±‚çŸ¥è‹¥æ¸´ï¼Œå¤§æ™ºè‹¥æ„šã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä¸€ç›´æƒ³åšåˆ°çš„ã€‚</p><p>And now, as you graduate to begin anew, I wish that for you. Stay Hungry. Stay Foolish.</p><p>çœ¼ä¸‹æ­£å€¼è¯¸ä½å¤§å­¦æ¯•ä¸šã€å¼€å§‹æ–°ç”Ÿæ´»ä¹‹é™…ï¼Œæˆ‘åŒæ ·æ„¿å¤§å®¶ï¼šæ±‚çŸ¥è‹¥é¥¥ã€è™šå¿ƒè‹¥æ„šã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190922204331298.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RhdGFpeWFuZ3U=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></div></div><!-- rebuild by neat -->]]></content>
      <categories>
        <category>TED</category>
      </categories>
      <tags>
        <tag>TED</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€ç¯‡æ–‡ç« è®©ä½ å½»åº•æŒæ¡ shell è¯­è¨€</title>
    <url>/2020/06/01/%E4%B8%80%E6%96%87%E4%BA%86%E8%A7%A3Shell/</url>
    <content><![CDATA[<!-- build time:Thu Jun 18 2020 19:51:08 GMT+0800 (GMT+08:00) --><h1 id="ä¸€ç¯‡æ–‡ç« è®©ä½ å½»åº•æŒæ¡-shell-è¯­è¨€"><a href="#ä¸€ç¯‡æ–‡ç« è®©ä½ å½»åº•æŒæ¡-shell-è¯­è¨€" class="headerlink" title="ä¸€ç¯‡æ–‡ç« è®©ä½ å½»åº•æŒæ¡ shell è¯­è¨€"></a>ä¸€ç¯‡æ–‡ç« è®©ä½ å½»åº•æŒæ¡ shell è¯­è¨€</h1><blockquote><p>ç”±äº bash æ˜¯ Linux æ ‡å‡†é»˜è®¤çš„ shell è§£é‡Šå™¨ï¼Œå¯ä»¥è¯´ bash æ˜¯ shell ç¼–ç¨‹çš„åŸºç¡€ã€‚</p><p>æœ¬æ–‡ä¸»è¦ä»‹ç» bash çš„è¯­æ³•ï¼Œå¯¹äº linux æŒ‡ä»¤ä¸åšä»»ä½•ä»‹ç»ã€‚</p><p>ğŸ““ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼š<a href="https://github.com/dunwu/notes" target="_blank" rel="noopener">notes</a><br>âŒ¨ï¸ æœ¬æ–‡çš„æºç å·²å½’æ¡£åˆ° <a href="https://github.com/dunwu/os-tutorial/tree/master/codes/shell/demos" target="_blank" rel="noopener">os-tutorial</a></p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—	â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—	â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—	â–ˆâ–ˆâ•—     	â–ˆâ–ˆâ•—</span><br><span class="line">â–ˆâ–ˆâ•”â•â•â•â•â•	â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘	â–ˆâ–ˆâ•”â•â•â•â•â•	â–ˆâ–ˆâ•‘     	â–ˆâ–ˆâ•‘</span><br><span class="line">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—	â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘	â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  	â–ˆâ–ˆâ•‘     	â–ˆâ–ˆâ•‘</span><br><span class="line">â•šâ•â•â•â•â–ˆâ–ˆâ•‘	â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘	â–ˆâ–ˆâ•”â•â•â•  	â–ˆâ–ˆâ•‘     	â–ˆâ–ˆâ•‘</span><br><span class="line">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘	â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘	â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—	â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—	â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—</span><br></pre></td></tr></table></figure><h2 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1. ç®€ä»‹"></a>1. ç®€ä»‹</h2><h3 id="1-1-ä»€ä¹ˆæ˜¯-shell"><a href="#1-1-ä»€ä¹ˆæ˜¯-shell" class="headerlink" title="1.1. ä»€ä¹ˆæ˜¯ shell"></a>1.1. ä»€ä¹ˆæ˜¯ shell</h3><ul><li>Shell æ˜¯ä¸€ä¸ªç”¨ C è¯­è¨€ç¼–å†™çš„ç¨‹åºï¼Œå®ƒæ˜¯ç”¨æˆ·ä½¿ç”¨ Linux çš„æ¡¥æ¢ã€‚</li><li>Shell æ—¢æ˜¯ä¸€ç§å‘½ä»¤è¯­è¨€ï¼Œåˆæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡è¯­è¨€ã€‚</li><li>Shell æ˜¯æŒ‡ä¸€ç§åº”ç”¨ç¨‹åºï¼Œè¿™ä¸ªåº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªç•Œé¢ï¼Œç”¨æˆ·é€šè¿‡è¿™ä¸ªç•Œé¢è®¿é—® Linux å†…æ ¸çš„æœåŠ¡ã€‚</li></ul><p>Ken Thompson çš„ sh æ˜¯ç¬¬ä¸€ç§ Unix Shellï¼ŒWindows Explorer æ˜¯ä¸€ä¸ªå…¸å‹çš„å›¾å½¢ç•Œé¢ Shellã€‚</p><h3 id="1-2-ä»€ä¹ˆæ˜¯-shell-è„šæœ¬"><a href="#1-2-ä»€ä¹ˆæ˜¯-shell-è„šæœ¬" class="headerlink" title="1.2. ä»€ä¹ˆæ˜¯ shell è„šæœ¬"></a>1.2. ä»€ä¹ˆæ˜¯ shell è„šæœ¬</h3><p>Shell è„šæœ¬ï¼ˆshell scriptï¼‰ï¼Œæ˜¯ä¸€ç§ä¸º shell ç¼–å†™çš„è„šæœ¬ç¨‹åºï¼Œä¸€èˆ¬æ–‡ä»¶åç¼€ä¸º <code>.sh</code>ã€‚</p><p>ä¸šç•Œæ‰€è¯´çš„ shell é€šå¸¸éƒ½æ˜¯æŒ‡ shell è„šæœ¬ï¼Œä½† shell å’Œ shell script æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µã€‚</p><h3 id="1-3-Shell-ç¯å¢ƒ"><a href="#1-3-Shell-ç¯å¢ƒ" class="headerlink" title="1.3. Shell ç¯å¢ƒ"></a>1.3. Shell ç¯å¢ƒ</h3><p>Shell ç¼–ç¨‹è·Ÿ javaã€php ç¼–ç¨‹ä¸€æ ·ï¼Œåªè¦æœ‰ä¸€ä¸ªèƒ½ç¼–å†™ä»£ç çš„æ–‡æœ¬ç¼–è¾‘å™¨å’Œä¸€ä¸ªèƒ½è§£é‡Šæ‰§è¡Œçš„è„šæœ¬è§£é‡Šå™¨å°±å¯ä»¥äº†ã€‚</p><p>Shell çš„è§£é‡Šå™¨ç§ç±»ä¼—å¤šï¼Œå¸¸è§çš„æœ‰ï¼š</p><ul><li><a href="https://www.gnu.org/software/bash/" target="_blank" rel="noopener">sh</a> - å³ Bourne Shellã€‚sh æ˜¯ Unix æ ‡å‡†é»˜è®¤çš„ shellã€‚</li><li><a href="https://www.gnu.org/software/bash/" target="_blank" rel="noopener">bash</a> - å³ Bourne Again Shellã€‚bash æ˜¯ Linux æ ‡å‡†é»˜è®¤çš„ shellã€‚</li><li><a href="https://fishshell.com/" target="_blank" rel="noopener">fish</a> - æ™ºèƒ½å’Œç”¨æˆ·å‹å¥½çš„å‘½ä»¤è¡Œ shellã€‚</li><li><a href="http://xiki.org/" target="_blank" rel="noopener">xiki</a> - ä½¿ shell æ§åˆ¶å°æ›´å‹å¥½ï¼Œæ›´å¼ºå¤§ã€‚</li><li><a href="http://www.zsh.org/" target="_blank" rel="noopener">zsh</a> - åŠŸèƒ½å¼ºå¤§çš„ shell ä¸è„šæœ¬è¯­è¨€ã€‚</li></ul><h4 id="æŒ‡å®šè„šæœ¬è§£é‡Šå™¨"><a href="#æŒ‡å®šè„šæœ¬è§£é‡Šå™¨" class="headerlink" title="æŒ‡å®šè„šæœ¬è§£é‡Šå™¨"></a>æŒ‡å®šè„šæœ¬è§£é‡Šå™¨</h4><p>åœ¨ shell è„šæœ¬ï¼Œ<code>#!</code> å‘Šè¯‰ç³»ç»Ÿå…¶åè·¯å¾„æ‰€æŒ‡å®šçš„ç¨‹åºå³æ˜¯è§£é‡Šæ­¤è„šæœ¬æ–‡ä»¶çš„ Shell è§£é‡Šå™¨ã€‚<code>#!</code> è¢«ç§°ä½œ<a href="https://zh.wikipedia.org/wiki/Shebang" target="_blank" rel="noopener">shebangï¼ˆä¹Ÿç§°ä¸º Hashbang ï¼‰</a>ã€‚</p><p>æ‰€ä»¥ï¼Œä½ åº”è¯¥ä¼šåœ¨ shell ä¸­ï¼Œè§åˆ°è¯¸å¦‚ä»¥ä¸‹çš„æ³¨é‡Šï¼š</p><ul><li>æŒ‡å®š sh è§£é‡Šå™¨</li></ul><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br></pre></td></tr></table></figure><ul><li>æŒ‡å®š bash è§£é‡Šå™¨</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„</strong></p><p>ä¸Šé¢çš„æŒ‡å®šè§£é‡Šå™¨çš„æ–¹å¼æ˜¯æ¯”è¾ƒå¸¸è§çš„ï¼Œä½†æœ‰æ—¶å€™ï¼Œä½ å¯èƒ½ä¹Ÿä¼šçœ‹åˆ°ä¸‹é¢çš„æ–¹å¼ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åœ¨ <code>PATH</code> ç¯å¢ƒå˜é‡ä¸­æŸ¥æ‰¾ä½ æŒ‡å®šçš„ç¨‹åºï¼ˆæœ¬ä¾‹ä¸­çš„<code>bash</code>ï¼‰ã€‚ç›¸æ¯”ç¬¬ä¸€ç§å†™æ³•ï¼Œä½ åº”è¯¥å°½é‡ç”¨è¿™ç§å†™æ³•ï¼Œå› ä¸ºç¨‹åºçš„è·¯å¾„æ˜¯ä¸ç¡®å®šçš„ã€‚è¿™æ ·å†™è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œæ“ä½œç³»ç»Ÿçš„<code>PATH</code>å˜é‡æœ‰å¯èƒ½è¢«é…ç½®ä¸ºæŒ‡å‘ç¨‹åºçš„å¦ä¸€ä¸ªç‰ˆæœ¬ã€‚æ¯”å¦‚ï¼Œå®‰è£…å®Œæ–°ç‰ˆæœ¬çš„<code>bash</code>ï¼Œæˆ‘ä»¬å¯èƒ½å°†å…¶è·¯å¾„æ·»åŠ åˆ°<code>PATH</code>ä¸­ï¼Œæ¥â€œéšè—â€è€ç‰ˆæœ¬ã€‚å¦‚æœç›´æ¥ç”¨<code>#!/bin/bash</code>ï¼Œé‚£ä¹ˆç³»ç»Ÿä¼šé€‰æ‹©è€ç‰ˆæœ¬çš„<code>bash</code>æ¥æ‰§è¡Œè„šæœ¬ï¼Œå¦‚æœç”¨<code>#!/usr/bin/env bash</code>ï¼Œåˆ™ä¼šä½¿ç”¨æ–°ç‰ˆæœ¬ã€‚</p></blockquote><h3 id="1-4-æ¨¡å¼"><a href="#1-4-æ¨¡å¼" class="headerlink" title="1.4. æ¨¡å¼"></a>1.4. æ¨¡å¼</h3><p>shell æœ‰äº¤äº’å’Œéäº¤äº’ä¸¤ç§æ¨¡å¼ã€‚</p><h4 id="äº¤äº’æ¨¡å¼"><a href="#äº¤äº’æ¨¡å¼" class="headerlink" title="äº¤äº’æ¨¡å¼"></a>äº¤äº’æ¨¡å¼</h4><blockquote><p>ç®€å•æ¥è¯´ï¼Œä½ å¯ä»¥å°† shell çš„äº¤äº’æ¨¡å¼ç†è§£ä¸ºæ‰§è¡Œå‘½ä»¤è¡Œã€‚</p></blockquote><p>çœ‹åˆ°å½¢å¦‚ä¸‹é¢çš„ä¸œè¥¿ï¼Œè¯´æ˜ shell å¤„äºäº¤äº’æ¨¡å¼ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@host:~$</span><br></pre></td></tr></table></figure><p>æ¥ç€ï¼Œä¾¿å¯ä»¥è¾“å…¥ä¸€ç³»åˆ— Linux å‘½ä»¤ï¼Œæ¯”å¦‚ <code>ls</code>ï¼Œ<code>grep</code>ï¼Œ<code>cd</code>ï¼Œ<code>mkdir</code>ï¼Œ<code>rm</code> ç­‰ç­‰ã€‚</p><h4 id="éäº¤äº’æ¨¡å¼"><a href="#éäº¤äº’æ¨¡å¼" class="headerlink" title="éäº¤äº’æ¨¡å¼"></a>éäº¤äº’æ¨¡å¼</h4><blockquote><p>ç®€å•æ¥è¯´ï¼Œä½ å¯ä»¥å°† shell çš„éäº¤äº’æ¨¡å¼ç†è§£ä¸ºæ‰§è¡Œ shell è„šæœ¬ã€‚</p></blockquote><p>åœ¨éäº¤äº’æ¨¡å¼ä¸‹ï¼Œshell ä»æ–‡ä»¶æˆ–è€…ç®¡é“ä¸­è¯»å–å‘½ä»¤å¹¶æ‰§è¡Œã€‚</p><p>å½“ shell è§£é‡Šå™¨æ‰§è¡Œå®Œæ–‡ä»¶ä¸­çš„æœ€åä¸€ä¸ªå‘½ä»¤ï¼Œshell è¿›ç¨‹ç»ˆæ­¢ï¼Œå¹¶å›åˆ°çˆ¶è¿›ç¨‹ã€‚</p><p>å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è®© shell ä»¥éäº¤äº’æ¨¡å¼è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sh /path/to/script.sh</span><br><span class="line">bash /path/to/script.sh</span><br><span class="line"><span class="built_in">source</span> /path/to/script.sh</span><br><span class="line">./path/to/script.sh</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>script.sh</code>æ˜¯ä¸€ä¸ªåŒ…å« shell è§£é‡Šå™¨å¯ä»¥è¯†åˆ«å¹¶æ‰§è¡Œçš„å‘½ä»¤çš„æ™®é€šæ–‡æœ¬æ–‡ä»¶ï¼Œ<code>sh</code>å’Œ<code>bash</code>æ˜¯ shell è§£é‡Šå™¨ç¨‹åºã€‚ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•å–œæ¬¢çš„ç¼–è¾‘å™¨åˆ›å»º<code>script.sh</code>ï¼ˆvimï¼Œnanoï¼ŒSublime Text, Atom ç­‰ç­‰ï¼‰ã€‚</p><p>å…¶ä¸­ï¼Œ<code>source /path/to/script.sh</code> å’Œ <code>./path/to/script.sh</code> æ˜¯ç­‰ä»·çš„ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡<code>chmod</code>å‘½ä»¤ç»™æ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œçš„æƒé™ï¼Œæ¥ç›´æ¥æ‰§è¡Œè„šæœ¬æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chmod +x /path/to/script.sh <span class="comment">#ä½¿è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™</span></span><br><span class="line">/path/to/test.sh</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹å¼è¦æ±‚è„šæœ¬æ–‡ä»¶çš„ç¬¬ä¸€è¡Œå¿…é¡»æŒ‡æ˜è¿è¡Œè¯¥è„šæœ¬çš„ç¨‹åºï¼Œæ¯”å¦‚ï¼š</p><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/tree/master/codes/shell/demos/helloworld.sh" target="_blank" rel="noopener">helloworld.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Hello, world!"</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å‘½ä»¤<code>echo</code>æ¥è¾“å‡ºå­—ç¬¦ä¸²åˆ°å±å¹•ä¸Šã€‚</p><h2 id="2-åŸºæœ¬è¯­æ³•"><a href="#2-åŸºæœ¬è¯­æ³•" class="headerlink" title="2. åŸºæœ¬è¯­æ³•"></a>2. åŸºæœ¬è¯­æ³•</h2><h3 id="2-1-è§£é‡Šå™¨"><a href="#2-1-è§£é‡Šå™¨" class="headerlink" title="2.1. è§£é‡Šå™¨"></a>2.1. è§£é‡Šå™¨</h3><p>å‰é¢è™½ç„¶ä¸¤æ¬¡æåˆ°äº†<code>#!</code> ï¼Œä½†æ˜¯æœ¬ç€é‡è¦çš„äº‹æƒ…è¯´ä¸‰éçš„ç²¾ç¥ï¼Œè¿™é‡Œå†å¼ºè°ƒä¸€éï¼š</p><p>åœ¨ shell è„šæœ¬ï¼Œ<code>#!</code> å‘Šè¯‰ç³»ç»Ÿå…¶åè·¯å¾„æ‰€æŒ‡å®šçš„ç¨‹åºå³æ˜¯è§£é‡Šæ­¤è„šæœ¬æ–‡ä»¶çš„ Shell è§£é‡Šå™¨ã€‚<code>#!</code> è¢«ç§°ä½œ<a href="https://zh.wikipedia.org/wiki/Shebang" target="_blank" rel="noopener">shebangï¼ˆä¹Ÿç§°ä¸º Hashbang ï¼‰</a>ã€‚</p><p><code>#!</code> å†³å®šäº†è„šæœ¬å¯ä»¥åƒä¸€ä¸ªç‹¬ç«‹çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸€æ ·æ‰§è¡Œï¼Œè€Œä¸ç”¨åœ¨ç»ˆç«¯ä¹‹å‰è¾“å…¥<code>sh</code>, <code>bash</code>, <code>python</code>, <code>php</code>ç­‰ã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»¥ä¸‹ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥æŒ‡å®š shell è§£é‡Šå™¨ä¸º bashï¼Œç¬¬äºŒç§æ–¹å¼æ›´å¥½</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br></pre></td></tr></table></figure><h3 id="2-2-æ³¨é‡Š"><a href="#2-2-æ³¨é‡Š" class="headerlink" title="2.2. æ³¨é‡Š"></a>2.2. æ³¨é‡Š</h3><p>æ³¨é‡Šå¯ä»¥è¯´æ˜ä½ çš„ä»£ç æ˜¯ä»€ä¹ˆä½œç”¨ï¼Œä»¥åŠä¸ºä»€ä¹ˆè¿™æ ·å†™ã€‚</p><p>shell è¯­æ³•ä¸­ï¼Œæ³¨é‡Šæ˜¯ç‰¹æ®Šçš„è¯­å¥ï¼Œä¼šè¢« shell è§£é‡Šå™¨å¿½ç•¥ã€‚</p><ul><li>å•è¡Œæ³¨é‡Š - ä»¥ <code>#</code> å¼€å¤´ï¼Œåˆ°è¡Œå°¾ç»“æŸã€‚</li><li>å¤šè¡Œæ³¨é‡Š - ä»¥ <code>:&lt;&lt;EOF</code> å¼€å¤´ï¼Œåˆ° <code>EOF</code> ç»“æŸã€‚</li></ul><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/tree/master/codes/shell/demos/comment-demo.sh" target="_blank" rel="noopener">comment-demo.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#--------------------------------------------</span></span><br><span class="line"><span class="comment"># shell æ³¨é‡Šç¤ºä¾‹</span></span><br><span class="line"><span class="comment"># authorï¼šzp</span></span><br><span class="line"><span class="comment">#--------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># echo 'è¿™æ˜¯å•è¡Œæ³¨é‡Š'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">########## è¿™æ˜¯åˆ†å‰²çº¿ ##########</span></span><br><span class="line"></span><br><span class="line">:&lt;&lt;EOF</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'è¿™æ˜¯å¤šè¡Œæ³¨é‡Š'</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'è¿™æ˜¯å¤šè¡Œæ³¨é‡Š'</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'è¿™æ˜¯å¤šè¡Œæ³¨é‡Š'</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h3 id="2-3-echo"><a href="#2-3-echo" class="headerlink" title="2.3. echo"></a>2.3. echo</h3><p>echo ç”¨äºå­—ç¬¦ä¸²çš„è¾“å‡ºã€‚</p><p>è¾“å‡ºæ™®é€šå­—ç¬¦ä¸²ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"hello, world"</span></span><br><span class="line"><span class="comment"># Output: hello, world</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºå«å˜é‡çš„å­—ç¬¦ä¸²ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"hello, \"zp\""</span></span><br><span class="line"><span class="comment"># Output: hello, "zp"</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºå«å˜é‡çš„å­—ç¬¦ä¸²ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">name=zp</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"hello, \"<span class="variable">$&#123;name&#125;</span>\""</span></span><br><span class="line"><span class="comment"># Output: hello, "zp"</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºå«æ¢è¡Œç¬¦çš„å­—ç¬¦ä¸²ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¾“å‡ºå«æ¢è¡Œç¬¦çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"YES\nNO"</span></span><br><span class="line"><span class="comment">#  Output: YES\nNO</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">"YES\nNO"</span> <span class="comment"># -e å¼€å¯è½¬ä¹‰</span></span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  YES</span></span><br><span class="line"><span class="comment">#  NO</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºå«ä¸æ¢è¡Œç¬¦çš„å­—ç¬¦ä¸²ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"YES"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"NO"</span></span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  YES</span></span><br><span class="line"><span class="comment">#  NO</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">"YES\c"</span> <span class="comment"># -e å¼€å¯è½¬ä¹‰ \c ä¸æ¢è¡Œ</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"NO"</span></span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  YESNO</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºé‡å®šå‘è‡³æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"test"</span> &gt; test.txt</span><br></pre></td></tr></table></figure><p>è¾“å‡ºæ‰§è¡Œç»“æœ</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> `<span class="built_in">pwd</span>`</span><br><span class="line"><span class="comment">#  Output:(å½“å‰ç›®å½•è·¯å¾„)</span></span><br></pre></td></tr></table></figure><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/tree/master/codes/shell/demos/echo-demo.sh" target="_blank" rel="noopener">echo-demo.sh</a></p><h3 id="2-4-printf"><a href="#2-4-printf" class="headerlink" title="2.4. printf"></a>2.4. printf</h3><p>printf ç”¨äºæ ¼å¼åŒ–è¾“å‡ºå­—ç¬¦ä¸²ã€‚</p><p>é»˜è®¤ï¼Œprintf ä¸ä¼šåƒ echo ä¸€æ ·è‡ªåŠ¨æ·»åŠ æ¢è¡Œç¬¦ï¼Œå¦‚æœéœ€è¦æ¢è¡Œå¯ä»¥æ‰‹åŠ¨æ·»åŠ  <code>\n</code>ã€‚</p><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/tree/master/codes/shell/demos/printf-demo.sh" target="_blank" rel="noopener">printf-demo.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å•å¼•å·</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">'%d %s\n'</span> 1 <span class="string">"abc"</span></span><br><span class="line"><span class="comment">#  Output:1 abc</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒå¼•å·</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">"%d %s\n"</span> 1 <span class="string">"abc"</span></span><br><span class="line"><span class="comment">#  Output:1 abc</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ— å¼•å·</span></span><br><span class="line"><span class="built_in">printf</span> %s abcdef</span><br><span class="line"><span class="comment">#  Output: abcdef(å¹¶ä¸ä¼šæ¢è¡Œ)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¼å¼åªæŒ‡å®šäº†ä¸€ä¸ªå‚æ•°ï¼Œä½†å¤šå‡ºçš„å‚æ•°ä»ç„¶ä¼šæŒ‰ç…§è¯¥æ ¼å¼è¾“å‡º</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">"%s\n"</span> abc def</span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  abc</span></span><br><span class="line"><span class="comment">#  def</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span> <span class="string">"%s %s %s\n"</span> a b c d e f g h i j</span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  a b c</span></span><br><span class="line"><span class="comment">#  d e f</span></span><br><span class="line"><span class="comment">#  g h i</span></span><br><span class="line"><span class="comment">#  j</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œé‚£ä¹ˆ %s ç”¨ NULL ä»£æ›¿ï¼Œ%d ç”¨ 0 ä»£æ›¿</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">"%s and %d \n"</span></span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#   and 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¼å¼åŒ–è¾“å‡º</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">"%-10s %-8s %-4s\n"</span> å§“å æ€§åˆ« ä½“é‡kg</span><br><span class="line"><span class="built_in">printf</span> <span class="string">"%-10s %-8s %-4.2f\n"</span> éƒ­é– ç”· 66.1234</span><br><span class="line"><span class="built_in">printf</span> <span class="string">"%-10s %-8s %-4.2f\n"</span> æ¨è¿‡ ç”· 48.6543</span><br><span class="line"><span class="built_in">printf</span> <span class="string">"%-10s %-8s %-4.2f\n"</span> éƒ­èŠ™ å¥³ 47.9876</span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  å§“å     æ€§åˆ«   ä½“é‡kg</span></span><br><span class="line"><span class="comment">#  éƒ­é–     ç”·      66.12</span></span><br><span class="line"><span class="comment">#  æ¨è¿‡     ç”·      48.65</span></span><br><span class="line"><span class="comment">#  éƒ­èŠ™     å¥³      47.99</span></span><br></pre></td></tr></table></figure><h4 id="printf-çš„è½¬ä¹‰ç¬¦"><a href="#printf-çš„è½¬ä¹‰ç¬¦" class="headerlink" title="printf çš„è½¬ä¹‰ç¬¦"></a>printf çš„è½¬ä¹‰ç¬¦</h4><table><thead><tr><th>åºåˆ—</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>\a</code></td><td>è­¦å‘Šå­—ç¬¦ï¼Œé€šå¸¸ä¸º ASCII çš„ BEL å­—ç¬¦</td></tr><tr><td><code>\b</code></td><td>åé€€</td></tr><tr><td><code>\c</code></td><td>æŠ‘åˆ¶ï¼ˆä¸æ˜¾ç¤ºï¼‰è¾“å‡ºç»“æœä¸­ä»»ä½•ç»“å°¾çš„æ¢è¡Œå­—ç¬¦ï¼ˆåªåœ¨%b æ ¼å¼æŒ‡ç¤ºç¬¦æ§åˆ¶ä¸‹çš„å‚æ•°å­—ç¬¦ä¸²ä¸­æœ‰æ•ˆï¼‰ï¼Œè€Œä¸”ï¼Œä»»ä½•ç•™åœ¨å‚æ•°é‡Œçš„å­—ç¬¦ã€ä»»ä½•æ¥ä¸‹æ¥çš„å‚æ•°ä»¥åŠä»»ä½•ç•™åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œéƒ½è¢«å¿½ç•¥</td></tr><tr><td><code>\f</code></td><td>æ¢é¡µï¼ˆformfeedï¼‰</td></tr><tr><td><code>\n</code></td><td>æ¢è¡Œ</td></tr><tr><td><code>\r</code></td><td>å›è½¦ï¼ˆCarriage returnï¼‰</td></tr><tr><td><code>\t</code></td><td>æ°´å¹³åˆ¶è¡¨ç¬¦</td></tr><tr><td><code>\v</code></td><td>å‚ç›´åˆ¶è¡¨ç¬¦</td></tr><tr><td><code>\\</code></td><td>ä¸€ä¸ªå­—é¢ä¸Šçš„åæ–œæ å­—ç¬¦</td></tr><tr><td><code>\ddd</code></td><td>è¡¨ç¤º 1 åˆ° 3 ä½æ•°å…«è¿›åˆ¶å€¼çš„å­—ç¬¦ã€‚ä»…åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­æœ‰æ•ˆ</td></tr><tr><td><code>\0ddd</code></td><td>è¡¨ç¤º 1 åˆ° 3 ä½çš„å…«è¿›åˆ¶å€¼å­—ç¬¦</td></tr></tbody></table><h2 id="3-å˜é‡"><a href="#3-å˜é‡" class="headerlink" title="3. å˜é‡"></a>3. å˜é‡</h2><p>è·Ÿè®¸å¤šç¨‹åºè®¾è®¡è¯­è¨€ä¸€æ ·ï¼Œä½ å¯ä»¥åœ¨ bash ä¸­åˆ›å»ºå˜é‡ã€‚</p><p>Bash ä¸­æ²¡æœ‰æ•°æ®ç±»å‹ï¼Œbash ä¸­çš„å˜é‡å¯ä»¥ä¿å­˜ä¸€ä¸ªæ•°å­—ã€ä¸€ä¸ªå­—ç¬¦ã€ä¸€ä¸ªå­—ç¬¦ä¸²ç­‰ç­‰ã€‚åŒæ—¶æ— éœ€æå‰å£°æ˜å˜é‡ï¼Œç»™å˜é‡èµ‹å€¼ä¼šç›´æ¥åˆ›å»ºå˜é‡ã€‚</p><h3 id="3-1-å˜é‡å‘½ååŸåˆ™"><a href="#3-1-å˜é‡å‘½ååŸåˆ™" class="headerlink" title="3.1. å˜é‡å‘½ååŸåˆ™"></a>3.1. å˜é‡å‘½ååŸåˆ™</h3><ul><li>å‘½ååªèƒ½ä½¿ç”¨è‹±æ–‡å­—æ¯ï¼Œæ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œé¦–ä¸ªå­—ç¬¦ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚</li><li>ä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ã€‚</li><li>ä¸èƒ½ä½¿ç”¨æ ‡ç‚¹ç¬¦å·ã€‚</li><li>ä¸èƒ½ä½¿ç”¨ bash é‡Œçš„å…³é”®å­—ï¼ˆå¯ç”¨ help å‘½ä»¤æŸ¥çœ‹ä¿ç•™å…³é”®å­—ï¼‰ã€‚</li></ul><h3 id="3-2-å£°æ˜å˜é‡"><a href="#3-2-å£°æ˜å˜é‡" class="headerlink" title="3.2. å£°æ˜å˜é‡"></a>3.2. å£°æ˜å˜é‡</h3><p>è®¿é—®å˜é‡çš„è¯­æ³•å½¢å¼ä¸ºï¼š<code>${var}</code> å’Œ <code>$var</code> ã€‚</p><p>å˜é‡åå¤–é¢çš„èŠ±æ‹¬å·æ˜¯å¯é€‰çš„ï¼ŒåŠ ä¸åŠ éƒ½è¡Œï¼ŒåŠ èŠ±æ‹¬å·æ˜¯ä¸ºäº†å¸®åŠ©è§£é‡Šå™¨è¯†åˆ«å˜é‡çš„è¾¹ç•Œï¼Œæ‰€ä»¥æ¨èåŠ èŠ±æ‹¬å·ã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">word=<span class="string">"hello"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;word&#125;</span></span><br><span class="line"><span class="comment"># Output: hello</span></span><br></pre></td></tr></table></figure><h3 id="3-3-åªè¯»å˜é‡"><a href="#3-3-åªè¯»å˜é‡" class="headerlink" title="3.3. åªè¯»å˜é‡"></a>3.3. åªè¯»å˜é‡</h3><p>ä½¿ç”¨ readonly å‘½ä»¤å¯ä»¥å°†å˜é‡å®šä¹‰ä¸ºåªè¯»å˜é‡ï¼Œåªè¯»å˜é‡çš„å€¼ä¸èƒ½è¢«æ”¹å˜ã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rword=<span class="string">"hello"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;rword&#125;</span></span><br><span class="line"><span class="built_in">readonly</span> rword</span><br><span class="line"><span class="comment"># rword="bye"  # å¦‚æœæ”¾å¼€æ³¨é‡Šï¼Œæ‰§è¡Œæ—¶ä¼šæŠ¥é”™</span></span><br></pre></td></tr></table></figure><h3 id="3-4-åˆ é™¤å˜é‡"><a href="#3-4-åˆ é™¤å˜é‡" class="headerlink" title="3.4. åˆ é™¤å˜é‡"></a>3.4. åˆ é™¤å˜é‡</h3><p>ä½¿ç”¨ unset å‘½ä»¤å¯ä»¥åˆ é™¤å˜é‡ã€‚å˜é‡è¢«åˆ é™¤åä¸èƒ½å†æ¬¡ä½¿ç”¨ã€‚unset å‘½ä»¤ä¸èƒ½åˆ é™¤åªè¯»å˜é‡ã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dword=<span class="string">"hello"</span>  <span class="comment"># å£°æ˜å˜é‡</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;dword&#125;</span>  <span class="comment"># è¾“å‡ºå˜é‡å€¼</span></span><br><span class="line"><span class="comment"># Output: hello</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">unset</span> dword    <span class="comment"># åˆ é™¤å˜é‡</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;dword&#125;</span></span><br><span class="line"><span class="comment"># Output: ï¼ˆç©ºï¼‰</span></span><br></pre></td></tr></table></figure><h3 id="3-5-å˜é‡ç±»å‹"><a href="#3-5-å˜é‡ç±»å‹" class="headerlink" title="3.5. å˜é‡ç±»å‹"></a>3.5. å˜é‡ç±»å‹</h3><ul><li><strong>å±€éƒ¨å˜é‡</strong> - å±€éƒ¨å˜é‡æ˜¯ä»…åœ¨æŸä¸ªè„šæœ¬å†…éƒ¨æœ‰æ•ˆçš„å˜é‡ã€‚å®ƒä»¬ä¸èƒ½è¢«å…¶ä»–çš„ç¨‹åºå’Œè„šæœ¬è®¿é—®ã€‚</li><li><strong>ç¯å¢ƒå˜é‡</strong> - ç¯å¢ƒå˜é‡æ˜¯å¯¹å½“å‰ shell ä¼šè¯å†…æ‰€æœ‰çš„ç¨‹åºæˆ–è„šæœ¬éƒ½å¯è§çš„å˜é‡ã€‚åˆ›å»ºå®ƒä»¬è·Ÿåˆ›å»ºå±€éƒ¨å˜é‡ç±»ä¼¼ï¼Œä½†ä½¿ç”¨çš„æ˜¯ <code>export</code> å…³é”®å­—ï¼Œshell è„šæœ¬ä¹Ÿå¯ä»¥å®šä¹‰ç¯å¢ƒå˜é‡ã€‚</li></ul><p>å¸¸è§çš„ç¯å¢ƒå˜é‡ï¼š</p><table><thead><tr><th>å˜é‡</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>$HOME</code></td><td>å½“å‰ç”¨æˆ·çš„ç”¨æˆ·ç›®å½•</td></tr><tr><td><code>$PATH</code></td><td>ç”¨åˆ†å·åˆ†éš”çš„ç›®å½•åˆ—è¡¨ï¼Œshell ä¼šåˆ°è¿™äº›ç›®å½•ä¸­æŸ¥æ‰¾å‘½ä»¤</td></tr><tr><td><code>$PWD</code></td><td>å½“å‰å·¥ä½œç›®å½•</td></tr><tr><td><code>$RANDOM</code></td><td>0 åˆ° 32767 ä¹‹é—´çš„æ•´æ•°</td></tr><tr><td><code>$UID</code></td><td>æ•°å€¼ç±»å‹ï¼Œå½“å‰ç”¨æˆ·çš„ç”¨æˆ· ID</td></tr><tr><td><code>$PS1</code></td><td>ä¸»è¦ç³»ç»Ÿè¾“å…¥æç¤ºç¬¦</td></tr><tr><td><code>$PS2</code></td><td>æ¬¡è¦ç³»ç»Ÿè¾“å…¥æç¤ºç¬¦</td></tr></tbody></table><p><a href="http://tldp.org/LDP/Bash-Beginners-Guide/html/sect_03_02.html###sect_03_02_04" target="_blank" rel="noopener">è¿™é‡Œ</a> æœ‰ä¸€å¼ æ›´å…¨é¢çš„ Bash ç¯å¢ƒå˜é‡åˆ—è¡¨ã€‚</p><h3 id="3-6-å˜é‡ç¤ºä¾‹æºç "><a href="#3-6-å˜é‡ç¤ºä¾‹æºç " class="headerlink" title="3.6. å˜é‡ç¤ºä¾‹æºç "></a>3.6. å˜é‡ç¤ºä¾‹æºç </h3><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/tree/master/codes/shell/demos/variable-demo.sh" target="_blank" rel="noopener">variable-demo.sh</a></p><h2 id="4-å­—ç¬¦ä¸²"><a href="#4-å­—ç¬¦ä¸²" class="headerlink" title="4. å­—ç¬¦ä¸²"></a>4. å­—ç¬¦ä¸²</h2><h3 id="4-1-å•å¼•å·å’ŒåŒå¼•å·"><a href="#4-1-å•å¼•å·å’ŒåŒå¼•å·" class="headerlink" title="4.1. å•å¼•å·å’ŒåŒå¼•å·"></a>4.1. å•å¼•å·å’ŒåŒå¼•å·</h3><p>shell å­—ç¬¦ä¸²å¯ä»¥ç”¨å•å¼•å· <code>&#39;&#39;</code>ï¼Œä¹Ÿå¯ä»¥ç”¨åŒå¼•å· <code>â€œâ€</code>ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨å¼•å·ã€‚</p><ul><li>å•å¼•å·çš„ç‰¹ç‚¹<ul><li>å•å¼•å·é‡Œä¸è¯†åˆ«å˜é‡</li><li>å•å¼•å·é‡Œä¸èƒ½å‡ºç°å•ç‹¬çš„å•å¼•å·ï¼ˆä½¿ç”¨è½¬ä¹‰ç¬¦ä¹Ÿä¸è¡Œï¼‰ï¼Œä½†å¯æˆå¯¹å‡ºç°ï¼Œä½œä¸ºå­—ç¬¦ä¸²æ‹¼æ¥ä½¿ç”¨ã€‚</li></ul></li><li>åŒå¼•å·çš„ç‰¹ç‚¹<ul><li>åŒå¼•å·é‡Œè¯†åˆ«å˜é‡</li><li>åŒå¼•å·é‡Œå¯ä»¥å‡ºç°è½¬ä¹‰å­—ç¬¦</li></ul></li></ul><p>ç»¼ä¸Šï¼Œæ¨èä½¿ç”¨åŒå¼•å·ã€‚</p><h3 id="4-2-æ‹¼æ¥å­—ç¬¦ä¸²"><a href="#4-2-æ‹¼æ¥å­—ç¬¦ä¸²" class="headerlink" title="4.2. æ‹¼æ¥å­—ç¬¦ä¸²"></a>4.2. æ‹¼æ¥å­—ç¬¦ä¸²</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨å•å¼•å·æ‹¼æ¥</span></span><br><span class="line">name1=<span class="string">'white'</span></span><br><span class="line">str1=<span class="string">'hello, '</span><span class="variable">$&#123;name1&#125;</span><span class="string">''</span></span><br><span class="line">str2=<span class="string">'hello, $&#123;name1&#125;'</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;str1&#125;</span>_<span class="variable">$&#123;str2&#125;</span></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># hello, white_hello, $&#123;name1&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨åŒå¼•å·æ‹¼æ¥</span></span><br><span class="line">name2=<span class="string">"black"</span></span><br><span class="line">str3=<span class="string">"hello, "</span><span class="variable">$&#123;name2&#125;</span><span class="string">""</span></span><br><span class="line">str4=<span class="string">"hello, <span class="variable">$&#123;name2&#125;</span>"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;str3&#125;</span>_<span class="variable">$&#123;str4&#125;</span></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># hello, black_hello, black</span></span><br></pre></td></tr></table></figure><h3 id="4-3-è·å–å­—ç¬¦ä¸²é•¿åº¦"><a href="#4-3-è·å–å­—ç¬¦ä¸²é•¿åº¦" class="headerlink" title="4.3. è·å–å­—ç¬¦ä¸²é•¿åº¦"></a>4.3. è·å–å­—ç¬¦ä¸²é•¿åº¦</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">text=<span class="string">"12345"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#text&#125;</span></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># 5</span></span><br></pre></td></tr></table></figure><h3 id="4-4-æˆªå–å­å­—ç¬¦ä¸²"><a href="#4-4-æˆªå–å­å­—ç¬¦ä¸²" class="headerlink" title="4.4. æˆªå–å­å­—ç¬¦ä¸²"></a>4.4. æˆªå–å­å­—ç¬¦ä¸²</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">text=<span class="string">"12345"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;text:2:2&#125;</span></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># 34</span></span><br></pre></td></tr></table></figure><p>ä»ç¬¬ 3 ä¸ªå­—ç¬¦å¼€å§‹ï¼Œæˆªå– 2 ä¸ªå­—ç¬¦</p><h3 id="4-5-æŸ¥æ‰¾å­å­—ç¬¦ä¸²"><a href="#4-5-æŸ¥æ‰¾å­å­—ç¬¦ä¸²" class="headerlink" title="4.5. æŸ¥æ‰¾å­å­—ç¬¦ä¸²"></a>4.5. æŸ¥æ‰¾å­å­—ç¬¦ä¸²</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line">text=<span class="string">"hello"</span></span><br><span class="line"><span class="built_in">echo</span> `expr index <span class="string">"<span class="variable">$&#123;text&#125;</span>"</span> ll`</span><br><span class="line"></span><br><span class="line"><span class="comment"># Execute: ./str-demo5.sh</span></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># 3</span></span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾ <code>ll</code> å­å­—ç¬¦åœ¨ <code>hello</code> å­—ç¬¦ä¸²ä¸­çš„èµ·å§‹ä½ç½®ã€‚</p><h3 id="4-6-å­—ç¬¦ä¸²ç¤ºä¾‹æºç "><a href="#4-6-å­—ç¬¦ä¸²ç¤ºä¾‹æºç " class="headerlink" title="4.6. å­—ç¬¦ä¸²ç¤ºä¾‹æºç "></a>4.6. å­—ç¬¦ä¸²ç¤ºä¾‹æºç </h3><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/tree/master/codes/shell/demos/string-demo.sh" target="_blank" rel="noopener">string-demo.sh</a></p><h2 id="5-æ•°ç»„"><a href="#5-æ•°ç»„" class="headerlink" title="5. æ•°ç»„"></a>5. æ•°ç»„</h2><p>bash åªæ”¯æŒä¸€ç»´æ•°ç»„ã€‚</p><p>æ•°ç»„ä¸‹æ ‡ä» 0 å¼€å§‹ï¼Œä¸‹æ ‡å¯ä»¥æ˜¯æ•´æ•°æˆ–ç®—æœ¯è¡¨è¾¾å¼ï¼Œå…¶å€¼åº”å¤§äºæˆ–ç­‰äº 0ã€‚</p><h3 id="5-1-åˆ›å»ºæ•°ç»„"><a href="#5-1-åˆ›å»ºæ•°ç»„" class="headerlink" title="5.1. åˆ›å»ºæ•°ç»„"></a>5.1. åˆ›å»ºæ•°ç»„</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºæ•°ç»„çš„ä¸åŒæ–¹å¼</span></span><br><span class="line">nums=([2]=2 [0]=0 [1]=1)</span><br><span class="line">colors=(red yellow <span class="string">"dark blue"</span>)</span><br></pre></td></tr></table></figure><h3 id="5-2-è®¿é—®æ•°ç»„å…ƒç´ "><a href="#5-2-è®¿é—®æ•°ç»„å…ƒç´ " class="headerlink" title="5.2. è®¿é—®æ•°ç»„å…ƒç´ "></a>5.2. è®¿é—®æ•°ç»„å…ƒç´ </h3><ul><li><strong>è®¿é—®æ•°ç»„çš„å•ä¸ªå…ƒç´ ï¼š</strong></li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;nums[1]&#125;</span></span><br><span class="line"><span class="comment"># Output: 1</span></span><br></pre></td></tr></table></figure><ul><li><strong>è®¿é—®æ•°ç»„çš„æ‰€æœ‰å…ƒç´ ï¼š</strong></li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;colors[*]&#125;</span></span><br><span class="line"><span class="comment"># Output: red yellow dark blue</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;colors[@]&#125;</span></span><br><span class="line"><span class="comment"># Output: red yellow dark blue</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¸¤è¡Œæœ‰å¾ˆé‡è¦ï¼ˆä¹Ÿå¾ˆå¾®å¦™ï¼‰çš„åŒºåˆ«ï¼š</p><p>ä¸ºäº†å°†æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å•ç‹¬ä¸€è¡Œè¾“å‡ºï¼Œæˆ‘ä»¬ç”¨ <code>printf</code> å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span> <span class="string">"+ %s\n"</span> <span class="variable">$&#123;colors[*]&#125;</span></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># + red</span></span><br><span class="line"><span class="comment"># + yellow</span></span><br><span class="line"><span class="comment"># + dark</span></span><br><span class="line"><span class="comment"># + blue</span></span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆ<code>dark</code>å’Œ<code>blue</code>å„å äº†ä¸€è¡Œï¼Ÿå°è¯•ç”¨å¼•å·åŒ…èµ·æ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span> <span class="string">"+ %s\n"</span> <span class="string">"<span class="variable">$&#123;colors[*]&#125;</span>"</span></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># + red yellow dark blue</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨æ‰€æœ‰çš„å…ƒç´ éƒ½åœ¨ä¸€è¡Œè¾“å‡º â€”â€” è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼è®©æˆ‘ä»¬è¯•è¯•<code>${colors[@]}</code></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span> <span class="string">"+ %s\n"</span> <span class="string">"<span class="variable">$&#123;colors[@]&#125;</span>"</span></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># + red</span></span><br><span class="line"><span class="comment"># + yellow</span></span><br><span class="line"><span class="comment"># + dark blue</span></span><br></pre></td></tr></table></figure><p>åœ¨å¼•å·å†…ï¼Œ<code>${colors[@]}</code>å°†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰©å±•ä¸ºä¸€ä¸ªå•ç‹¬çš„å‚æ•°ï¼›æ•°ç»„å…ƒç´ ä¸­çš„ç©ºæ ¼å¾—ä»¥ä¿ç•™ã€‚</p><ul><li><strong>è®¿é—®æ•°ç»„çš„éƒ¨åˆ†å…ƒç´ ï¼š</strong></li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;nums[@]:0:2&#125;</span></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># 0 1</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>${array[@]}</code> æ‰©å±•ä¸ºæ•´ä¸ªæ•°ç»„ï¼Œ<code>:0:2</code>å–å‡ºäº†æ•°ç»„ä¸­ä» 0 å¼€å§‹ï¼Œé•¿åº¦ä¸º 2 çš„å…ƒç´ ã€‚</p><h3 id="5-3-è®¿é—®æ•°ç»„é•¿åº¦"><a href="#5-3-è®¿é—®æ•°ç»„é•¿åº¦" class="headerlink" title="5.3. è®¿é—®æ•°ç»„é•¿åº¦"></a>5.3. è®¿é—®æ•°ç»„é•¿åº¦</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#nums[*]&#125;</span></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># 3</span></span><br></pre></td></tr></table></figure><h3 id="5-4-å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ "><a href="#5-4-å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ " class="headerlink" title="5.4. å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ "></a>5.4. å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ </h3><p>å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ ä¹Ÿéå¸¸ç®€å•ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">colors=(white <span class="string">"<span class="variable">$&#123;colors[@]&#125;</span>"</span> green black)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;colors[@]&#125;</span></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># white red yellow dark blue green black</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>${colors[@]}</code> æ‰©å±•ä¸ºæ•´ä¸ªæ•°ç»„ï¼Œå¹¶è¢«ç½®æ¢åˆ°å¤åˆèµ‹å€¼è¯­å¥ä¸­ï¼Œæ¥ç€ï¼Œå¯¹æ•°ç»„<code>colors</code>çš„èµ‹å€¼è¦†ç›–äº†å®ƒåŸæ¥çš„å€¼ã€‚</p><h3 id="5-5-ä»æ•°ç»„ä¸­åˆ é™¤å…ƒç´ "><a href="#5-5-ä»æ•°ç»„ä¸­åˆ é™¤å…ƒç´ " class="headerlink" title="5.5. ä»æ•°ç»„ä¸­åˆ é™¤å…ƒç´ "></a>5.5. ä»æ•°ç»„ä¸­åˆ é™¤å…ƒç´ </h3><p>ç”¨<code>unset</code>å‘½ä»¤æ¥ä»æ•°ç»„ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">unset</span> nums[0]</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;nums[@]&#125;</span></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># 1 2</span></span><br></pre></td></tr></table></figure><h3 id="5-6-æ•°ç»„ç¤ºä¾‹æºç "><a href="#5-6-æ•°ç»„ç¤ºä¾‹æºç " class="headerlink" title="5.6. æ•°ç»„ç¤ºä¾‹æºç "></a>5.6. æ•°ç»„ç¤ºä¾‹æºç </h3><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/tree/master/codes/shell/demos/array-demo.sh" target="_blank" rel="noopener">array-demo.sh</a></p><h2 id="6-è¿ç®—ç¬¦"><a href="#6-è¿ç®—ç¬¦" class="headerlink" title="6. è¿ç®—ç¬¦"></a>6. è¿ç®—ç¬¦</h2><h3 id="6-1-ç®—æœ¯è¿ç®—ç¬¦"><a href="#6-1-ç®—æœ¯è¿ç®—ç¬¦" class="headerlink" title="6.1. ç®—æœ¯è¿ç®—ç¬¦"></a>6.1. ç®—æœ¯è¿ç®—ç¬¦</h3><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„ç®—æœ¯è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ x ä¸º 10ï¼Œå˜é‡ y ä¸º 20ï¼š</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th><th>ä¸¾ä¾‹</th></tr></thead><tbody><tr><td>+</td><td>åŠ æ³•</td><td><code>expr $x + $y</code> ç»“æœä¸º 30ã€‚</td></tr><tr><td>-</td><td>å‡æ³•</td><td><code>expr $x - $y</code> ç»“æœä¸º -10ã€‚</td></tr><tr><td>*</td><td>ä¹˜æ³•</td><td><code>expr $x * $y</code> ç»“æœä¸º 200ã€‚</td></tr><tr><td>/</td><td>é™¤æ³•</td><td><code>expr $y / $x</code> ç»“æœä¸º 2ã€‚</td></tr><tr><td>%</td><td>å–ä½™</td><td><code>expr $y % $x</code> ç»“æœä¸º 0ã€‚</td></tr><tr><td>=</td><td>èµ‹å€¼</td><td><code>x=$y</code> å°†æŠŠå˜é‡ y çš„å€¼èµ‹ç»™ xã€‚</td></tr><tr><td>==</td><td>ç›¸ç­‰ã€‚ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°å­—ï¼Œç›¸åŒåˆ™è¿”å› trueã€‚</td><td><code>[ $x == $y ]</code> è¿”å› falseã€‚</td></tr><tr><td>!=</td><td>ä¸ç›¸ç­‰ã€‚ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°å­—ï¼Œä¸ç›¸åŒåˆ™è¿”å› trueã€‚</td><td><code>[ $x != $y ]</code> è¿”å› trueã€‚</td></tr></tbody></table><p><strong>æ³¨æ„ï¼š</strong>æ¡ä»¶è¡¨è¾¾å¼è¦æ”¾åœ¨æ–¹æ‹¬å·ä¹‹é—´ï¼Œå¹¶ä¸”è¦æœ‰ç©ºæ ¼ï¼Œä¾‹å¦‚: <code>[$x==$y]</code> æ˜¯é”™è¯¯çš„ï¼Œå¿…é¡»å†™æˆ <code>[ $x == $y ]</code>ã€‚</p><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/operator/operator-demo.sh" target="_blank" rel="noopener">operator-demo.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x=10</span><br><span class="line">y=20</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"x=<span class="variable">$&#123;x&#125;</span>, y=<span class="variable">$&#123;y&#125;</span>"</span></span><br><span class="line"></span><br><span class="line">val=`expr <span class="variable">$&#123;x&#125;</span> + <span class="variable">$&#123;y&#125;</span>`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> + <span class="variable">$&#123;y&#125;</span> = <span class="variable">$val</span>"</span></span><br><span class="line"></span><br><span class="line">val=`expr <span class="variable">$&#123;x&#125;</span> - <span class="variable">$&#123;y&#125;</span>`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> - <span class="variable">$&#123;y&#125;</span> = <span class="variable">$val</span>"</span></span><br><span class="line"></span><br><span class="line">val=`expr <span class="variable">$&#123;x&#125;</span> \* <span class="variable">$&#123;y&#125;</span>`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> * <span class="variable">$&#123;y&#125;</span> = <span class="variable">$val</span>"</span></span><br><span class="line"></span><br><span class="line">val=`expr <span class="variable">$&#123;y&#125;</span> / <span class="variable">$&#123;x&#125;</span>`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;y&#125;</span> / <span class="variable">$&#123;x&#125;</span> = <span class="variable">$val</span>"</span></span><br><span class="line"></span><br><span class="line">val=`expr <span class="variable">$&#123;y&#125;</span> % <span class="variable">$&#123;x&#125;</span>`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;y&#125;</span> % <span class="variable">$&#123;x&#125;</span> = <span class="variable">$val</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> == <span class="variable">$&#123;y&#125;</span> ]]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> = <span class="variable">$&#123;y&#125;</span>"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> != <span class="variable">$&#123;y&#125;</span> ]]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> != <span class="variable">$&#123;y&#125;</span>"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  Execute: ./operator-demo.sh</span></span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  x=10, y=20</span></span><br><span class="line"><span class="comment">#  10 + 20 = 30</span></span><br><span class="line"><span class="comment">#  10 - 20 = -10</span></span><br><span class="line"><span class="comment">#  10 * 20 = 200</span></span><br><span class="line"><span class="comment">#  20 / 10 = 2</span></span><br><span class="line"><span class="comment">#  20 % 10 = 0</span></span><br><span class="line"><span class="comment">#  10 != 20</span></span><br></pre></td></tr></table></figure><h3 id="6-2-å…³ç³»è¿ç®—ç¬¦"><a href="#6-2-å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="6.2. å…³ç³»è¿ç®—ç¬¦"></a>6.2. å…³ç³»è¿ç®—ç¬¦</h3><p>å…³ç³»è¿ç®—ç¬¦åªæ”¯æŒæ•°å­—ï¼Œä¸æ”¯æŒå­—ç¬¦ä¸²ï¼Œé™¤éå­—ç¬¦ä¸²çš„å€¼æ˜¯æ•°å­—ã€‚</p><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å…³ç³»è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ x ä¸º 10ï¼Œå˜é‡ y ä¸º 20ï¼š</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th><th>ä¸¾ä¾‹</th></tr></thead><tbody><tr><td><code>-eq</code></td><td>æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueã€‚</td><td><code>[ $a -eq $b ]</code>è¿”å› falseã€‚</td></tr><tr><td><code>-ne</code></td><td>æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueã€‚</td><td><code>[ $a -ne $b ]</code> è¿”å› trueã€‚</td></tr><tr><td><code>-gt</code></td><td>æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ $a -gt $b ]</code> è¿”å› falseã€‚</td></tr><tr><td><code>-lt</code></td><td>æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ $a -lt $b ]</code> è¿”å› trueã€‚</td></tr><tr><td><code>-ge</code></td><td>æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ $a -ge $b ]</code> è¿”å› falseã€‚</td></tr><tr><td><code>-le</code></td><td>æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ $a -le $b ]</code>è¿”å› trueã€‚</td></tr></tbody></table><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/operator/operator-demo2.sh" target="_blank" rel="noopener">operator-demo2.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x=10</span><br><span class="line">y=20</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"x=<span class="variable">$&#123;x&#125;</span>, y=<span class="variable">$&#123;y&#125;</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> -eq <span class="variable">$&#123;y&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -eq <span class="variable">$&#123;y&#125;</span> : x ç­‰äº y"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -eq <span class="variable">$&#123;y&#125;</span>: x ä¸ç­‰äº y"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> -ne <span class="variable">$&#123;y&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -ne <span class="variable">$&#123;y&#125;</span>: x ä¸ç­‰äº y"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -ne <span class="variable">$&#123;y&#125;</span>: x ç­‰äº y"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> -gt <span class="variable">$&#123;y&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -gt <span class="variable">$&#123;y&#125;</span>: x å¤§äº y"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -gt <span class="variable">$&#123;y&#125;</span>: x ä¸å¤§äº y"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> -lt <span class="variable">$&#123;y&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -lt <span class="variable">$&#123;y&#125;</span>: x å°äº y"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -lt <span class="variable">$&#123;y&#125;</span>: x ä¸å°äº y"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> -ge <span class="variable">$&#123;y&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -ge <span class="variable">$&#123;y&#125;</span>: x å¤§äºæˆ–ç­‰äº y"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -ge <span class="variable">$&#123;y&#125;</span>: x å°äº y"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> -le <span class="variable">$&#123;y&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -le <span class="variable">$&#123;y&#125;</span>: x å°äºæˆ–ç­‰äº y"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -le <span class="variable">$&#123;y&#125;</span>: x å¤§äº y"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  Execute: ./operator-demo2.sh</span></span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  x=10, y=20</span></span><br><span class="line"><span class="comment">#  10 -eq 20: x ä¸ç­‰äº y</span></span><br><span class="line"><span class="comment">#  10 -ne 20: x ä¸ç­‰äº y</span></span><br><span class="line"><span class="comment">#  10 -gt 20: x ä¸å¤§äº y</span></span><br><span class="line"><span class="comment">#  10 -lt 20: x å°äº y</span></span><br><span class="line"><span class="comment">#  10 -ge 20: x å°äº y</span></span><br><span class="line"><span class="comment">#  10 -le 20: x å°äºæˆ–ç­‰äº y</span></span><br></pre></td></tr></table></figure><h3 id="6-3-å¸ƒå°”è¿ç®—ç¬¦"><a href="#6-3-å¸ƒå°”è¿ç®—ç¬¦" class="headerlink" title="6.3. å¸ƒå°”è¿ç®—ç¬¦"></a>6.3. å¸ƒå°”è¿ç®—ç¬¦</h3><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å¸ƒå°”è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ x ä¸º 10ï¼Œå˜é‡ y ä¸º 20ï¼š</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th><th>ä¸¾ä¾‹</th></tr></thead><tbody><tr><td><code>!</code></td><td>éè¿ç®—ï¼Œè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› falseï¼Œå¦åˆ™è¿”å› trueã€‚</td><td><code>[ ! false ]</code> è¿”å› trueã€‚</td></tr><tr><td><code>-o</code></td><td>æˆ–è¿ç®—ï¼Œæœ‰ä¸€ä¸ªè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› trueã€‚</td><td><code>[ $a -lt 20 -o $b -gt 100 ]</code> è¿”å› trueã€‚</td></tr><tr><td><code>-a</code></td><td>ä¸è¿ç®—ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼éƒ½ä¸º true æ‰è¿”å› trueã€‚</td><td><code>[ $a -lt 20 -a $b -gt 100 ]</code> è¿”å› falseã€‚</td></tr></tbody></table><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/operator/operator-demo3.sh" target="_blank" rel="noopener">operator-demo3.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x=10</span><br><span class="line">y=20</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"x=<span class="variable">$&#123;x&#125;</span>, y=<span class="variable">$&#123;y&#125;</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> != <span class="variable">$&#123;y&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> != <span class="variable">$&#123;y&#125;</span> : x ä¸ç­‰äº y"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> != <span class="variable">$&#123;y&#125;</span>: x ç­‰äº y"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> -lt 100 &amp;&amp; <span class="variable">$&#123;y&#125;</span> -gt 15 ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> å°äº 100 ä¸” <span class="variable">$&#123;y&#125;</span> å¤§äº 15 : è¿”å› true"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> å°äº 100 ä¸” <span class="variable">$&#123;y&#125;</span> å¤§äº 15 : è¿”å› false"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> -lt 100 || <span class="variable">$&#123;y&#125;</span> -gt 100 ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> å°äº 100 æˆ– <span class="variable">$&#123;y&#125;</span> å¤§äº 100 : è¿”å› true"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> å°äº 100 æˆ– <span class="variable">$&#123;y&#125;</span> å¤§äº 100 : è¿”å› false"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> -lt 5 || <span class="variable">$&#123;y&#125;</span> -gt 100 ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> å°äº 5 æˆ– <span class="variable">$&#123;y&#125;</span> å¤§äº 100 : è¿”å› true"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> å°äº 5 æˆ– <span class="variable">$&#123;y&#125;</span> å¤§äº 100 : è¿”å› false"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  Execute: ./operator-demo3.sh</span></span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  x=10, y=20</span></span><br><span class="line"><span class="comment">#  10 != 20 : x ä¸ç­‰äº y</span></span><br><span class="line"><span class="comment">#  10 å°äº 100 ä¸” 20 å¤§äº 15 : è¿”å› true</span></span><br><span class="line"><span class="comment">#  10 å°äº 100 æˆ– 20 å¤§äº 100 : è¿”å› true</span></span><br><span class="line"><span class="comment">#  10 å°äº 5 æˆ– 20 å¤§äº 100 : è¿”å› false</span></span><br></pre></td></tr></table></figure><h3 id="6-4-é€»è¾‘è¿ç®—ç¬¦"><a href="#6-4-é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="6.4. é€»è¾‘è¿ç®—ç¬¦"></a>6.4. é€»è¾‘è¿ç®—ç¬¦</h3><p>ä»¥ä¸‹ä»‹ç» Shell çš„é€»è¾‘è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ x ä¸º 10ï¼Œå˜é‡ y ä¸º 20:</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th><th>ä¸¾ä¾‹</th></tr></thead><tbody><tr><td><code>&amp;&amp;</code></td><td>é€»è¾‘çš„ AND</td><td><code>[[ ${x} -lt 100 &amp;&amp; ${y} -gt 100 ]]</code> è¿”å› false</td></tr><tr><td>`</td><td></td><td>`</td></tr></tbody></table><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/operator/operator-demo4.sh" target="_blank" rel="noopener">operator-demo4.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x=10</span><br><span class="line">y=20</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"x=<span class="variable">$&#123;x&#125;</span>, y=<span class="variable">$&#123;y&#125;</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> -lt 100 &amp;&amp; <span class="variable">$&#123;y&#125;</span> -gt 100 ]]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -lt 100 &amp;&amp; <span class="variable">$&#123;y&#125;</span> -gt 100 è¿”å› true"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -lt 100 &amp;&amp; <span class="variable">$&#123;y&#125;</span> -gt 100 è¿”å› false"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> -lt 100 || <span class="variable">$&#123;y&#125;</span> -gt 100 ]]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -lt 100 || <span class="variable">$&#123;y&#125;</span> -gt 100 è¿”å› true"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> -lt 100 || <span class="variable">$&#123;y&#125;</span> -gt 100 è¿”å› false"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  Execute: ./operator-demo4.sh</span></span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  x=10, y=20</span></span><br><span class="line"><span class="comment">#  10 -lt 100 &amp;&amp; 20 -gt 100 è¿”å› false</span></span><br><span class="line"><span class="comment">#  10 -lt 100 || 20 -gt 100 è¿”å› true</span></span><br></pre></td></tr></table></figure><h3 id="6-5-å­—ç¬¦ä¸²è¿ç®—ç¬¦"><a href="#6-5-å­—ç¬¦ä¸²è¿ç®—ç¬¦" class="headerlink" title="6.5. å­—ç¬¦ä¸²è¿ç®—ç¬¦"></a>6.5. å­—ç¬¦ä¸²è¿ç®—ç¬¦</h3><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å­—ç¬¦ä¸²è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º â€œabcâ€ï¼Œå˜é‡ b ä¸º â€œefgâ€ï¼š</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th><th>ä¸¾ä¾‹</th></tr></thead><tbody><tr><td><code>=</code></td><td>æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueã€‚</td><td><code>[ $a = $b ]</code> è¿”å› falseã€‚</td></tr><tr><td><code>!=</code></td><td>æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueã€‚</td><td><code>[ $a != $b ]</code> è¿”å› trueã€‚</td></tr><tr><td><code>-z</code></td><td>æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º 0ï¼Œä¸º 0 è¿”å› trueã€‚</td><td><code>[ -z $a ]</code> è¿”å› falseã€‚</td></tr><tr><td><code>-n</code></td><td>æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º 0ï¼Œä¸ä¸º 0 è¿”å› trueã€‚</td><td><code>[ -n $a ]</code> è¿”å› trueã€‚</td></tr><tr><td><code>str</code></td><td>æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºè¿”å› trueã€‚</td><td><code>[ $a ]</code> è¿”å› trueã€‚</td></tr></tbody></table><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/operator/operator-demo5.sh" target="_blank" rel="noopener">operator-demo5.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x=<span class="string">"abc"</span></span><br><span class="line">y=<span class="string">"xyz"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"x=<span class="variable">$&#123;x&#125;</span>, y=<span class="variable">$&#123;y&#125;</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> = <span class="variable">$&#123;y&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> = <span class="variable">$&#123;y&#125;</span> : x ç­‰äº y"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> = <span class="variable">$&#123;y&#125;</span>: x ä¸ç­‰äº y"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> != <span class="variable">$&#123;y&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> != <span class="variable">$&#123;y&#125;</span> : x ä¸ç­‰äº y"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> != <span class="variable">$&#123;y&#125;</span>: x ç­‰äº y"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ -z <span class="variable">$&#123;x&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"-z <span class="variable">$&#123;x&#125;</span> : å­—ç¬¦ä¸²é•¿åº¦ä¸º 0"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"-z <span class="variable">$&#123;x&#125;</span> : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ -n <span class="string">"<span class="variable">$&#123;x&#125;</span>"</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"-n <span class="variable">$&#123;x&#125;</span> : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"-n <span class="variable">$&#123;x&#125;</span> : å­—ç¬¦ä¸²é•¿åº¦ä¸º 0"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> : å­—ç¬¦ä¸²ä¸ä¸ºç©º"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> : å­—ç¬¦ä¸²ä¸ºç©º"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  Execute: ./operator-demo5.sh</span></span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  x=abc, y=xyz</span></span><br><span class="line"><span class="comment">#  abc = xyz: x ä¸ç­‰äº y</span></span><br><span class="line"><span class="comment">#  abc != xyz : x ä¸ç­‰äº y</span></span><br><span class="line"><span class="comment">#  -z abc : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0</span></span><br><span class="line"><span class="comment">#  -n abc : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0</span></span><br><span class="line"><span class="comment">#  abc : å­—ç¬¦ä¸²ä¸ä¸ºç©º</span></span><br></pre></td></tr></table></figure><h3 id="6-6-æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"><a href="#6-6-æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦" class="headerlink" title="6.6. æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"></a>6.6. æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦</h3><p>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦ç”¨äºæ£€æµ‹ Unix æ–‡ä»¶çš„å„ç§å±æ€§ã€‚</p><p>å±æ€§æ£€æµ‹æè¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th>æ“ä½œç¬¦</th><th>è¯´æ˜</th><th>ä¸¾ä¾‹</th></tr></thead><tbody><tr><td>-b file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ -b $file ]</code> è¿”å› falseã€‚</td></tr><tr><td>-c file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ -c $file ]</code> è¿”å› falseã€‚</td></tr><tr><td>-d file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ -d $file ]</code> è¿”å› falseã€‚</td></tr><tr><td>-f file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æ™®é€šæ–‡ä»¶ï¼ˆæ—¢ä¸æ˜¯ç›®å½•ï¼Œä¹Ÿä¸æ˜¯è®¾å¤‡æ–‡ä»¶ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ -f $file ]</code> è¿”å› trueã€‚</td></tr><tr><td>-g file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SGID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ -g $file ]</code> è¿”å› falseã€‚</td></tr><tr><td>-k file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº†ç²˜ç€ä½(Sticky Bit)ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ -k $file ]</code>è¿”å› falseã€‚</td></tr><tr><td>-p file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æœ‰åç®¡é“ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ -p $file ]</code> è¿”å› falseã€‚</td></tr><tr><td>-u file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SUID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ -u $file ]</code> è¿”å› falseã€‚</td></tr><tr><td>-r file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ -r $file ]</code> è¿”å› trueã€‚</td></tr><tr><td>-w file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ -w $file ]</code> è¿”å› trueã€‚</td></tr><tr><td>-x file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ -x $file ]</code> è¿”å› trueã€‚</td></tr><tr><td>-s file</td><td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äº 0ï¼‰ï¼Œä¸ä¸ºç©ºè¿”å› trueã€‚</td><td><code>[ -s $file ]</code> è¿”å› trueã€‚</td></tr><tr><td>-e file</td><td>æ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td><td><code>[ -e $file ]</code> è¿”å› trueã€‚</td></tr></tbody></table><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/operator/operator-demo6.sh" target="_blank" rel="noopener">operator-demo6.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">file=<span class="string">"/etc/hosts"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ -r <span class="variable">$&#123;file&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;file&#125;</span> æ–‡ä»¶å¯è¯»"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;file&#125;</span> æ–‡ä»¶ä¸å¯è¯»"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [[ -w <span class="variable">$&#123;file&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;file&#125;</span> æ–‡ä»¶å¯å†™"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;file&#125;</span> æ–‡ä»¶ä¸å¯å†™"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [[ -x <span class="variable">$&#123;file&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;file&#125;</span> æ–‡ä»¶å¯æ‰§è¡Œ"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;file&#125;</span> æ–‡ä»¶ä¸å¯æ‰§è¡Œ"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [[ -f <span class="variable">$&#123;file&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;file&#125;</span> æ–‡ä»¶ä¸ºæ™®é€šæ–‡ä»¶"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;file&#125;</span> æ–‡ä»¶ä¸ºç‰¹æ®Šæ–‡ä»¶"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [[ -d <span class="variable">$&#123;file&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;file&#125;</span> æ–‡ä»¶æ˜¯ä¸ªç›®å½•"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;file&#125;</span> æ–‡ä»¶ä¸æ˜¯ä¸ªç›®å½•"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [[ -s <span class="variable">$&#123;file&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;file&#125;</span> æ–‡ä»¶ä¸ä¸ºç©º"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;file&#125;</span> æ–‡ä»¶ä¸ºç©º"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [[ -e <span class="variable">$&#123;file&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;file&#125;</span> æ–‡ä»¶å­˜åœ¨"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;file&#125;</span> æ–‡ä»¶ä¸å­˜åœ¨"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  Execute: ./operator-demo6.sh</span></span><br><span class="line"><span class="comment">#  Output:(æ ¹æ®æ–‡ä»¶çš„å®é™…æƒ…å†µï¼Œè¾“å‡ºç»“æœå¯èƒ½ä¸åŒ)</span></span><br><span class="line"><span class="comment">#  /etc/hosts æ–‡ä»¶å¯è¯»</span></span><br><span class="line"><span class="comment">#  /etc/hosts æ–‡ä»¶å¯å†™</span></span><br><span class="line"><span class="comment">#  /etc/hosts æ–‡ä»¶ä¸å¯æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">#  /etc/hosts æ–‡ä»¶ä¸ºæ™®é€šæ–‡ä»¶</span></span><br><span class="line"><span class="comment">#  /etc/hosts æ–‡ä»¶ä¸æ˜¯ä¸ªç›®å½•</span></span><br><span class="line"><span class="comment">#  /etc/hosts æ–‡ä»¶ä¸ä¸ºç©º</span></span><br><span class="line"><span class="comment">#  /etc/hosts æ–‡ä»¶å­˜åœ¨</span></span><br></pre></td></tr></table></figure><h2 id="7-æ§åˆ¶è¯­å¥"><a href="#7-æ§åˆ¶è¯­å¥" class="headerlink" title="7. æ§åˆ¶è¯­å¥"></a>7. æ§åˆ¶è¯­å¥</h2><h3 id="7-1-æ¡ä»¶è¯­å¥"><a href="#7-1-æ¡ä»¶è¯­å¥" class="headerlink" title="7.1. æ¡ä»¶è¯­å¥"></a>7.1. æ¡ä»¶è¯­å¥</h3><p>è·Ÿå…¶å®ƒç¨‹åºè®¾è®¡è¯­è¨€ä¸€æ ·ï¼ŒBash ä¸­çš„æ¡ä»¶è¯­å¥è®©æˆ‘ä»¬å¯ä»¥å†³å®šä¸€ä¸ªæ“ä½œæ˜¯å¦è¢«æ‰§è¡Œã€‚ç»“æœå–å†³äºä¸€ä¸ªåŒ…åœ¨<code>[[ ]]</code>é‡Œçš„è¡¨è¾¾å¼ã€‚</p><p>ç”±<code>[[ ]]</code>ï¼ˆ<code>sh</code>ä¸­æ˜¯<code>[ ]</code>ï¼‰åŒ…èµ·æ¥çš„è¡¨è¾¾å¼è¢«ç§°ä½œ <strong>æ£€æµ‹å‘½ä»¤</strong> æˆ– <strong>åŸºå…ƒ</strong>ã€‚è¿™äº›è¡¨è¾¾å¼å¸®åŠ©æˆ‘ä»¬æ£€æµ‹ä¸€ä¸ªæ¡ä»¶çš„ç»“æœã€‚è¿™é‡Œå¯ä»¥æ‰¾åˆ°æœ‰å…³<a href="http://serverfault.com/a/52050" target="_blank" rel="noopener">bash ä¸­å•åŒä¸­æ‹¬å·åŒºåˆ«</a>çš„ç­”æ¡ˆã€‚</p><p>å…±æœ‰ä¸¤ä¸ªä¸åŒçš„æ¡ä»¶è¡¨è¾¾å¼ï¼š<code>if</code>å’Œ<code>case</code>ã€‚</p><h4 id="if"><a href="#if" class="headerlink" title="if"></a><code>if</code></h4><p>ï¼ˆ1ï¼‰<code>if</code> è¯­å¥</p><p><code>if</code>åœ¨ä½¿ç”¨ä¸Šè·Ÿå…¶å®ƒè¯­è¨€ç›¸åŒã€‚å¦‚æœä¸­æ‹¬å·é‡Œçš„è¡¨è¾¾å¼ä¸ºçœŸï¼Œé‚£ä¹ˆ<code>then</code>å’Œ<code>fi</code>ä¹‹é—´çš„ä»£ç ä¼šè¢«æ‰§è¡Œã€‚<code>fi</code>æ ‡å¿—ç€æ¡ä»¶ä»£ç å—çš„ç»“æŸã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å†™æˆä¸€è¡Œ</span></span><br><span class="line"><span class="keyword">if</span> [[ 1 -eq 1 ]]; <span class="keyword">then</span> <span class="built_in">echo</span> <span class="string">"1 -eq 1 result is: true"</span>; <span class="keyword">fi</span></span><br><span class="line"><span class="comment"># Output: 1 -eq 1 result is: true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å†™æˆå¤šè¡Œ</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">"abc"</span> -eq <span class="string">"abc"</span> ]]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">""</span>abc<span class="string">" -eq "</span>abc<span class="string">" result is: true"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># Output: abc -eq abc result is: true</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰<code>if else</code> è¯­å¥</p><p>åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>if..else</code>è¯­å¥ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [[ 2 -ne 1 ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"true"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"false"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># Output: true</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰<code>if elif else</code> è¯­å¥</p><p>æœ‰äº›æ—¶å€™ï¼Œ<code>if..else</code>ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ã€‚åˆ«å¿˜äº†<code>if..elif..else</code>ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x=10</span><br><span class="line">y=20</span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;x&#125;</span> &gt; <span class="variable">$&#123;y&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> &gt; <span class="variable">$&#123;y&#125;</span>"</span></span><br><span class="line"><span class="keyword">elif</span> [[ <span class="variable">$&#123;x&#125;</span> &lt; <span class="variable">$&#123;y&#125;</span> ]]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> &lt; <span class="variable">$&#123;y&#125;</span>"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> = <span class="variable">$&#123;y&#125;</span>"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># Output: 10 &lt; 20</span></span><br></pre></td></tr></table></figure><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/statement/if-demo.sh" target="_blank" rel="noopener">if-demo.sh</a></p><h4 id="case"><a href="#case" class="headerlink" title="case"></a><code>case</code></h4><p>å¦‚æœä½ éœ€è¦é¢å¯¹å¾ˆå¤šæƒ…å†µï¼Œåˆ†åˆ«è¦é‡‡å–ä¸åŒçš„æªæ–½ï¼Œé‚£ä¹ˆä½¿ç”¨<code>case</code>ä¼šæ¯”åµŒå¥—çš„<code>if</code>æ›´æœ‰ç”¨ã€‚ä½¿ç”¨<code>case</code>æ¥è§£å†³å¤æ‚çš„æ¡ä»¶åˆ¤æ–­ï¼Œçœ‹èµ·æ¥åƒä¸‹é¢è¿™æ ·ï¼š</p><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/statement/case-demo.sh" target="_blank" rel="noopener">case-demo.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">exec</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$&#123;oper&#125;</span> <span class="keyword">in</span></span><br><span class="line">  <span class="string">"+"</span>)</span><br><span class="line">    val=`expr <span class="variable">$&#123;x&#125;</span> + <span class="variable">$&#123;y&#125;</span>`</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> + <span class="variable">$&#123;y&#125;</span> = <span class="variable">$&#123;val&#125;</span>"</span></span><br><span class="line">  ;;</span><br><span class="line">  <span class="string">"-"</span>)</span><br><span class="line">    val=`expr <span class="variable">$&#123;x&#125;</span> - <span class="variable">$&#123;y&#125;</span>`</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> - <span class="variable">$&#123;y&#125;</span> = <span class="variable">$&#123;val&#125;</span>"</span></span><br><span class="line">  ;;</span><br><span class="line">  <span class="string">"*"</span>)</span><br><span class="line">    val=`expr <span class="variable">$&#123;x&#125;</span> \* <span class="variable">$&#123;y&#125;</span>`</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> * <span class="variable">$&#123;y&#125;</span> = <span class="variable">$&#123;val&#125;</span>"</span></span><br><span class="line">  ;;</span><br><span class="line">  <span class="string">"/"</span>)</span><br><span class="line">    val=`expr <span class="variable">$&#123;x&#125;</span> / <span class="variable">$&#123;y&#125;</span>`</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;x&#125;</span> / <span class="variable">$&#123;y&#125;</span> = <span class="variable">$&#123;val&#125;</span>"</span></span><br><span class="line">  ;;</span><br><span class="line">  *)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Unknown oper!"</span></span><br><span class="line">  ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure><p>æ¯ç§æƒ…å†µéƒ½æ˜¯åŒ¹é…äº†æŸä¸ªæ¨¡å¼çš„è¡¨è¾¾å¼ã€‚<code>|</code>ç”¨æ¥åˆ†å‰²å¤šä¸ªæ¨¡å¼ï¼Œ<code>)</code>ç”¨æ¥ç»“æŸä¸€ä¸ªæ¨¡å¼åºåˆ—ã€‚ç¬¬ä¸€ä¸ªåŒ¹é…ä¸Šçš„æ¨¡å¼å¯¹åº”çš„å‘½ä»¤å°†ä¼šè¢«æ‰§è¡Œã€‚<code>*</code>ä»£è¡¨ä»»ä½•ä¸åŒ¹é…ä»¥ä¸Šç»™å®šæ¨¡å¼çš„æ¨¡å¼ã€‚å‘½ä»¤å—å„¿ä¹‹é—´è¦ç”¨<code>;;</code>åˆ†éš”ã€‚</p><h3 id="7-2-å¾ªç¯è¯­å¥"><a href="#7-2-å¾ªç¯è¯­å¥" class="headerlink" title="7.2. å¾ªç¯è¯­å¥"></a>7.2. å¾ªç¯è¯­å¥</h3><p>å¾ªç¯å…¶å®ä¸è¶³ä¸ºå¥‡ã€‚è·Ÿå…¶å®ƒç¨‹åºè®¾è®¡è¯­è¨€ä¸€æ ·ï¼Œbash ä¸­çš„å¾ªç¯ä¹Ÿæ˜¯åªè¦æ§åˆ¶æ¡ä»¶ä¸ºçœŸå°±ä¸€ç›´è¿­ä»£æ‰§è¡Œçš„ä»£ç å—ã€‚</p><p>Bash ä¸­æœ‰å››ç§å¾ªç¯ï¼š<code>for</code>ï¼Œ<code>while</code>ï¼Œ<code>until</code>å’Œ<code>select</code>ã€‚</p><h4 id="forå¾ªç¯"><a href="#forå¾ªç¯" class="headerlink" title="forå¾ªç¯"></a><code>for</code>å¾ªç¯</h4><p><code>for</code>ä¸å®ƒåœ¨ C è¯­è¨€ä¸­çš„å§Šå¦¹éå¸¸åƒã€‚çœ‹èµ·æ¥æ˜¯è¿™æ ·ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> arg <span class="keyword">in</span> elem1 elem2 ... elemN</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="comment">### è¯­å¥</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p>åœ¨æ¯æ¬¡å¾ªç¯çš„è¿‡ç¨‹ä¸­ï¼Œ<code>arg</code>ä¾æ¬¡è¢«èµ‹å€¼ä¸ºä»<code>elem1</code>åˆ°<code>elemN</code>ã€‚è¿™äº›å€¼è¿˜å¯ä»¥æ˜¯é€šé…ç¬¦æˆ–è€…<a href="https://github.com/denysdovhan/bash-handbook/blob/master/translations/zh-CN/README.md#å¤§æ‹¬å·æ‰©å±•" target="_blank" rel="noopener">å¤§æ‹¬å·æ‰©å±•</a>ã€‚</p><p>å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŠŠ<code>for</code>å¾ªç¯å†™åœ¨ä¸€è¡Œï¼Œä½†è¿™è¦æ±‚<code>do</code>ä¹‹å‰è¦æœ‰ä¸€ä¸ªåˆ†å·ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..5&#125;; <span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">$i</span>; <span class="keyword">done</span></span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ï¼Œå¦‚æœä½ è§‰å¾—<code>for..in..do</code>å¯¹ä½ æ¥è¯´æœ‰ç‚¹å¥‡æ€ªï¼Œé‚£ä¹ˆä½ ä¹Ÿå¯ä»¥åƒ C è¯­è¨€é‚£æ ·ä½¿ç”¨<code>for</code>ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (( i = 0; i &lt; 10; i++ )); <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬æƒ³å¯¹ä¸€ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åšåŒæ ·çš„æ“ä½œæ—¶ï¼Œ<code>for</code>å°±å¾ˆæ–¹ä¾¿äº†ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æŠŠæ‰€æœ‰çš„<code>.bash</code>æ–‡ä»¶ç§»åŠ¨åˆ°<code>script</code>æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶ç»™å®ƒä»¬å¯æ‰§è¡Œæƒé™ï¼Œæˆ‘ä»¬çš„è„šæœ¬å¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">DIR=/home/zp</span><br><span class="line"><span class="keyword">for</span> FILE <span class="keyword">in</span> <span class="variable">$&#123;DIR&#125;</span>/*.sh; <span class="keyword">do</span></span><br><span class="line">  mv <span class="string">"<span class="variable">$FILE</span>"</span> <span class="string">"<span class="variable">$&#123;DIR&#125;</span>/scripts"</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment"># å°† /home/zp ç›®å½•ä¸‹æ‰€æœ‰ sh æ–‡ä»¶æ‹·è´åˆ° /home/zp/scripts</span></span><br></pre></td></tr></table></figure><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/statement/for-demo.sh" target="_blank" rel="noopener">for-demo.sh</a></p><h4 id="whileå¾ªç¯"><a href="#whileå¾ªç¯" class="headerlink" title="whileå¾ªç¯"></a><code>while</code>å¾ªç¯</h4><p><code>while</code>å¾ªç¯æ£€æµ‹ä¸€ä¸ªæ¡ä»¶ï¼Œåªè¦è¿™ä¸ªæ¡ä»¶ä¸º <em>çœŸ</em>ï¼Œå°±æ‰§è¡Œä¸€æ®µå‘½ä»¤ã€‚è¢«æ£€æµ‹çš„æ¡ä»¶è·Ÿ<code>if..then</code>ä¸­ä½¿ç”¨çš„<a href="https://github.com/denysdovhan/bash-handbook/blob/master/translations/zh-CN/README.md#åŸºå…ƒå’Œç»„åˆè¡¨è¾¾å¼" target="_blank" rel="noopener">åŸºå…ƒ</a>å¹¶æ— äºŒå¼‚ã€‚å› æ­¤ä¸€ä¸ª<code>while</code>å¾ªç¯çœ‹èµ·æ¥ä¼šæ˜¯è¿™æ ·ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> [[ condition ]]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="comment">### è¯­å¥</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p>è·Ÿ<code>for</code>å¾ªç¯ä¸€æ ·ï¼Œå¦‚æœæˆ‘ä»¬æŠŠ<code>do</code>å’Œè¢«æ£€æµ‹çš„æ¡ä»¶å†™åˆ°ä¸€è¡Œï¼Œé‚£ä¹ˆå¿…é¡»è¦åœ¨<code>do</code>ä¹‹å‰åŠ ä¸€ä¸ªåˆ†å·ã€‚</p><p>æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">### 0åˆ°9ä¹‹é—´æ¯ä¸ªæ•°çš„å¹³æ–¹</span></span><br><span class="line">x=0</span><br><span class="line"><span class="keyword">while</span> [[ <span class="variable">$&#123;x&#125;</span> -lt 10 ]]; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> $((x * x))</span><br><span class="line">  x=$((x + 1))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  0</span></span><br><span class="line"><span class="comment">#  1</span></span><br><span class="line"><span class="comment">#  4</span></span><br><span class="line"><span class="comment">#  9</span></span><br><span class="line"><span class="comment">#  16</span></span><br><span class="line"><span class="comment">#  25</span></span><br><span class="line"><span class="comment">#  36</span></span><br><span class="line"><span class="comment">#  49</span></span><br><span class="line"><span class="comment">#  64</span></span><br><span class="line"><span class="comment">#  81</span></span><br></pre></td></tr></table></figure><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/statement/while-demo.sh" target="_blank" rel="noopener">while-demo.sh</a></p><h4 id="untilå¾ªç¯"><a href="#untilå¾ªç¯" class="headerlink" title="untilå¾ªç¯"></a><code>until</code>å¾ªç¯</h4><p><code>until</code>å¾ªç¯è·Ÿ<code>while</code>å¾ªç¯æ­£å¥½ç›¸åã€‚å®ƒè·Ÿ<code>while</code>ä¸€æ ·ä¹Ÿéœ€è¦æ£€æµ‹ä¸€ä¸ªæµ‹è¯•æ¡ä»¶ï¼Œä½†ä¸åŒçš„æ˜¯ï¼Œåªè¦è¯¥æ¡ä»¶ä¸º <em>å‡</em> å°±ä¸€ç›´æ‰§è¡Œå¾ªç¯ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x=0</span><br><span class="line">until [[ <span class="variable">$&#123;x&#125;</span> -ge 5 ]]; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$&#123;x&#125;</span></span><br><span class="line">  x=`expr <span class="variable">$&#123;x&#125;</span> + 1`</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  0</span></span><br><span class="line"><span class="comment">#  1</span></span><br><span class="line"><span class="comment">#  2</span></span><br><span class="line"><span class="comment">#  3</span></span><br><span class="line"><span class="comment">#  4</span></span><br></pre></td></tr></table></figure><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/statement/until-demo.sh" target="_blank" rel="noopener">until-demo.sh</a></p><h4 id="selectå¾ªç¯"><a href="#selectå¾ªç¯" class="headerlink" title="selectå¾ªç¯"></a><code>select</code>å¾ªç¯</h4><p><code>select</code>å¾ªç¯å¸®åŠ©æˆ‘ä»¬ç»„ç»‡ä¸€ä¸ªç”¨æˆ·èœå•ã€‚å®ƒçš„è¯­æ³•å‡ ä¹è·Ÿ<code>for</code>å¾ªç¯ä¸€è‡´ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">select answer <span class="keyword">in</span> elem1 elem2 ... elemN</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="comment">### è¯­å¥</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p><code>select</code>ä¼šæ‰“å°<code>elem1..elemN</code>ä»¥åŠå®ƒä»¬çš„åºåˆ—å·åˆ°å±å¹•ä¸Šï¼Œä¹‹åä¼šæç¤ºç”¨æˆ·è¾“å…¥ã€‚é€šå¸¸çœ‹åˆ°çš„æ˜¯<code>$?</code>ï¼ˆ<code>PS3</code>å˜é‡ï¼‰ã€‚ç”¨æˆ·çš„é€‰æ‹©ç»“æœä¼šè¢«ä¿å­˜åˆ°<code>answer</code>ä¸­ã€‚å¦‚æœ<code>answer</code>æ˜¯ä¸€ä¸ªåœ¨<code>1..N</code>ä¹‹é—´çš„æ•°å­—ï¼Œé‚£ä¹ˆ<code>è¯­å¥</code>ä¼šè¢«æ‰§è¡Œï¼Œç´§æ¥ç€ä¼šè¿›è¡Œä¸‹ä¸€æ¬¡è¿­ä»£ â€”â€” å¦‚æœä¸æƒ³è¿™æ ·çš„è¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>break</code>è¯­å¥ã€‚</p><p>ä¸€ä¸ªå¯èƒ½çš„å®ä¾‹å¯èƒ½ä¼šæ˜¯è¿™æ ·ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line">PS3=<span class="string">"Choose the package manager: "</span></span><br><span class="line">select ITEM <span class="keyword">in</span> bower npm gem pip</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> -n <span class="string">"Enter the package name: "</span> &amp;&amp; <span class="built_in">read</span> PACKAGE</span><br><span class="line"><span class="keyword">case</span> <span class="variable">$&#123;ITEM&#125;</span> <span class="keyword">in</span></span><br><span class="line">  bower) bower install <span class="variable">$&#123;PACKAGE&#125;</span> ;;</span><br><span class="line">  npm) npm install <span class="variable">$&#123;PACKAGE&#125;</span> ;;</span><br><span class="line">  gem) gem install <span class="variable">$&#123;PACKAGE&#125;</span> ;;</span><br><span class="line">  pip) pip install <span class="variable">$&#123;PACKAGE&#125;</span> ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"><span class="built_in">break</span> <span class="comment"># é¿å…æ— é™å¾ªç¯</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­ï¼Œå…ˆè¯¢é—®ç”¨æˆ·ä»–æƒ³ä½¿ç”¨ä»€ä¹ˆåŒ…ç®¡ç†å™¨ã€‚æ¥ç€ï¼Œåˆè¯¢é—®äº†æƒ³å®‰è£…ä»€ä¹ˆåŒ…ï¼Œæœ€åæ‰§è¡Œå®‰è£…æ“ä½œã€‚</p><p>è¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œä¼šå¾—åˆ°å¦‚ä¸‹è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./my_script</span><br><span class="line">1) bower</span><br><span class="line">2) npm</span><br><span class="line">3) gem</span><br><span class="line">4) pip</span><br><span class="line">Choose the package manager: 2</span><br><span class="line">Enter the package name: gitbook-cli</span><br></pre></td></tr></table></figure><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/statement/select-demo.sh" target="_blank" rel="noopener">select-demo.sh</a></p><h4 id="break-å’Œ-continue"><a href="#break-å’Œ-continue" class="headerlink" title="break å’Œ continue"></a><code>break</code> å’Œ <code>continue</code></h4><p>å¦‚æœæƒ³æå‰ç»“æŸä¸€ä¸ªå¾ªç¯æˆ–è·³è¿‡æŸæ¬¡å¾ªç¯æ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨ shell çš„<code>break</code>å’Œ<code>continue</code>è¯­å¥æ¥å®ç°ã€‚å®ƒä»¬å¯ä»¥åœ¨ä»»ä½•å¾ªç¯ä¸­ä½¿ç”¨ã€‚</p><blockquote><p><code>break</code>è¯­å¥ç”¨æ¥æå‰ç»“æŸå½“å‰å¾ªç¯ã€‚</p><p><code>continue</code>è¯­å¥ç”¨æ¥è·³è¿‡æŸæ¬¡è¿­ä»£ã€‚</p></blockquote><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/statement/break-demo.sh" target="_blank" rel="noopener">break-demo.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥æ‰¾ 10 ä»¥å†…ç¬¬ä¸€ä¸ªèƒ½æ•´é™¤ 2 å’Œ 3 çš„æ­£æ•´æ•°</span></span><br><span class="line">i=1</span><br><span class="line"><span class="keyword">while</span> [[ <span class="variable">$&#123;i&#125;</span> -lt 10 ]]; <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">if</span> [[ $((i % 3)) -eq 0 ]] &amp;&amp; [[ $((i % 2)) -eq 0 ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;i&#125;</span></span><br><span class="line">    <span class="built_in">break</span>;</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  i=`expr <span class="variable">$&#123;i&#125;</span> + 1`</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment"># Output: 6</span></span><br></pre></td></tr></table></figure><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/statement/continue-demo.sh" target="_blank" rel="noopener">continue-demo.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ‰“å°10ä»¥å†…çš„å¥‡æ•°</span></span><br><span class="line"><span class="keyword">for</span> (( i = 0; i &lt; 10; i ++ )); <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">if</span> [[ $((i % 2)) -eq 0 ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">continue</span>;</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$&#123;i&#125;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  1</span></span><br><span class="line"><span class="comment">#  3</span></span><br><span class="line"><span class="comment">#  5</span></span><br><span class="line"><span class="comment">#  7</span></span><br><span class="line"><span class="comment">#  9</span></span><br></pre></td></tr></table></figure><h2 id="8-å‡½æ•°"><a href="#8-å‡½æ•°" class="headerlink" title="8. å‡½æ•°"></a>8. å‡½æ•°</h2><p>bash å‡½æ•°å®šä¹‰è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[ <span class="keyword">function</span> ] funname [()] &#123;</span><br><span class="line">    action;</span><br><span class="line">    [<span class="built_in">return</span> int;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’¡ è¯´æ˜ï¼š</p><ol><li>å‡½æ•°å®šä¹‰æ—¶ï¼Œ<code>function</code> å…³é”®å­—å¯æœ‰å¯æ— ã€‚</li><li>å‡½æ•°è¿”å›å€¼ - return è¿”å›å‡½æ•°è¿”å›å€¼ï¼Œè¿”å›å€¼ç±»å‹åªèƒ½ä¸ºæ•´æ•°ï¼ˆ0-255ï¼‰ã€‚å¦‚æœä¸åŠ  return è¯­å¥ï¼Œshell é»˜è®¤å°†ä»¥æœ€åä¸€æ¡å‘½ä»¤çš„è¿è¡Œç»“æœï¼Œä½œä¸ºå‡½æ•°è¿”å›å€¼ã€‚</li><li>å‡½æ•°è¿”å›å€¼åœ¨è°ƒç”¨è¯¥å‡½æ•°åé€šè¿‡ <code>$?</code> æ¥è·å¾—ã€‚</li><li>æ‰€æœ‰å‡½æ•°åœ¨ä½¿ç”¨å‰å¿…é¡»å®šä¹‰ã€‚è¿™æ„å‘³ç€å¿…é¡»å°†å‡½æ•°æ”¾åœ¨è„šæœ¬å¼€å§‹éƒ¨åˆ†ï¼Œç›´è‡³ shell è§£é‡Šå™¨é¦–æ¬¡å‘ç°å®ƒæ—¶ï¼Œæ‰å¯ä»¥ä½¿ç”¨ã€‚è°ƒç”¨å‡½æ•°ä»…ä½¿ç”¨å…¶å‡½æ•°åå³å¯ã€‚</li></ol></blockquote><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/tree/master/codes/shell/demos//function/function-demo.sh" target="_blank" rel="noopener">function-demo.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">calc</span></span>()&#123;</span><br><span class="line">  PS3=<span class="string">"choose the oper: "</span></span><br><span class="line">  select oper <span class="keyword">in</span> + - \* / <span class="comment"># ç”Ÿæˆæ“ä½œç¬¦é€‰æ‹©èœå•</span></span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> -n <span class="string">"enter first num: "</span> &amp;&amp; <span class="built_in">read</span> x <span class="comment"># è¯»å–è¾“å…¥å‚æ•°</span></span><br><span class="line">  <span class="built_in">echo</span> -n <span class="string">"enter second num: "</span> &amp;&amp; <span class="built_in">read</span> y <span class="comment"># è¯»å–è¾“å…¥å‚æ•°</span></span><br><span class="line">  <span class="built_in">exec</span></span><br><span class="line">  <span class="keyword">case</span> <span class="variable">$&#123;oper&#125;</span> <span class="keyword">in</span></span><br><span class="line">    <span class="string">"+"</span>)</span><br><span class="line">      <span class="built_in">return</span> $((<span class="variable">$&#123;x&#125;</span> + <span class="variable">$&#123;y&#125;</span>))</span><br><span class="line">    ;;</span><br><span class="line">    <span class="string">"-"</span>)</span><br><span class="line">      <span class="built_in">return</span> $((<span class="variable">$&#123;x&#125;</span> - <span class="variable">$&#123;y&#125;</span>))</span><br><span class="line">    ;;</span><br><span class="line">    <span class="string">"*"</span>)</span><br><span class="line">      <span class="built_in">return</span> $((<span class="variable">$&#123;x&#125;</span> * <span class="variable">$&#123;y&#125;</span>))</span><br><span class="line">    ;;</span><br><span class="line">    <span class="string">"/"</span>)</span><br><span class="line">      <span class="built_in">return</span> $((<span class="variable">$&#123;x&#125;</span> / <span class="variable">$&#123;y&#125;</span>))</span><br><span class="line">    ;;</span><br><span class="line">    *)</span><br><span class="line">      <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;oper&#125;</span> is not support!"</span></span><br><span class="line">      <span class="built_in">return</span> 0</span><br><span class="line">    ;;</span><br><span class="line">  <span class="keyword">esac</span></span><br><span class="line">  <span class="built_in">break</span></span><br><span class="line">  <span class="keyword">done</span></span><br><span class="line">&#125;</span><br><span class="line">calc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"the result is: $?"</span> <span class="comment"># $? è·å– calc å‡½æ•°è¿”å›å€¼</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./<span class="keyword">function</span>-demo.sh</span><br><span class="line">1) +</span><br><span class="line">2) -</span><br><span class="line">3) *</span><br><span class="line">4) /</span><br><span class="line">choose the oper: 3</span><br><span class="line">enter first num: 10</span><br><span class="line">enter second num: 10</span><br><span class="line">the result is: 100</span><br></pre></td></tr></table></figure><h3 id="8-1-ä½ç½®å‚æ•°"><a href="#8-1-ä½ç½®å‚æ•°" class="headerlink" title="8.1. ä½ç½®å‚æ•°"></a>8.1. ä½ç½®å‚æ•°</h3><p><strong>ä½ç½®å‚æ•°</strong>æ˜¯åœ¨è°ƒç”¨ä¸€ä¸ªå‡½æ•°å¹¶ä¼ ç»™å®ƒå‚æ•°æ—¶åˆ›å»ºçš„å˜é‡ã€‚</p><p>ä½ç½®å‚æ•°å˜é‡è¡¨ï¼š</p><table><thead><tr><th>å˜é‡</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>$0</code></td><td>è„šæœ¬åç§°</td></tr><tr><td><code>$1 â€¦ $9</code></td><td>ç¬¬ 1 ä¸ªåˆ°ç¬¬ 9 ä¸ªå‚æ•°åˆ—è¡¨</td></tr><tr><td><code>${10} â€¦ ${N}</code></td><td>ç¬¬ 10 ä¸ªåˆ° N ä¸ªå‚æ•°åˆ—è¡¨</td></tr><tr><td><code>$*</code> or <code>$@</code></td><td>é™¤äº†<code>$0</code>å¤–çš„æ‰€æœ‰ä½ç½®å‚æ•°</td></tr><tr><td><code>$#</code></td><td>ä¸åŒ…æ‹¬<code>$0</code>åœ¨å†…çš„ä½ç½®å‚æ•°çš„ä¸ªæ•°</td></tr><tr><td><code>$FUNCNAME</code></td><td>å‡½æ•°åç§°ï¼ˆä»…åœ¨å‡½æ•°å†…éƒ¨æœ‰å€¼ï¼‰</td></tr></tbody></table><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/tree/master/codes/shell/demos//function/function-demo2.sh" target="_blank" rel="noopener">function-demo2.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line">x=0</span><br><span class="line"><span class="keyword">if</span> [[ -n <span class="variable">$1</span> ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š<span class="variable">$1</span>"</span></span><br><span class="line">  x=<span class="variable">$1</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç©º"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">y=0</span><br><span class="line"><span class="keyword">if</span> [[ -n <span class="variable">$2</span> ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š<span class="variable">$2</span>"</span></span><br><span class="line">  y=<span class="variable">$2</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"ç¬¬äºŒä¸ªå‚æ•°ä¸ºç©º"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">paramsFunction</span></span>()&#123;</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"å‡½æ•°ç¬¬ä¸€ä¸ªå…¥å‚ï¼š<span class="variable">$1</span>"</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"å‡½æ•°ç¬¬äºŒä¸ªå…¥å‚ï¼š<span class="variable">$2</span>"</span></span><br><span class="line">&#125;</span><br><span class="line">paramsFunction <span class="variable">$&#123;x&#125;</span> <span class="variable">$&#123;y&#125;</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./<span class="keyword">function</span>-demo2.sh</span><br><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç©º</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•°ä¸ºç©º</span><br><span class="line">å‡½æ•°ç¬¬ä¸€ä¸ªå…¥å‚ï¼š0</span><br><span class="line">å‡½æ•°ç¬¬äºŒä¸ªå…¥å‚ï¼š0</span><br><span class="line"></span><br><span class="line">$ ./<span class="keyword">function</span>-demo2.sh 10 20</span><br><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š10</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š20</span><br><span class="line">å‡½æ•°ç¬¬ä¸€ä¸ªå…¥å‚ï¼š10</span><br><span class="line">å‡½æ•°ç¬¬äºŒä¸ªå…¥å‚ï¼š20</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>./variable-demo4.sh hello world</code> ï¼Œç„¶ååœ¨è„šæœ¬ä¸­é€šè¿‡ <code>$1</code>ã€<code>$2</code> â€¦ è¯»å–ç¬¬ 1 ä¸ªå‚æ•°ã€ç¬¬ 2 ä¸ªå‚æ•°ã€‚ã€‚ã€‚</p><h3 id="8-2-å‡½æ•°å¤„ç†å‚æ•°"><a href="#8-2-å‡½æ•°å¤„ç†å‚æ•°" class="headerlink" title="8.2. å‡½æ•°å¤„ç†å‚æ•°"></a>8.2. å‡½æ•°å¤„ç†å‚æ•°</h3><p>å¦å¤–ï¼Œè¿˜æœ‰å‡ ä¸ªç‰¹æ®Šå­—ç¬¦ç”¨æ¥å¤„ç†å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°å¤„ç†</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>$#</code></td><td>è¿”å›å‚æ•°ä¸ªæ•°</td></tr><tr><td><code>$*</code></td><td>è¿”å›æ‰€æœ‰å‚æ•°</td></tr><tr><td><code>$$</code></td><td>è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹ ID å·</td></tr><tr><td><code>$!</code></td><td>åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„ ID å·</td></tr><tr><td><code>$@</code></td><td>è¿”å›æ‰€æœ‰å‚æ•°</td></tr><tr><td><code>$-</code></td><td>è¿”å› Shell ä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼Œä¸ set å‘½ä»¤åŠŸèƒ½ç›¸åŒã€‚</td></tr><tr><td><code>$?</code></td><td>å‡½æ•°è¿”å›å€¼</td></tr></tbody></table><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/tree/master/codes/shell/demos//function/function-demo3.sh" target="_blank" rel="noopener">function-demo3.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">runner</span></span>() &#123;</span><br><span class="line">  <span class="built_in">return</span> 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">name=zp</span><br><span class="line"><span class="function"><span class="title">paramsFunction</span></span>()&#123;</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"å‡½æ•°ç¬¬ä¸€ä¸ªå…¥å‚ï¼š<span class="variable">$1</span>"</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"å‡½æ•°ç¬¬äºŒä¸ªå…¥å‚ï¼š<span class="variable">$2</span>"</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°ï¼š<span class="variable">$#</span>"</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"æ‰€æœ‰å‚æ•°ï¼š"</span></span><br><span class="line">  <span class="built_in">printf</span> <span class="string">"+ %s\n"</span> <span class="string">"$*"</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹ ID å·ï¼š$$"</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„ ID å·ï¼š$!"</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"æ‰€æœ‰å‚æ•°ï¼š"</span></span><br><span class="line">  <span class="built_in">printf</span> <span class="string">"+ %s\n"</span> <span class="string">"<span class="variable">$@</span>"</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"Shell ä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼š$-"</span></span><br><span class="line">  runner</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"runner å‡½æ•°çš„è¿”å›å€¼ï¼š$?"</span></span><br><span class="line">&#125;</span><br><span class="line">paramsFunction 1 <span class="string">"abc"</span> <span class="string">"hello, \"zp\""</span></span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  å‡½æ•°ç¬¬ä¸€ä¸ªå…¥å‚ï¼š1</span></span><br><span class="line"><span class="comment">#  å‡½æ•°ç¬¬äºŒä¸ªå…¥å‚ï¼šabc</span></span><br><span class="line"><span class="comment">#  ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°ï¼š3</span></span><br><span class="line"><span class="comment">#  æ‰€æœ‰å‚æ•°ï¼š</span></span><br><span class="line"><span class="comment">#  + 1 abc hello, "zp"</span></span><br><span class="line"><span class="comment">#  è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹ ID å·ï¼š26400</span></span><br><span class="line"><span class="comment">#  åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„ ID å·ï¼š</span></span><br><span class="line"><span class="comment">#  æ‰€æœ‰å‚æ•°ï¼š</span></span><br><span class="line"><span class="comment">#  + 1</span></span><br><span class="line"><span class="comment">#  + abc</span></span><br><span class="line"><span class="comment">#  + hello, "zp"</span></span><br><span class="line"><span class="comment">#  Shell ä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼šhB</span></span><br><span class="line"><span class="comment">#  runner å‡½æ•°çš„è¿”å›å€¼ï¼š0</span></span><br></pre></td></tr></table></figure><h2 id="9-Shell-æ‰©å±•"><a href="#9-Shell-æ‰©å±•" class="headerlink" title="9. Shell æ‰©å±•"></a>9. Shell æ‰©å±•</h2><p><em>æ‰©å±•</em> å‘ç”Ÿåœ¨ä¸€è¡Œå‘½ä»¤è¢«åˆ†æˆä¸€ä¸ªä¸ªçš„ <em>è®°å·ï¼ˆtokensï¼‰</em> ä¹‹åã€‚æ¢è¨€ä¹‹ï¼Œæ‰©å±•æ˜¯ä¸€ç§æ‰§è¡Œæ•°å­¦è¿ç®—çš„æœºåˆ¶ï¼Œè¿˜å¯ä»¥ç”¨æ¥ä¿å­˜å‘½ä»¤çš„æ‰§è¡Œç»“æœï¼Œç­‰ç­‰ã€‚</p><p>æ„Ÿå…´è¶£çš„è¯å¯ä»¥é˜…è¯»<a href="https://www.gnu.org/software/bash/manual/bash.html###Shell-Expansions" target="_blank" rel="noopener">å…³äº shell æ‰©å±•çš„æ›´å¤šç»†èŠ‚</a>ã€‚</p><h4 id="å¤§æ‹¬å·æ‰©å±•"><a href="#å¤§æ‹¬å·æ‰©å±•" class="headerlink" title="å¤§æ‹¬å·æ‰©å±•"></a>å¤§æ‹¬å·æ‰©å±•</h4><p>å¤§æ‹¬å·æ‰©å±•è®©ç”Ÿæˆä»»æ„çš„å­—ç¬¦ä¸²æˆä¸ºå¯èƒ½ã€‚å®ƒè·Ÿ <em>æ–‡ä»¶åæ‰©å±•</em> å¾ˆç±»ä¼¼ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> beg&#123;i,a,u&#125;n <span class="comment">### begin began begun</span></span><br></pre></td></tr></table></figure><p>å¤§æ‹¬å·æ‰©å±•è¿˜å¯ä»¥ç”¨æ¥åˆ›å»ºä¸€ä¸ªå¯è¢«å¾ªç¯è¿­ä»£çš„åŒºé—´ã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> &#123;0..5&#125; <span class="comment">### 0 1 2 3 4 5</span></span><br><span class="line"><span class="built_in">echo</span> &#123;00..8..2&#125; <span class="comment">### 00 02 04 06 08</span></span><br></pre></td></tr></table></figure><h4 id="å‘½ä»¤ç½®æ¢"><a href="#å‘½ä»¤ç½®æ¢" class="headerlink" title="å‘½ä»¤ç½®æ¢"></a>å‘½ä»¤ç½®æ¢</h4><p>å‘½ä»¤ç½®æ¢å…è®¸æˆ‘ä»¬å¯¹ä¸€ä¸ªå‘½ä»¤æ±‚å€¼ï¼Œå¹¶å°†å…¶å€¼ç½®æ¢åˆ°å¦ä¸€ä¸ªå‘½ä»¤æˆ–è€…å˜é‡èµ‹å€¼è¡¨è¾¾å¼ä¸­ã€‚å½“ä¸€ä¸ªå‘½ä»¤è¢«``æˆ–<code>$()</code>åŒ…å›´æ—¶ï¼Œå‘½ä»¤ç½®æ¢å°†ä¼šæ‰§è¡Œã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">now=`date +%T`</span><br><span class="line"><span class="comment">### or</span></span><br><span class="line">now=$(date +%T)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$now</span> <span class="comment">### 19:08:26</span></span><br></pre></td></tr></table></figure><h4 id="ç®—æ•°æ‰©å±•"><a href="#ç®—æ•°æ‰©å±•" class="headerlink" title="ç®—æ•°æ‰©å±•"></a>ç®—æ•°æ‰©å±•</h4><p>åœ¨ bash ä¸­ï¼Œæ‰§è¡Œç®—æ•°è¿ç®—æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚ç®—æ•°è¡¨è¾¾å¼å¿…é¡»åŒ…åœ¨<code>$(( ))</code>ä¸­ã€‚ç®—æ•°æ‰©å±•çš„æ ¼å¼ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">result=$(( ((10 + 5*3) - 7) / 2 ))</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$result</span> <span class="comment">### 9</span></span><br></pre></td></tr></table></figure><p>åœ¨ç®—æ•°è¡¨è¾¾å¼ä¸­ï¼Œä½¿ç”¨å˜é‡æ— éœ€å¸¦ä¸Š<code>$</code>å‰ç¼€ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x=4</span><br><span class="line">y=7</span><br><span class="line"><span class="built_in">echo</span> $(( x + y ))     <span class="comment">### 11</span></span><br><span class="line"><span class="built_in">echo</span> $(( ++x + y++ )) <span class="comment">### 12</span></span><br><span class="line"><span class="built_in">echo</span> $(( x + y ))     <span class="comment">### 13</span></span><br></pre></td></tr></table></figure><h4 id="å•å¼•å·å’ŒåŒå¼•å·"><a href="#å•å¼•å·å’ŒåŒå¼•å·" class="headerlink" title="å•å¼•å·å’ŒåŒå¼•å·"></a>å•å¼•å·å’ŒåŒå¼•å·</h4><p>å•å¼•å·å’ŒåŒå¼•å·ä¹‹é—´æœ‰å¾ˆé‡è¦çš„åŒºåˆ«ã€‚åœ¨åŒå¼•å·ä¸­ï¼Œå˜é‡å¼•ç”¨æˆ–è€…å‘½ä»¤ç½®æ¢æ˜¯ä¼šè¢«å±•å¼€çš„ã€‚åœ¨å•å¼•å·ä¸­æ˜¯ä¸ä¼šçš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"Your home: <span class="variable">$HOME</span>"</span> <span class="comment">### Your home: /Users/&lt;username&gt;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'Your home: $HOME'</span> <span class="comment">### Your home: $HOME</span></span><br></pre></td></tr></table></figure><p>å½“å±€éƒ¨å˜é‡å’Œç¯å¢ƒå˜é‡åŒ…å«ç©ºæ ¼æ—¶ï¼Œå®ƒä»¬åœ¨å¼•å·ä¸­çš„æ‰©å±•è¦æ ¼å¤–æ³¨æ„ã€‚éšä¾¿ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æˆ‘ä»¬ç”¨<code>echo</code>æ¥è¾“å‡ºç”¨æˆ·çš„è¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">INPUT=<span class="string">"A string  with   strange    whitespace."</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$INPUT</span>   <span class="comment">### A string with strange whitespace.</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$INPUT</span>"</span> <span class="comment">### A string  with   strange    whitespace.</span></span><br></pre></td></tr></table></figure><p>è°ƒç”¨ç¬¬ä¸€ä¸ª<code>echo</code>æ—¶ç»™äº†å®ƒ 5 ä¸ªå•ç‹¬çš„å‚æ•° â€”â€” <code>$INPUT</code> è¢«åˆ†æˆäº†å•ç‹¬çš„è¯ï¼Œ<code>echo</code>åœ¨æ¯ä¸ªè¯ä¹‹é—´æ‰“å°äº†ä¸€ä¸ªç©ºæ ¼ã€‚ç¬¬äºŒç§æƒ…å†µï¼Œè°ƒç”¨<code>echo</code>æ—¶åªç»™äº†å®ƒä¸€ä¸ªå‚æ•°ï¼ˆæ•´ä¸ª$INPUT çš„å€¼ï¼ŒåŒ…æ‹¬å…¶ä¸­çš„ç©ºæ ¼ï¼‰ã€‚</p><p>æ¥çœ‹ä¸€ä¸ªæ›´ä¸¥è‚ƒçš„ä¾‹å­ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FILE=<span class="string">"Favorite Things.txt"</span></span><br><span class="line">cat <span class="variable">$FILE</span>   <span class="comment">### å°è¯•è¾“å‡ºä¸¤ä¸ªæ–‡ä»¶: `Favorite` å’Œ `Things.txt`</span></span><br><span class="line">cat <span class="string">"<span class="variable">$FILE</span>"</span> <span class="comment">### è¾“å‡ºä¸€ä¸ªæ–‡ä»¶: `Favorite Things.txt`</span></span><br></pre></td></tr></table></figure><p>å°½ç®¡è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡æŠŠ FILE é‡å‘½åæˆ<code>Favorite-Things.txt</code>æ¥è§£å†³ï¼Œä½†æ˜¯ï¼Œå‡å¦‚è¿™ä¸ªå€¼æ¥è‡ªæŸä¸ªç¯å¢ƒå˜é‡ï¼Œæ¥è‡ªä¸€ä¸ªä½ç½®å‚æ•°ï¼Œæˆ–è€…æ¥è‡ªå…¶å®ƒå‘½ä»¤ï¼ˆ<code>find</code>, <code>cat</code>, ç­‰ç­‰ï¼‰å‘¢ã€‚å› æ­¤ï¼Œå¦‚æœè¾“å…¥ <em>å¯èƒ½</em> åŒ…å«ç©ºæ ¼ï¼ŒåŠ¡å¿…è¦ç”¨å¼•å·æŠŠè¡¨è¾¾å¼åŒ…èµ·æ¥ã€‚</p><h2 id="10-æµå’Œé‡å®šå‘"><a href="#10-æµå’Œé‡å®šå‘" class="headerlink" title="10. æµå’Œé‡å®šå‘"></a>10. æµå’Œé‡å®šå‘</h2><p>Bash æœ‰å¾ˆå¼ºå¤§çš„å·¥å…·æ¥å¤„ç†ç¨‹åºä¹‹é—´çš„ååŒå·¥ä½œã€‚ä½¿ç”¨æµï¼Œæˆ‘ä»¬èƒ½å°†ä¸€ä¸ªç¨‹åºçš„è¾“å‡ºå‘é€åˆ°å¦ä¸€ä¸ªç¨‹åºæˆ–æ–‡ä»¶ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬èƒ½æ–¹ä¾¿åœ°è®°å½•æ—¥å¿—æˆ–åšä¸€äº›å…¶å®ƒæˆ‘ä»¬æƒ³åšçš„äº‹ã€‚</p><p>ç®¡é“ç»™äº†æˆ‘ä»¬åˆ›å»ºä¼ é€å¸¦çš„æœºä¼šï¼Œæ§åˆ¶ç¨‹åºçš„æ‰§è¡Œæˆä¸ºå¯èƒ½ã€‚</p><p>å­¦ä¹ å¦‚ä½•ä½¿ç”¨è¿™äº›å¼ºå¤§çš„ã€é«˜çº§çš„å·¥å…·æ˜¯éå¸¸éå¸¸é‡è¦çš„ã€‚</p><h3 id="10-1-è¾“å…¥ã€è¾“å‡ºæµ"><a href="#10-1-è¾“å…¥ã€è¾“å‡ºæµ" class="headerlink" title="10.1. è¾“å…¥ã€è¾“å‡ºæµ"></a>10.1. è¾“å…¥ã€è¾“å‡ºæµ</h3><p>Bash æ¥æ”¶è¾“å…¥ï¼Œå¹¶ä»¥å­—ç¬¦åºåˆ—æˆ– <strong>å­—ç¬¦æµ</strong> çš„å½¢å¼äº§ç”Ÿè¾“å‡ºã€‚è¿™äº›æµèƒ½è¢«é‡å®šå‘åˆ°æ–‡ä»¶æˆ–å¦ä¸€ä¸ªæµä¸­ã€‚</p><p>æœ‰ä¸‰ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼š</p><table><thead><tr><th>ä»£ç </th><th>æè¿°ç¬¦</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>0</code></td><td><code>stdin</code></td><td>æ ‡å‡†è¾“å…¥</td></tr><tr><td><code>1</code></td><td><code>stdout</code></td><td>æ ‡å‡†è¾“å‡º</td></tr><tr><td><code>2</code></td><td><code>stderr</code></td><td>æ ‡å‡†é”™è¯¯è¾“å‡º</td></tr></tbody></table><h3 id="10-2-é‡å®šå‘"><a href="#10-2-é‡å®šå‘" class="headerlink" title="10.2. é‡å®šå‘"></a>10.2. é‡å®šå‘</h3><p>é‡å®šå‘è®©æˆ‘ä»¬å¯ä»¥æ§åˆ¶ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥æ¥è‡ªå“ªé‡Œï¼Œè¾“å‡ºç»“æœåˆ°ä»€ä¹ˆåœ°æ–¹ã€‚è¿™äº›è¿ç®—ç¬¦åœ¨æ§åˆ¶æµçš„é‡å®šå‘æ—¶ä¼šè¢«ç”¨åˆ°ï¼š</p><table><thead><tr><th>Operator</th><th>Description</th></tr></thead><tbody><tr><td><code>&gt;</code></td><td>é‡å®šå‘è¾“å‡º</td></tr><tr><td><code>&amp;&gt;</code></td><td>é‡å®šå‘è¾“å‡ºå’Œé”™è¯¯è¾“å‡º</td></tr><tr><td><code>&amp;&gt;&gt;</code></td><td>ä»¥é™„åŠ çš„å½¢å¼é‡å®šå‘è¾“å‡ºå’Œé”™è¯¯è¾“å‡º</td></tr><tr><td><code>&lt;</code></td><td>é‡å®šå‘è¾“å…¥</td></tr><tr><td><code>&lt;&lt;</code></td><td><a href="http://tldp.org/LDP/abs/html/here-docs.html" target="_blank" rel="noopener">Here æ–‡æ¡£</a> è¯­æ³•</td></tr><tr><td><code>&lt;&lt;&lt;</code></td><td><a href="http://www.tldp.org/LDP/abs/html/x17837.html" target="_blank" rel="noopener">Here å­—ç¬¦ä¸²</a></td></tr></tbody></table><p>ä»¥ä¸‹æ˜¯ä¸€äº›ä½¿ç”¨é‡å®šå‘çš„ä¾‹å­ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">### lsçš„ç»“æœå°†ä¼šè¢«å†™åˆ°list.txtä¸­</span></span><br><span class="line">ls -l &gt; list.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">### å°†è¾“å‡ºé™„åŠ åˆ°list.txtä¸­</span></span><br><span class="line">ls -a &gt;&gt; list.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">### æ‰€æœ‰çš„é”™è¯¯ä¿¡æ¯ä¼šè¢«å†™åˆ°errors.txtä¸­</span></span><br><span class="line">grep da * 2&gt; errors.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">### ä»errors.txtä¸­è¯»å–è¾“å…¥</span></span><br><span class="line">less &lt; errors.txt</span><br></pre></td></tr></table></figure><h3 id="10-3-dev-null-æ–‡ä»¶"><a href="#10-3-dev-null-æ–‡ä»¶" class="headerlink" title="10.3. /dev/null æ–‡ä»¶"></a>10.3. <code>/dev/null</code> æ–‡ä»¶</h3><p>å¦‚æœå¸Œæœ›æ‰§è¡ŒæŸä¸ªå‘½ä»¤ï¼Œä½†åˆä¸å¸Œæœ›åœ¨å±å¹•ä¸Šæ˜¾ç¤ºè¾“å‡ºç»“æœï¼Œé‚£ä¹ˆå¯ä»¥å°†è¾“å‡ºé‡å®šå‘åˆ° /dev/nullï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">command</span> &gt; /dev/null</span><br></pre></td></tr></table></figure><p>/dev/null æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ï¼Œå†™å…¥åˆ°å®ƒçš„å†…å®¹éƒ½ä¼šè¢«ä¸¢å¼ƒï¼›å¦‚æœå°è¯•ä»è¯¥æ–‡ä»¶è¯»å–å†…å®¹ï¼Œé‚£ä¹ˆä»€ä¹ˆä¹Ÿè¯»ä¸åˆ°ã€‚ä½†æ˜¯ /dev/null æ–‡ä»¶éå¸¸æœ‰ç”¨ï¼Œå°†å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°å®ƒï¼Œä¼šèµ·åˆ°â€ç¦æ­¢è¾“å‡ºâ€çš„æ•ˆæœã€‚</p><p>å¦‚æœå¸Œæœ›å±è”½ stdout å’Œ stderrï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">command</span> &gt; /dev/null 2&gt;&amp;1</span><br></pre></td></tr></table></figure><h2 id="11-Debug"><a href="#11-Debug" class="headerlink" title="11. Debug"></a>11. Debug</h2><p>shell æä¾›äº†ç”¨äº debug è„šæœ¬çš„å·¥å…·ã€‚</p><p>å¦‚æœæƒ³é‡‡ç”¨ debug æ¨¡å¼è¿è¡ŒæŸè„šæœ¬ï¼Œå¯ä»¥åœ¨å…¶ shebang ä¸­ä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„é€‰é¡¹ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash options</span><br></pre></td></tr></table></figure><p>options æ˜¯ä¸€äº›å¯ä»¥æ”¹å˜ shell è¡Œä¸ºçš„é€‰é¡¹ã€‚ä¸‹è¡¨æ˜¯ä¸€äº›å¯èƒ½å¯¹ä½ æœ‰ç”¨çš„é€‰é¡¹ï¼š</p><table><thead><tr><th>Short</th><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><code>-f</code></td><td>noglob</td><td>ç¦æ­¢æ–‡ä»¶åå±•å¼€ï¼ˆglobbingï¼‰</td></tr><tr><td><code>-i</code></td><td>interactive</td><td>è®©è„šæœ¬ä»¥ <em>äº¤äº’</em> æ¨¡å¼è¿è¡Œ</td></tr><tr><td><code>-n</code></td><td>noexec</td><td>è¯»å–å‘½ä»¤ï¼Œä½†ä¸æ‰§è¡Œï¼ˆè¯­æ³•æ£€æŸ¥ï¼‰</td></tr><tr><td><code>-t</code></td><td>â€”</td><td>æ‰§è¡Œå®Œç¬¬ä¸€æ¡å‘½ä»¤åé€€å‡º</td></tr><tr><td><code>-v</code></td><td>verbose</td><td>åœ¨æ‰§è¡Œæ¯æ¡å‘½ä»¤å‰ï¼Œå‘<code>stderr</code>è¾“å‡ºè¯¥å‘½ä»¤</td></tr><tr><td><code>-x</code></td><td>xtrace</td><td>åœ¨æ‰§è¡Œæ¯æ¡å‘½ä»¤å‰ï¼Œå‘<code>stderr</code>è¾“å‡ºè¯¥å‘½ä»¤ä»¥åŠè¯¥å‘½ä»¤çš„æ‰©å±•å‚æ•°</td></tr></tbody></table><p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬åœ¨è„šæœ¬ä¸­æŒ‡å®šäº†<code>-x</code>ä¾‹å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/bin/bash -x</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (( i = 0; i &lt; 3; i++ )); <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p>è¿™ä¼šå‘<code>stdout</code>æ‰“å°å‡ºå˜é‡çš„å€¼å’Œä¸€äº›å…¶å®ƒæœ‰ç”¨çš„ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./my_script</span><br><span class="line">+ (( i = 0 ))</span><br><span class="line">+ (( i &lt; 3 ))</span><br><span class="line">+ <span class="built_in">echo</span> 0</span><br><span class="line">0</span><br><span class="line">+ (( i++  ))</span><br><span class="line">+ (( i &lt; 3 ))</span><br><span class="line">+ <span class="built_in">echo</span> 1</span><br><span class="line">1</span><br><span class="line">+ (( i++  ))</span><br><span class="line">+ (( i &lt; 3 ))</span><br><span class="line">+ <span class="built_in">echo</span> 2</span><br><span class="line">2</span><br><span class="line">+ (( i++  ))</span><br><span class="line">+ (( i &lt; 3 ))</span><br></pre></td></tr></table></figure><p>æœ‰æ—¶æˆ‘ä»¬å€¼éœ€è¦ debug è„šæœ¬çš„ä¸€éƒ¨åˆ†ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨<code>set</code>å‘½ä»¤ä¼šå¾ˆæ–¹ä¾¿ã€‚è¿™ä¸ªå‘½ä»¤å¯ä»¥å¯ç”¨æˆ–ç¦ç”¨é€‰é¡¹ã€‚ä½¿ç”¨<code>-</code>å¯ç”¨é€‰é¡¹ï¼Œ<code>+</code>ç¦ç”¨é€‰é¡¹ï¼š</p><p><strong>âŒ¨ï¸ ã€ç¤ºä¾‹æºç ã€</strong> <a href="https://github.com/dunwu/os-tutorial/blob/master/codes/shell/demos/debug-demo.sh" target="_blank" rel="noopener">debug-demo.sh</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¼€å¯ debug</span></span><br><span class="line"><span class="built_in">set</span> -x</span><br><span class="line"><span class="keyword">for</span> (( i = 0; i &lt; 3; i++ )); <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">printf</span> <span class="variable">$&#123;i&#125;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment"># å…³é—­ debug</span></span><br><span class="line"><span class="built_in">set</span> +x</span><br><span class="line"><span class="comment">#  Output:</span></span><br><span class="line"><span class="comment">#  + (( i = 0 ))</span></span><br><span class="line"><span class="comment">#  + (( i &lt; 3 ))</span></span><br><span class="line"><span class="comment">#  + printf 0</span></span><br><span class="line"><span class="comment">#  0+ (( i++  ))</span></span><br><span class="line"><span class="comment">#  + (( i &lt; 3 ))</span></span><br><span class="line"><span class="comment">#  + printf 1</span></span><br><span class="line"><span class="comment">#  1+ (( i++  ))</span></span><br><span class="line"><span class="comment">#  + (( i &lt; 3 ))</span></span><br><span class="line"><span class="comment">#  + printf 2</span></span><br><span class="line"><span class="comment">#  2+ (( i++  ))</span></span><br><span class="line"><span class="comment">#  + (( i &lt; 3 ))</span></span><br><span class="line"><span class="comment">#  + set +x</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..5&#125;; <span class="keyword">do</span> <span class="built_in">printf</span> <span class="variable">$&#123;i&#125;</span>; <span class="keyword">done</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">"\n"</span></span><br><span class="line"><span class="comment">#  Output: 12345</span></span><br></pre></td></tr></table></figure><h2 id="12-æ›´å¤šå†…å®¹"><a href="#12-æ›´å¤šå†…å®¹" class="headerlink" title="12. æ›´å¤šå†…å®¹"></a>12. æ›´å¤šå†…å®¹</h2><blockquote><p>ğŸ““ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼š<a href="https://github.com/dunwu/notes" target="_blank" rel="noopener">notes</a></p></blockquote><ul><li><a href="https://github.com/alebcay/awesome-shell" target="_blank" rel="noopener">awesome-shell</a>ï¼Œshell èµ„æºåˆ—è¡¨</li><li><a href="https://github.com/awesome-lists/awesome-bash" target="_blank" rel="noopener">awesome-bash</a>ï¼Œbash èµ„æºåˆ—è¡¨</li><li><a href="https://github.com/denysdovhan/bash-handbook" target="_blank" rel="noopener">bash-handbook</a></li><li><a href="https://github.com/vuuihc/bash-guide" target="_blank" rel="noopener">bash-guide</a> ï¼Œbash åŸºæœ¬ç”¨æ³•æŒ‡å—</li><li><a href="https://github.com/Bash-it/bash-it" target="_blank" rel="noopener">bash-it</a>ï¼Œä¸ºä½ æ—¥å¸¸ä½¿ç”¨ï¼Œå¼€å‘ä»¥åŠç»´æŠ¤ shell è„šæœ¬å’Œè‡ªå®šä¹‰å‘½ä»¤æä¾›äº†ä¸€ä¸ªå¯é çš„æ¡†æ¶</li><li><a href="http://dotfiles.github.io/" target="_blank" rel="noopener">dotfiles.github.io</a>ï¼Œä¸Šé¢æœ‰ bash å’Œå…¶å®ƒ shell çš„å„ç§ dotfiles é›†åˆä»¥åŠ shell æ¡†æ¶çš„é“¾æ¥</li><li><a href="http://www.runoob.com/linux/linux-shell.html" target="_blank" rel="noopener">Runoob Shell æ•™ç¨‹</a></li><li><a href="https://github.com/koalaman/shellcheck" target="_blank" rel="noopener">shellcheck</a> ä¸€ä¸ªé™æ€ shell è„šæœ¬åˆ†æå·¥å…·ï¼Œæœ¬è´¨ä¸Šæ˜¯ bashï¼shï¼zsh çš„ lintã€‚</li></ul><p>æœ€åï¼ŒStack Overflow ä¸Š <a href="https://stackoverflow.com/questions/tagged/bash" target="_blank" rel="noopener">bash æ ‡ç­¾ä¸‹</a>æœ‰å¾ˆå¤šä½ å¯ä»¥å­¦ä¹ çš„é—®é¢˜ï¼Œå½“ä½ é‡åˆ°é—®é¢˜æ—¶ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæé—®çš„å¥½åœ°æ–¹ã€‚</p><p><strong>ä½œè€…åŸæ–‡é“¾æ¥: <a href="https://www.cnblogs.com/jingmoxukong/p/7867397.html" target="_blank" rel="noopener">https://www.cnblogs.com/jingmoxukong/p/7867397.html</a></strong></p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>shell</category>
      </categories>
      <tags>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title>å›¾è§£ç®—æ³•</title>
    <url>/2020/03/01/%E5%9B%BE%E8%A7%A3%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<!-- build time:Mon Jun 22 2020 11:12:11 GMT+0800 (GMT+08:00) --><h1 id="å›¾è§£ç®—æ³•"><a href="#å›¾è§£ç®—æ³•" class="headerlink" title="å›¾è§£ç®—æ³•"></a>å›¾è§£ç®—æ³•</h1><h2 id="1-ç¬¬ä¸€ç« -ç®—æ³•ç®€ä»‹"><a href="#1-ç¬¬ä¸€ç« -ç®—æ³•ç®€ä»‹" class="headerlink" title="1. ç¬¬ä¸€ç«  ç®—æ³•ç®€ä»‹"></a><strong>1. ç¬¬ä¸€ç«  ç®—æ³•ç®€ä»‹</strong></h2><p>1.2 äºŒåˆ†æŸ¥æ‰¾<br>äºŒåˆ†æŸ¥æ‰¾æ˜¯ä¸€ç§ç®—æ³•ï¼Œå…¶è¾“å…¥æ˜¯ä¸€ä¸ªæœ‰åºçš„å…ƒç´ åˆ—è¡¨ï¼ˆå¿…é¡»æœ‰åºçš„åŸå› ç¨åè§£é‡Šï¼‰ã€‚å¦‚æœè¦æŸ¥æ‰¾çš„å…ƒç´ åŒ…å«åœ¨åˆ—è¡¨ä¸­ï¼ŒäºŒåˆ†æŸ¥æ‰¾è¿”å›å…¶ä½ç½®ï¼›å¦åˆ™è¿”å›nullã€‚ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ—¶ï¼Œæ¯æ¬¡éƒ½æ’é™¤ä¸€åŠçš„æ•°å­—ã€‚<br>ä¸€èˆ¬è€Œè¨€ï¼Œå¯¹äºåŒ…å«nä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œç”¨äºŒåˆ†æŸ¥æ‰¾æœ€å¤šéœ€è¦<strong>log2n</strong>æ­¥ï¼Œè€Œç®€å•æŸ¥æ‰¾æœ€å¤šéœ€è¦<strong>n</strong>æ­¥ã€‚ä»…å½“åˆ—è¡¨æ˜¯æœ‰åºçš„æ—¶å€™ï¼ŒäºŒåˆ†æŸ¥æ‰¾æ‰ç®¡ç”¨ã€‚<br>äºŒåˆ†æ³•ä»£ç å®ç°ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_search</span><span class="params">(list, item)</span>:</span></span><br><span class="line">    low = <span class="number">0</span></span><br><span class="line">    high = len(list)â€”<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> low &lt;= high: <span class="comment">#åªè¦èŒƒå›´æ²¡æœ‰ç¼©å°åˆ°åªåŒ…å«ä¸€ä¸ªå…ƒç´ ï¼Œå°±æ£€æŸ¥ä¸­é—´çš„å…ƒç´ </span></span><br><span class="line">        mid = (low + high)</span><br><span class="line">        guess = list[mid]</span><br><span class="line">        <span class="keyword">if</span> guess == item:  <span class="comment">#æ‰¾åˆ°äº†å…ƒç´ </span></span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        <span class="keyword">if</span> guess &gt; item:  <span class="comment">#çŒœçš„æ•°å­—å¤§äº†</span></span><br><span class="line">            high = mid - <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:            <span class="comment">#çŒœçš„æ•°å­—å°äº†</span></span><br><span class="line">            low = mid + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span>   <span class="comment">#æ²¡æœ‰æŒ‡å®šçš„å…ƒç´ </span></span><br><span class="line">my_list = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="keyword">print</span> binary_search(my_list, <span class="number">3</span>)  <span class="comment"># =&gt; 1</span></span><br><span class="line"><span class="keyword">print</span> binary_search(my_list, <span class="number">-1</span>)  <span class="comment"># =&gt; None</span></span><br></pre></td></tr></table></figure><p>1.2.2 è¿è¡Œæ—¶é—´<br>äºŒåˆ†æŸ¥æ‰¾çš„è¿è¡Œæ—¶é—´ä¸ºå¯¹æ•°æ—¶é—´ï¼ˆæˆ–logæ—¶é—´ï¼‰ã€‚ç®€å•æŸ¥æ‰¾çš„è¿è¡Œæ—¶é—´ä¸ºçº¿æ€§æ—¶é—´ã€‚</p><p>1.3 å¤§ Oè¡¨ç¤ºæ³•<br>ç®—æ³•çš„è¿è¡Œæ—¶é—´ä»¥ä¸åŒçš„é€Ÿåº¦å¢åŠ ã€‚<br>å¤§Oè¡¨ç¤ºæ³•æŒ‡å‡ºäº†ç®—æ³•æœ‰å¤šå¿«ï¼Œå¤§Oè¡¨ç¤ºæ³•æŒ‡çš„å¹¶éä»¥ç§’ä¸ºå•ä½çš„é€Ÿåº¦ã€‚ å¤§Oè¡¨ç¤ºæ³•è®©ä½ èƒ½å¤Ÿæ¯”è¾ƒæ“ä½œæ•°ï¼Œå®ƒæŒ‡å‡ºäº†ç®—æ³•è¿è¡Œæ—¶é—´çš„å¢é€Ÿã€‚äºŒåˆ†æŸ¥æ‰¾éœ€è¦æ‰§è¡Œlog næ¬¡æ“ä½œï¼Œä½¿ç”¨å¤§Oè¡¨ç¤ºæ³•ï¼ŒO(log n)ã€‚ç®€å•æŸ¥æ‰¾çš„è¿è¡Œæ—¶é—´ä¸ºO(n)ã€‚å¤§Oè¡¨ç¤ºæ³•è¯´çš„æ˜¯æœ€ç³Ÿçš„æƒ…å½¢ã€‚</p><p>1.3.4 ä¸€äº›å¸¸è§çš„å¤§ O è¿è¡Œæ—¶é—´ï¼ˆâ€œé˜¶æŒ‡å¹‚å¯¹â€ï¼‰<br>O(log n)ï¼Œä¹Ÿå«å¯¹æ•°æ—¶é—´ï¼Œè¿™æ ·çš„ç®—æ³•åŒ…æ‹¬äºŒåˆ†æŸ¥æ‰¾ã€‚<br>O(n)ï¼Œä¹Ÿå«çº¿æ€§æ—¶é—´ï¼Œè¿™æ ·çš„ç®—æ³•åŒ…æ‹¬ç®€å•æŸ¥æ‰¾ã€‚<br>O(n * log n)ï¼Œè¿™æ ·çš„ç®—æ³•åŒ…æ‹¬ç¬¬4ç« å°†ä»‹ç»çš„å¿«é€Ÿæ’åºâ€”â€”ä¸€ç§é€Ÿåº¦è¾ƒå¿«çš„æ’åºç®—æ³•ã€‚<br>O(n2)ï¼Œè¿™æ ·çš„ç®—æ³•åŒ…æ‹¬ç¬¬2ç« å°†ä»‹ç»çš„é€‰æ‹©æ’åºâ€”â€”ä¸€ç§é€Ÿåº¦è¾ƒæ…¢çš„æ’åºç®—æ³•ã€‚<br>O(n!)ï¼Œè¿™æ ·çš„ç®—æ³•åŒ…æ‹¬æ¥ä¸‹æ¥å°†ä»‹ç»çš„æ—…è¡Œå•†é—®é¢˜çš„è§£å†³æ–¹æ¡ˆâ€”â€”ä¸€ç§éå¸¸æ…¢çš„ç®—æ³•ã€‚</p><blockquote><p>å°ç»“ï¼š<br>\1. ç®—æ³•çš„é€Ÿåº¦æŒ‡çš„å¹¶éæ—¶é—´ï¼Œè€Œæ˜¯æ“ä½œæ•°çš„å¢é€Ÿã€‚è°ˆè®ºç®—æ³•çš„é€Ÿåº¦æ—¶ï¼Œæˆ‘ä»¬è¯´çš„æ˜¯éšç€è¾“å…¥çš„å¢åŠ ï¼Œå…¶è¿è¡Œæ—¶é—´å°†ä»¥ä»€ä¹ˆæ ·çš„é€Ÿåº¦å¢åŠ ã€‚<br>\2. ç®—æ³•çš„è¿è¡Œæ—¶é—´ç”¨å¤§Oè¡¨ç¤ºæ³•è¡¨ç¤ºã€‚ O(log n)æ¯”O(n)å¿«ï¼Œå½“éœ€è¦æœç´¢çš„å…ƒç´ è¶Šå¤šæ—¶ï¼Œå‰è€…æ¯”åè€…å¿«å¾—è¶Šå¤šã€‚ ç®—æ³•è¿è¡Œæ—¶é—´å¹¶ä¸ä»¥ç§’ä¸ºå•ä½ã€‚<br>\3. ç®—æ³•è¿è¡Œæ—¶é—´æ˜¯ä»å…¶å¢é€Ÿçš„è§’åº¦åº¦é‡çš„ã€‚</p></blockquote><h2 id="2-ç¬¬äºŒç« -é€‰æ‹©æ’åº"><a href="#2-ç¬¬äºŒç« -é€‰æ‹©æ’åº" class="headerlink" title="2. ç¬¬äºŒç«  é€‰æ‹©æ’åº"></a><strong>2. ç¬¬äºŒç«  é€‰æ‹©æ’åº</strong></h2><p>2.1 å†…å­˜çš„å·¥ä½œåŸç†<br>è®¡ç®—æœºå°±åƒæ˜¯å¾ˆå¤šæŠ½å±‰çš„é›†åˆä½“ï¼Œæ¯ä¸ªæŠ½å±‰éƒ½æœ‰åœ°å€ã€‚<br>éœ€è¦å°†æ•°æ®å­˜å‚¨åˆ°å†…å­˜æ—¶ï¼Œä½ è¯·æ±‚è®¡ç®—æœºæä¾›å­˜å‚¨ç©ºé—´ï¼Œè®¡ç®—æœºç»™ä½ ä¸€ä¸ªå­˜å‚¨åœ°å€ã€‚éœ€è¦å­˜å‚¨å¤šé¡¹æ•°æ®æ—¶ï¼Œæœ‰ä¸¤ç§åŸºæœ¬æ–¹å¼â€”â€”<strong>æ•°ç»„å’Œé“¾è¡¨</strong>ã€‚<br>2.2 æ•°ç»„å’Œé“¾è¡¨<br>ä½¿ç”¨æ•°ç»„æ„å‘³ç€æ‰€æœ‰å¾…åŠäº‹é¡¹åœ¨å†…å­˜ä¸­éƒ½æ˜¯ç›¸è¿çš„ï¼ˆç´§é åœ¨ä¸€èµ·çš„ï¼‰ã€‚é“¾è¡¨ä¸­çš„å…ƒç´ å¯å­˜å‚¨åœ¨å†…å­˜çš„ä»»ä½•åœ°æ–¹ã€‚é“¾è¡¨çš„æ¯ä¸ªå…ƒç´ éƒ½å­˜å‚¨äº†ä¸‹ä¸€ä¸ªå…ƒç´ çš„åœ°å€ï¼Œä»è€Œä½¿ä¸€ç³»åˆ—éšæœºçš„å†…å­˜åœ°å€ä¸²åœ¨ä¸€èµ·ã€‚<br>éœ€è¦åŒæ—¶è¯»å–æ‰€æœ‰å…ƒç´ æ—¶ï¼Œé“¾è¡¨çš„æ•ˆç‡å¾ˆé«˜ï¼šä½ è¯»å–ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ ¹æ®å…¶ä¸­çš„åœ°å€å†è¯»å–ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä»¥æ­¤ç±»æ¨ã€‚ä½†å¦‚æœä½ éœ€è¦è·³è·ƒï¼Œé“¾è¡¨çš„æ•ˆç‡çœŸçš„å¾ˆä½ã€‚<br>éœ€è¦éšæœºåœ°è¯»å–å…ƒç´ æ—¶ï¼Œæ•°ç»„çš„æ•ˆç‡å¾ˆé«˜ï¼Œå› ä¸ºå¯è¿…é€Ÿæ‰¾åˆ°æ•°ç»„çš„ä»»ä½•å…ƒç´ ã€‚åœ¨é“¾è¡¨ä¸­ï¼Œå…ƒç´ å¹¶éé åœ¨ä¸€èµ·çš„ï¼Œä½ æ— æ³•è¿…é€Ÿè®¡ç®—å‡ºç¬¬äº”ä¸ªå…ƒç´ çš„å†…å­˜åœ°å€ï¼Œè€Œå¿…é¡»å…ˆè®¿é—®ç¬¬ä¸€ä¸ªå…ƒç´ ä»¥è·å–ç¬¬äºŒä¸ªå…ƒç´ çš„åœ°å€ï¼Œå†è®¿é—®ç¬¬äºŒä¸ªå…ƒç´ ä»¥è·å–ç¬¬ä¸‰ä¸ªå…ƒç´ çš„åœ°å€ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°è®¿é—®ç¬¬äº”ä¸ªå…ƒç´ ã€‚<br>2.2.3 æœ¯è¯­<br>å…ƒç´ çš„ä½ç½®ç§°ä¸ºç´¢å¼•ã€‚<br><img src="https://img-blog.csdn.net/20180702203705464?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMzc5MDA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><p>2.2.4 åœ¨ä¸­é—´æ’å…¥<br>éœ€è¦åœ¨ä¸­é—´æ’å…¥å…ƒç´ æ—¶ï¼Œæ•°ç»„å’Œé“¾è¡¨å“ªä¸ªæ›´å¥½å‘¢ï¼Ÿä½¿ç”¨é“¾è¡¨æ—¶ï¼Œæ’å…¥å…ƒç´ å¾ˆç®€å•ï¼Œåªéœ€ä¿®æ”¹å®ƒå‰é¢çš„é‚£ä¸ªå…ƒç´ æŒ‡å‘çš„åœ°å€ã€‚</p><p>2.3 é€‰æ‹©æ’åº<br>éœ€è¦çš„æ€»æ—¶é—´ä¸º O(n Ã— n)ï¼Œå³O(n2)ã€‚<br>ä»£ç å®ç°ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findSmallest</span><span class="params">(arr)</span>:</span></span><br><span class="line">    smallest = arr[<span class="number">0</span>]</span><br><span class="line">    smallest_index = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(ar</span><br><span class="line">        <span class="keyword">if</span> arr[i] &lt; smallest:</span><br><span class="line">            smallest = arr[i]</span><br><span class="line">            smallest_index = i</span><br><span class="line">    <span class="keyword">return</span> smallest_index</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">selectionSort</span><span class="params">(arr)</span>:</span></span><br><span class="line">    newArr = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(arr)):</span><br><span class="line">        smallest = findSmallest(arr)</span><br><span class="line">        newArr.append(arr.pop(smallest))</span><br><span class="line">    <span class="keyword">return</span> newArr</span><br><span class="line"><span class="keyword">print</span> selectionSort([<span class="number">5</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">10</span>])</span><br></pre></td></tr></table></figure><h2 id="3-ç¬¬ä¸‰ç« -é€’å½’"><a href="#3-ç¬¬ä¸‰ç« -é€’å½’" class="headerlink" title="3. ç¬¬ä¸‰ç«  é€’å½’"></a><strong>3. ç¬¬ä¸‰ç«  é€’å½’</strong></h2><p>3.2 åŸºçº¿æ¡ä»¶å’Œé€’å½’æ¡ä»¶<br>ç¼–å†™é€’å½’å‡½æ•°æ—¶ï¼Œå¿…é¡»å‘Šè¯‰å®ƒä½•æ—¶åœæ­¢é€’å½’ã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œ æ¯ä¸ªé€’å½’å‡½æ•°éƒ½æœ‰ä¸¤éƒ¨åˆ†ï¼šåŸºçº¿æ¡ä»¶ï¼ˆ base caseï¼‰å’Œé€’å½’æ¡ä»¶ï¼ˆ recursive caseï¼‰ ã€‚é€’å½’æ¡ä»¶æŒ‡çš„æ˜¯å‡½æ•°è°ƒç”¨è‡ªå·±ï¼Œè€ŒåŸºçº¿æ¡ä»¶åˆ™æŒ‡çš„æ˜¯å‡½æ•°ä¸å†è°ƒç”¨è‡ªå·±ï¼Œä»è€Œé¿å…å½¢æˆæ— é™å¾ªç¯ã€‚<br>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">countdown</span><span class="params">(i)</span>:</span></span><br><span class="line">    <span class="keyword">print</span> i</span><br><span class="line">    <span class="keyword">if</span> i &lt;= <span class="number">0</span>:   <span class="comment">#åŸºçº¿æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">else</span>:    <span class="comment">#é€’å½’æ¡ä»¶</span></span><br><span class="line">        countdown(i<span class="number">-1</span>)</span><br></pre></td></tr></table></figure><p>3.3 æ ˆ<br>æ ˆæ˜¯ä¸€ç§ç®€å•çš„æ•°æ®ç»“æ„ï¼Œæ ˆæœ‰ä¸¤ç§æ“ä½œï¼šå‹å…¥ï¼ˆæ’å…¥ï¼‰å’Œå¼¹å‡ºï¼ˆåˆ é™¤å¹¶è¯»å–ï¼‰ã€‚<br>æ¯å½“è°ƒç”¨å‡½æ•°æ—¶ï¼Œè®¡ç®—æœºéƒ½åƒè¿™æ ·å°†å‡½æ•°è°ƒç”¨æ¶‰åŠçš„æ‰€æœ‰å˜é‡çš„å€¼å­˜å‚¨åˆ°å†…å­˜ä¸­ã€‚è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå½“å‰å‡½æ•°æš‚åœå¹¶å¤„äºæœªå®ŒæˆçŠ¶æ€ã€‚è¯¥å‡½æ•°çš„æ‰€æœ‰å˜é‡çš„å€¼éƒ½è¿˜åœ¨å†…å­˜ä¸­ã€‚è¿™ä¸ªæ ˆç”¨äºå­˜å‚¨å¤šä¸ªå‡½æ•°çš„å˜é‡ï¼Œè¢«ç§°ä¸ºè°ƒç”¨æ ˆã€‚ è°ƒç”¨æ ˆå¯èƒ½å¾ˆé•¿ï¼Œè¿™å°†å ç”¨å¤§é‡çš„å†…å­˜ã€‚æ‰€æœ‰å‡½æ•°è°ƒç”¨éƒ½è¿›å…¥è°ƒç”¨æ ˆã€‚</p><h2 id="4-ç¬¬å››ç« -å¿«é€Ÿæ’åº"><a href="#4-ç¬¬å››ç« -å¿«é€Ÿæ’åº" class="headerlink" title="4. ç¬¬å››ç«  å¿«é€Ÿæ’åº"></a><strong>4. ç¬¬å››ç«  å¿«é€Ÿæ’åº</strong></h2><p>4.1 åˆ†è€Œæ²»ä¹‹<br>D&amp;Cç®—æ³•åŒ…æ‹¬ä¸¤ä¸ªæ­¥éª¤ï¼š<br>(1) æ‰¾å‡ºåŸºçº¿æ¡ä»¶ï¼Œè¿™ç§æ¡ä»¶å¿…é¡»å°½å¯èƒ½ç®€å•ã€‚<br>(2) ä¸æ–­å°†é—®é¢˜åˆ†è§£ï¼ˆæˆ–è€…è¯´ç¼©å°è§„æ¨¡ï¼‰ï¼Œç›´åˆ°ç¬¦åˆåŸºçº¿æ¡ä»¶ã€‚<br>D&amp;Cçš„å·¥ä½œåŸç†ï¼š<br>(1) æ‰¾å‡ºç®€å•çš„åŸºçº¿æ¡ä»¶ï¼›<br>(2) ç¡®å®šå¦‚ä½•ç¼©å°é—®é¢˜çš„è§„æ¨¡ï¼Œä½¿å…¶ç¬¦åˆåŸºçº¿æ¡ä»¶ã€‚</p><p>å¿«é€Ÿæ’åºçš„ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quicksort</span><span class="params">(array)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> len(array) &lt; <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> array</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        pivot = array[<span class="number">0</span>]</span><br><span class="line">        less = [i <span class="keyword">for</span> i <span class="keyword">in</span> array[<span class="number">1</span>:] <span class="keyword">if</span> i &lt;= pivot]</span><br><span class="line">        greater = [i <span class="keyword">for</span> i <span class="keyword">in</span> array[<span class="number">1</span>:] <span class="keyword">if</span> i &gt; pivot]</span><br><span class="line">        <span class="keyword">return</span> quicksort(less) + [pivot] + quicksort(greater)</span><br><span class="line"><span class="keyword">print</span> quicksort([<span class="number">10</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure><p>4.3 å†è°ˆå¤§ O è¡¨ç¤ºæ³•<br>å¿«é€Ÿæ’åºçš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºï¼Œå…¶é€Ÿåº¦å–å†³äºé€‰æ‹©çš„åŸºå‡†å€¼ã€‚é€‰æ‹©æ’åºï¼Œå…¶è¿è¡Œæ—¶é—´ä¸ºO(n2)ï¼Œé€Ÿåº¦éå¸¸æ…¢ã€‚<br><img src="https://img-blog.csdn.net/20180703205638308?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMzc5MDA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>åˆå¹¶æ’åºï¼ˆ merge sortï¼‰ çš„æ’åºç®—æ³•ï¼Œå…¶è¿è¡Œæ—¶é—´ä¸ºO(n log n)ã€‚æ¯”é€‰æ‹©æ’åºå¿«å¾—å¤šï¼å¿«é€Ÿæ’åºçš„æƒ…å†µæ¯”è¾ƒæ£˜æ‰‹ï¼Œåœ¨æœ€ç³Ÿæƒ…å†µä¸‹ï¼Œå…¶è¿è¡Œæ—¶é—´ä¸ºO(n2)ã€‚<br>4.4 å°ç»“<br>D&amp;Cå°†é—®é¢˜é€æ­¥åˆ†è§£ã€‚ä½¿ç”¨D&amp;Cå¤„ç†åˆ—è¡¨æ—¶ï¼ŒåŸºçº¿æ¡ä»¶å¾ˆå¯èƒ½æ˜¯ç©ºæ•°ç»„æˆ–åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„ã€‚<br>å®ç°å¿«é€Ÿæ’åºæ—¶ï¼Œè¯·éšæœºåœ°é€‰æ‹©ç”¨ä½œåŸºå‡†å€¼çš„å…ƒç´ ã€‚å¿«é€Ÿæ’åºçš„å¹³å‡è¿è¡Œæ—¶é—´ä¸ºO(n log n)ã€‚<br>å¤§Oè¡¨ç¤ºæ³•ä¸­çš„å¸¸é‡æœ‰æ—¶å€™äº‹å…³é‡å¤§ï¼Œè¿™å°±æ˜¯å¿«é€Ÿæ’åºæ¯”åˆå¹¶æ’åºå¿«çš„åŸå› æ‰€åœ¨ã€‚æ¯”è¾ƒç®€å•æŸ¥æ‰¾å’ŒäºŒåˆ†æŸ¥æ‰¾æ—¶ï¼Œå¸¸é‡å‡ ä¹æ— å…³ç´§è¦ï¼Œå› ä¸ºåˆ—è¡¨å¾ˆé•¿æ—¶ï¼Œ O(log n)çš„é€Ÿåº¦æ¯”O(n)å¿«å¾—å¤šã€‚</p><h2 id="5-ç¬¬äº”ç« -æ•£åˆ—è¡¨"><a href="#5-ç¬¬äº”ç« -æ•£åˆ—è¡¨" class="headerlink" title="5. ç¬¬äº”ç«  æ•£åˆ—è¡¨"></a><strong>5. ç¬¬äº”ç«  æ•£åˆ—è¡¨</strong></h2><p>è¿è¡Œæ—¶é—´O(n)å’ŒO(log n)ä¹‹é—´æœ‰å¤©å£¤ä¹‹åˆ«ï¼</p><ol><li>æ•£åˆ—å‡½æ•°æ€»æ˜¯å°†åŒæ ·çš„è¾“å…¥æ˜ å°„åˆ°ç›¸åŒçš„ç´¢å¼•ã€‚</li><li>æ•£åˆ—å‡½æ•°å°†ä¸åŒçš„è¾“å…¥æ˜ å°„åˆ°ä¸åŒçš„ç´¢å¼•ã€‚</li><li>æ•£åˆ—å‡½æ•°çŸ¥é“æ•°ç»„æœ‰å¤šå¤§ï¼Œåªè¿”å›æœ‰æ•ˆçš„ç´¢å¼•ã€‚å¦‚æœæ•°ç»„åŒ…å«5ä¸ªå…ƒç´ ï¼Œæ•£åˆ—å‡½æ•°å°±ä¸ä¼šè¿”å›æ— æ•ˆç´¢å¼•100ã€‚</li></ol><p>æ•£åˆ—è¡¨ä¹Ÿä½¿ç”¨æ•°ç»„æ¥å­˜å‚¨æ•°æ®ï¼Œå› æ­¤å…¶è·å–å…ƒç´ çš„é€Ÿåº¦ä¸æ•°ç»„ä¸€æ ·å¿«ã€‚</p><p>5.2.3 å°†æ•£åˆ—è¡¨ç”¨ä½œç¼“å­˜<br>ç¼“å­˜çš„å·¥ä½œåŸç†ï¼šç½‘ç«™å°†æ•°æ®è®°ä½ï¼Œè€Œä¸å†é‡æ–°è®¡ç®—ã€‚<br>ç¼“å­˜æ˜¯ä¸€ç§å¸¸ç”¨çš„åŠ é€Ÿæ–¹å¼ï¼Œæ‰€æœ‰å¤§å‹ç½‘ç«™éƒ½ä½¿ç”¨ç¼“å­˜ï¼Œè€Œç¼“å­˜çš„æ•°æ®åˆ™å­˜å‚¨åœ¨æ•£åˆ—è¡¨ä¸­ï¼</p><blockquote><p>æ•£åˆ—è¡¨é€‚åˆç”¨äºï¼š</p><ol><li>æ¨¡æ‹Ÿæ˜ å°„å…³ç³»ï¼›</li><li>é˜²æ­¢é‡å¤ï¼›</li><li>ç¼“å­˜/è®°ä½æ•°æ®ï¼Œä»¥å…æœåŠ¡å™¨å†é€šè¿‡å¤„ç†æ¥ç”Ÿæˆå®ƒä»¬ã€‚</li></ol></blockquote><p>5.3 å†²çª<br>å†²çªï¼ˆ collisionï¼‰ ï¼šç»™ä¸¤ä¸ªé”®åˆ†é…çš„ä½ç½®ç›¸åŒã€‚<br>å¤„ç†å†²çªçš„æ–¹å¼å¾ˆå¤šï¼Œæœ€ç®€å•çš„åŠæ³•å¦‚ä¸‹ï¼šå¦‚æœä¸¤ä¸ªé”®æ˜ å°„åˆ°äº†åŒä¸€ä¸ªä½ç½®ï¼Œå°±åœ¨è¿™ä¸ªä½ç½®å­˜å‚¨ä¸€ä¸ªé“¾è¡¨ã€‚<br>æ•£åˆ—å‡½æ•°å¾ˆé‡è¦ï¼Œå¥½çš„æ•£åˆ—å‡½æ•°å¾ˆå°‘å¯¼è‡´å†²çªã€‚</p><p>5.4 æ€§èƒ½<br>åœ¨å¹³å‡æƒ…å†µä¸‹ï¼Œæ•£åˆ—è¡¨æ‰§è¡Œå„ç§æ“ä½œçš„æ—¶é—´éƒ½ä¸ºO(1)ã€‚ O(1)è¢«ç§°ä¸ºå¸¸é‡æ—¶é—´ã€‚ç®€å•æŸ¥æ‰¾çš„è¿è¡Œæ—¶é—´ä¸ºçº¿æ€§æ—¶é—´ã€‚äºŒåˆ†æŸ¥æ‰¾çš„é€Ÿåº¦æ›´å¿«ï¼Œæ‰€éœ€æ—¶é—´ä¸ºå¯¹æ•°æ—¶é—´ã€‚åœ¨æœ€ç³Ÿæƒ…å†µä¸‹ï¼Œæ•£åˆ—è¡¨æ‰€æœ‰æ“ä½œçš„è¿è¡Œæ—¶é—´éƒ½ä¸ºO(n)â€”â€”çº¿æ€§æ—¶é—´ï¼Œè¿™çœŸçš„å¾ˆæ…¢ã€‚<br>åœ¨å¹³å‡æƒ…å†µä¸‹ï¼Œæ•£åˆ—è¡¨çš„æŸ¥æ‰¾ï¼ˆè·å–ç»™å®šç´¢å¼•å¤„çš„å€¼ï¼‰é€Ÿåº¦ä¸æ•°ç»„ä¸€æ ·å¿«ï¼Œè€Œæ’å…¥å’Œåˆ é™¤é€Ÿåº¦ä¸é“¾è¡¨ä¸€æ ·å¿«ï¼Œå› æ­¤å®ƒå…¼å…·ä¸¤è€…çš„ä¼˜ç‚¹ï¼ä½†åœ¨æœ€ç³Ÿæƒ…å†µä¸‹ï¼Œæ•£åˆ—è¡¨çš„å„ç§æ“ä½œçš„é€Ÿåº¦éƒ½å¾ˆæ…¢ã€‚<br>å› æ­¤ï¼Œåœ¨ä½¿ç”¨æ•£åˆ—è¡¨æ—¶ï¼Œé¿å¼€æœ€ç³Ÿæƒ…å†µè‡³å…³é‡è¦ã€‚ä¸ºæ­¤ï¼Œéœ€è¦é¿å…å†²çªã€‚è€Œè¦é¿å…å†²çªï¼Œéœ€è¦æœ‰ï¼š<br>ï± è¾ƒä½çš„å¡«è£…å› å­ï¼›<br>ï± è‰¯å¥½çš„æ•£åˆ—å‡½æ•°ã€‚</p><h2 id="6-ç¬¬å…­ç« -å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆ-breadth-first-searchï¼Œ-BFSï¼‰"><a href="#6-ç¬¬å…­ç« -å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆ-breadth-first-searchï¼Œ-BFSï¼‰" class="headerlink" title="6. ç¬¬å…­ç«  å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆ breadth-first searchï¼Œ BFSï¼‰"></a><strong>6. ç¬¬å…­ç«  å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆ breadth-first searchï¼Œ BFSï¼‰</strong></h2><p>å¹¿åº¦ä¼˜å…ˆæœç´¢è®©ä½ èƒ½å¤Ÿæ‰¾å‡ºä¸¤æ ·ä¸œè¥¿ä¹‹é—´çš„æœ€çŸ­è·ç¦»ï¼Œå¹¿åº¦ä¼˜å…ˆæœç´¢æ˜¯ä¸€ç§ç”¨äºå›¾çš„æŸ¥æ‰¾ç®—æ³•ï¼Œå¯å¸®åŠ©å›ç­”ä¸¤ç±»é—®é¢˜ã€‚<br>ç¬¬ä¸€ç±»é—®é¢˜ï¼šä»èŠ‚ç‚¹Aå‡ºå‘ï¼Œæœ‰å‰å¾€èŠ‚ç‚¹Bçš„è·¯å¾„å—ï¼Ÿï¼ˆåœ¨ä½ çš„äººé™…å…³ç³»ç½‘ä¸­ï¼Œæœ‰èŠ’æœé”€å”®å•†å—ï¼Ÿï¼‰<br>ç¬¬äºŒç±»é—®é¢˜ï¼šä»èŠ‚ç‚¹Aå‡ºå‘ï¼Œå‰å¾€èŠ‚ç‚¹Bçš„å“ªæ¡è·¯å¾„æœ€çŸ­ï¼Ÿï¼ˆå“ªä¸ªèŠ’æœé”€å”®å•†ä¸ä½ çš„å…³ç³»æœ€è¿‘ï¼Ÿï¼‰<br>ä½¿ç”¨è¿™ç§ç®—æ³•å°†æœéä½ çš„æ•´ä¸ªäººé™…å…³ç³»ç½‘ï¼Œç›´åˆ°æ‰¾åˆ°èŠ’æœé”€å”®å•†ã€‚è¿™å°±æ˜¯å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ã€‚<br><strong>å¹¿åº¦ä¼˜å…ˆæœç´¢ä¸ä»…æŸ¥æ‰¾ä»Aåˆ°Bçš„è·¯å¾„ï¼Œè€Œä¸”æ‰¾åˆ°çš„æ˜¯æœ€çŸ­çš„è·¯å¾„ã€‚</strong></p><p>6.3.2 é˜Ÿåˆ—<br>é˜Ÿåˆ—ç±»ä¼¼äºæ ˆï¼Œä½ ä¸èƒ½éšæœºåœ°è®¿é—®é˜Ÿåˆ—ä¸­çš„å…ƒç´ ã€‚é˜Ÿåˆ—åªæ”¯æŒä¸¤ç§æ“ä½œï¼š å…¥é˜Ÿå’Œå‡ºé˜Ÿã€‚<br><strong>é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºï¼ˆ First In First Outï¼Œ FIFOï¼‰çš„æ•°æ®ç»“æ„ï¼Œè€Œæ ˆæ˜¯ä¸€ç§åè¿›å…ˆå‡ºï¼ˆ Last InFirst Outï¼Œ LIFOï¼‰çš„æ•°æ®ç»“æ„ã€‚</strong><br>è¿è¡Œæ—¶é—´<br>å¦‚æœä½ åœ¨ä½ çš„æ•´ä¸ªäººé™…å…³ç³»ç½‘ä¸­æœç´¢èŠ’æœé”€å”®å•†ï¼Œå°±æ„å‘³ç€ä½ å°†æ²¿æ¯æ¡è¾¹å‰è¡Œï¼ˆè®°ä½ï¼Œè¾¹æ˜¯ä»ä¸€ä¸ªäººåˆ°å¦ä¸€ä¸ªäººçš„ç®­å¤´æˆ–è¿æ¥ï¼‰ï¼Œå› æ­¤è¿è¡Œæ—¶é—´è‡³å°‘ä¸ºO(è¾¹æ•°)ã€‚<br>ä½ è¿˜ä½¿ç”¨äº†ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå…¶ä¸­åŒ…å«è¦æ£€æŸ¥çš„æ¯ä¸ªäººã€‚å°†ä¸€ä¸ªäººæ·»åŠ åˆ°é˜Ÿåˆ—éœ€è¦çš„æ—¶é—´æ˜¯å›ºå®šçš„ï¼Œå³ä¸ºO(1)ï¼Œå› æ­¤å¯¹æ¯ä¸ªäººéƒ½è¿™æ ·åšéœ€è¦çš„æ€»æ—¶é—´ä¸ºO(äººæ•°)ã€‚æ‰€ä»¥ï¼Œå¹¿åº¦ä¼˜å…ˆæœç´¢çš„è¿è¡Œæ—¶é—´ä¸ºO(äººæ•° + è¾¹æ•°)ï¼Œè¿™é€šå¸¸å†™ä½œO(V + E)ï¼Œå…¶ä¸­Vä¸ºé¡¶ç‚¹ï¼ˆ verticeï¼‰æ•°ï¼Œ Eä¸ºè¾¹æ•°ã€‚<br>ä½ éœ€è¦æŒ‰åŠ å…¥é¡ºåºæ£€æŸ¥æœç´¢åˆ—è¡¨ä¸­çš„äººï¼Œå¦åˆ™æ‰¾åˆ°çš„å°±ä¸æ˜¯æœ€çŸ­è·¯å¾„ï¼Œå› æ­¤æœç´¢åˆ—è¡¨å¿…é¡»æ˜¯é˜Ÿåˆ—ã€‚</p><h2 id="7-ç¬¬ä¸ƒç« -ç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•"><a href="#7-ç¬¬ä¸ƒç« -ç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•" class="headerlink" title="7. ç¬¬ä¸ƒç«  ç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•"></a><strong>7. ç¬¬ä¸ƒç«  ç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•</strong></h2><p>åº”ç”¨åœºæ™¯ï¼šè·¯ç”±åè®®é€‰è·¯<br>å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œå®ƒæ‰¾å‡ºçš„æ˜¯æ®µæ•°æœ€å°‘çš„è·¯å¾„ï¼Œç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•ï¼ˆ Dijkstraâ€™s algorithmï¼‰æ‰¾çš„æ˜¯æœ€å¿«çš„è·¯å¾„ã€‚å¹¿åº¦ä¼˜å…ˆæœç´¢æ¥æŸ¥æ‰¾ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ï¼Œé‚£æ—¶â€œæœ€çŸ­è·¯å¾„â€çš„æ„æ€æ˜¯æ®µæ•°æœ€å°‘ã€‚<strong>åœ¨ç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•ä¸­ï¼Œä½ ç»™æ¯æ®µéƒ½åˆ†é…äº†ä¸€ä¸ªæ•°å­—æˆ–æƒé‡ï¼Œå› æ­¤ç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•æ‰¾å‡ºçš„æ˜¯æ€»æƒé‡æœ€å°çš„è·¯å¾„ã€‚</strong><br>ç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•åŒ…å«4ä¸ªæ­¥éª¤ã€‚<br>(1) æ‰¾å‡ºâ€œä»£ä»·æœ€ä½â€çš„èŠ‚ç‚¹ï¼Œå³å¯åœ¨æœ€çŸ­æ—¶é—´å†…åˆ°è¾¾çš„èŠ‚ç‚¹ã€‚<br>(2) å¯¹äºè¯¥èŠ‚ç‚¹çš„é‚»å±…ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰å‰å¾€å®ƒä»¬çš„æ›´çŸ­è·¯å¾„ï¼Œå¦‚æœæœ‰ï¼Œå°±æ›´æ–°å…¶å¼€é”€ã€‚<br>(3) é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°å¯¹å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½è¿™æ ·åšäº†ã€‚<br>(4) è®¡ç®—æœ€ç»ˆè·¯å¾„ã€‚<br>å¸¦æƒé‡çš„å›¾ç§°ä¸ºåŠ æƒå›¾ï¼ˆ weighted graphï¼‰ï¼Œä¸å¸¦æƒé‡çš„å›¾ç§°ä¸ºéåŠ æƒå›¾ï¼ˆunweighted graphï¼‰ã€‚<br>è¦è®¡ç®—éåŠ æƒå›¾ä¸­çš„æœ€çŸ­è·¯å¾„ï¼Œå¯ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚è¦è®¡ç®—åŠ æƒå›¾ä¸­çš„æœ€çŸ­è·¯å¾„ï¼Œå¯ä½¿ç”¨ç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•ã€‚<strong>ç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•åªé€‚ç”¨äºæœ‰å‘æ— ç¯å›¾</strong>ã€‚<br>æœ€çŸ­è·¯å¾„æŒ‡çš„å¹¶ä¸ä¸€å®šæ˜¯ç‰©ç†è·ç¦»ï¼Œä¹Ÿå¯èƒ½æ˜¯è®©æŸç§åº¦é‡æŒ‡æ ‡æœ€å°ã€‚å¦‚æœæœ‰è´Ÿæƒè¾¹ï¼Œå°±ä¸èƒ½ä½¿ç”¨ç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•ã€‚å› ä¸ºè´Ÿæƒè¾¹ä¼šå¯¼è‡´è¿™ç§ç®—æ³•ä¸ç®¡ç”¨ã€‚</p><blockquote><p>7.6 å°ç»“</p><ol><li>å¹¿åº¦ä¼˜å…ˆæœç´¢ç”¨äºåœ¨éåŠ æƒå›¾ä¸­æŸ¥æ‰¾æœ€çŸ­è·¯å¾„ã€‚</li><li>ç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•ç”¨äºåœ¨åŠ æƒå›¾ä¸­æŸ¥æ‰¾æœ€çŸ­è·¯å¾„ã€‚</li><li>ä»…å½“æƒé‡ä¸ºæ­£æ—¶ç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•æ‰ç®¡ç”¨ã€‚</li><li>å¦‚æœå›¾ä¸­åŒ…å«è´Ÿæƒè¾¹ï¼Œè¯·ä½¿ç”¨è´å°”æ›¼-ç¦å¾·ç®—æ³•ã€‚</li></ol></blockquote><h2 id="8-ç¬¬å…«ç« -è´ªå©ªç®—æ³•"><a href="#8-ç¬¬å…«ç« -è´ªå©ªç®—æ³•" class="headerlink" title="8. ç¬¬å…«ç«  è´ªå©ªç®—æ³•"></a><strong>8. ç¬¬å…«ç«  è´ªå©ªç®—æ³•</strong></h2><p>è´ªå©ªç®—æ³•çš„ä¼˜ç‚¹â€”â€”ç®€å•æ˜“è¡Œï¼è´ªå©ªç®—æ³•å¾ˆç®€å•ï¼šæ¯æ­¥éƒ½é‡‡å–æœ€ä¼˜çš„åšæ³•ã€‚ç”¨ä¸“ä¸šæœ¯è¯­è¯´ï¼Œå°±æ˜¯ä½ æ¯æ­¥éƒ½é€‰æ‹©å±€éƒ¨æœ€ä¼˜è§£ï¼Œæœ€ç»ˆå¾—åˆ°çš„å°±æ˜¯å…¨å±€æœ€ä¼˜è§£ã€‚<br>8.2 èƒŒåŒ…é—®é¢˜<br>åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œå®Œç¾æ˜¯ä¼˜ç§€çš„æ•Œäººã€‚æœ‰æ—¶å€™ï¼Œä½ åªéœ€æ‰¾åˆ°ä¸€ä¸ªèƒ½å¤Ÿå¤§è‡´è§£å†³é—®é¢˜çš„ç®—æ³•ï¼Œæ­¤æ—¶è´ªå©ªç®—æ³•æ­£å¥½å¯æ´¾ä¸Šç”¨åœºï¼Œå› ä¸ºå®ƒä»¬å®ç°èµ·æ¥å¾ˆå®¹æ˜“ï¼Œå¾—åˆ°çš„ç»“æœåˆä¸æ­£ç¡®ç»“æœç›¸å½“æ¥è¿‘ã€‚<br>èƒŒåŒ…é—®é¢˜å°±æ˜¯æœ‰è‹¥å¹²ç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰è‡ªå·±çš„ä»·å€¼å’Œé‡é‡ã€‚èƒŒåŒ…æœ‰æ€»é‡é‡ã€‚é—®é¢˜å°±æ˜¯æ€æ ·å°†èƒŒåŒ…è£…çš„æœ€å¤§ä»·å€¼ã€‚èƒŒåŒ…é—®é¢˜ä¹Ÿåˆ†å¾ˆå¤šç§ï¼Œè´ªå¿ƒç®—æ³•è§£å†³çš„æ˜¯ç‰©å“å¯ä»¥æ‹†åˆ†çš„èƒŒåŒ…é—®é¢˜ï¼ˆå°±æ˜¯ç‰©å“å¯ä»¥åˆ†æˆå‡ ä»½è£…å…¥ï¼‰ã€‚è¿™ä¸ªé—®é¢˜ç”¨è´ªå¿ƒè¿˜æ˜¯æ¯”è¾ƒå¥½è§£å†³çš„ã€‚è´ªå¿ƒé€‰æ‹©æ˜¯æŒ‡æ‰€æ±‚é—®é¢˜çš„æ•´ä½“æœ€ä¼˜è§£å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—å±€éƒ¨æœ€ä¼˜çš„é€‰æ‹©ï¼Œå³è´ªå¿ƒé€‰æ‹©æ¥è¾¾åˆ°ã€‚è¿™æ˜¯è´ªå¿ƒç®—æ³•å¯è¡Œçš„ç¬¬ä¸€ä¸ªåŸºæœ¬è¦ç´ ï¼Œä¹Ÿæ˜¯è´ªå¿ƒç®—æ³•ä¸åŠ¨æ€è§„åˆ’ç®—æ³•çš„ä¸»è¦åŒºåˆ«ã€‚æ­¤é—®é¢˜å°±æ˜¯å°†æ¯æ¬¡çš„æ”¾å…¥çœ‹æˆæ¯ä¸€æ­¥ï¼Œè¦æƒ³è§£å†³é—®é¢˜ï¼Œå°±æ˜¯å°†æ¯ä¸€æ­¥éƒ½æ”¾å…¥æœ€ä¼˜è§£ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸€æ¬¡çš„æ”¾å…¥éƒ½è¦æ”¾å…¥æœ€ä½³çš„é€‰æ‹©ã€‚è®²åˆ°è¿™é‡Œï¼Œå°±è¦è¯´ä¸€è¯´æœ€ä½³çš„é€‰æ‹©ï¼Œæ¯ä¸€æ¬¡çš„æ”¾å…¥çš„æœ€ä½³çš„é€‰æ‹©å°±æ˜¯æ¯æ¬¡æ”¾å…¥çš„ç‰©å“éƒ½æ˜¯å‰©ä½™çš„ç‰©å“ä¸­ä»·å€¼æœ€å¤§ä¸”è´¨é‡æœ€å°çš„ï¼Œè¿™é‡Œå°±è¦å¼•å…¥ä¸€ä¸ªç‰©å“çš„å±æ€§ï¼Œç‰©å“çš„æƒé‡å€¼ã€‚ç‰©å“çš„æƒé‡å€¼å°±æ˜¯æŒ‡ç‰©å“çš„ä»·å€¼é™¤ä»¥ç‰©å“çš„è´¨é‡ã€‚æ‰€ä»¥ï¼Œæœ¬é—®é¢˜çš„æ¯ä¸€æ¬¡çš„æœ€ä½³é€‰æ‹©å°±æ˜¯æ¯æ¬¡éƒ½é€‰å‡ºæƒé‡å€¼æœ€å¤§çš„ç‰©å“ã€‚<br>è¿‘ä¼¼ç®—æ³•<br>åœ¨è·å¾—ç²¾ç¡®è§£éœ€è¦çš„æ—¶é—´å¤ªé•¿æ—¶ï¼Œå¯ä½¿ç”¨è¿‘ä¼¼ç®—æ³•ã€‚åˆ¤æ–­è¿‘ä¼¼ç®—æ³•ä¼˜åŠ£çš„æ ‡å‡†å¦‚ä¸‹ï¼š<br>ï± é€Ÿåº¦æœ‰å¤šå¿«ï¼›<br>ï± å¾—åˆ°çš„è¿‘ä¼¼è§£ä¸æœ€ä¼˜è§£çš„æ¥è¿‘ç¨‹åº¦ã€‚</p><p>8.4 NP å®Œå…¨é—®é¢˜(Non-deterministic Polynomialå¤šé¡¹å¼çš„ä¸ç¡®å®šæ€§)<br>NPå®Œå…¨é—®é¢˜çš„ç®€å•å®šä¹‰æ˜¯ï¼Œä»¥éš¾è§£è‘—ç§°çš„é—®é¢˜ï¼Œå¦‚æ—…è¡Œå•†é—®é¢˜å’Œé›†åˆè¦†ç›–é—®é¢˜ã€‚å¾ˆå¤šéå¸¸èªæ˜çš„äººéƒ½è®¤ä¸ºï¼Œæ ¹æœ¬ä¸å¯èƒ½ç¼–å†™å‡ºå¯å¿«é€Ÿè§£å†³è¿™äº›é—®é¢˜çš„ç®—æ³•ã€‚<br>å¦‚æœèƒ½å¤Ÿåˆ¤æ–­å‡ºè¦è§£å†³çš„é—®é¢˜å±äºNPå®Œå…¨é—®é¢˜å°±å¥½äº†ï¼Œè¿™æ ·å°±ä¸ç”¨å»å¯»æ‰¾å®Œç¾çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œæ˜¯ä½¿ç”¨è¿‘ä¼¼ç®—æ³•å³å¯ã€‚ä½†è¦åˆ¤æ–­é—®é¢˜æ˜¯ä¸æ˜¯NPå®Œå…¨é—®é¢˜å¾ˆéš¾ï¼Œæ˜“äºè§£å†³çš„é—®é¢˜å’ŒNPå®Œå…¨é—®é¢˜çš„å·®åˆ«é€šå¸¸å¾ˆå°ã€‚</p><p>ï± å…ƒç´ è¾ƒå°‘æ—¶ç®—æ³•çš„è¿è¡Œé€Ÿåº¦éå¸¸å¿«ï¼Œä½†éšç€å…ƒç´ æ•°é‡çš„å¢åŠ ï¼Œé€Ÿåº¦ä¼šå˜å¾—éå¸¸æ…¢ã€‚<br>ï± æ¶‰åŠâ€œæ‰€æœ‰ç»„åˆâ€çš„é—®é¢˜é€šå¸¸æ˜¯NPå®Œå…¨é—®é¢˜ã€‚<br>ï± ä¸èƒ½å°†é—®é¢˜åˆ†æˆå°é—®é¢˜ï¼Œå¿…é¡»è€ƒè™‘å„ç§å¯èƒ½çš„æƒ…å†µã€‚è¿™å¯èƒ½æ˜¯NPå®Œå…¨é—®é¢˜ã€‚<br>ï± å¦‚æœé—®é¢˜æ¶‰åŠåºåˆ—ï¼ˆå¦‚æ—…è¡Œå•†é—®é¢˜ä¸­çš„åŸå¸‚åºåˆ—ï¼‰ä¸”éš¾ä»¥è§£å†³ï¼Œå®ƒå¯èƒ½å°±æ˜¯NPå®Œå…¨é—®é¢˜ã€‚<br>ï± å¦‚æœé—®é¢˜æ¶‰åŠé›†åˆï¼ˆå¦‚å¹¿æ’­å°é›†åˆï¼‰ä¸”éš¾ä»¥è§£å†³ï¼Œå®ƒå¯èƒ½å°±æ˜¯NPå®Œå…¨é—®é¢˜ã€‚<br>ï± å¦‚æœé—®é¢˜å¯è½¬æ¢ä¸ºé›†åˆè¦†ç›–é—®é¢˜æˆ–æ—…è¡Œå•†é—®é¢˜ï¼Œé‚£å®ƒè‚¯å®šæ˜¯NPå®Œå…¨é—®é¢˜ã€‚</p><blockquote><p>8.5 å°ç»“</p><ol><li>è´ªå©ªç®—æ³•å¯»æ‰¾å±€éƒ¨æœ€ä¼˜è§£ï¼Œä¼å›¾ä»¥è¿™ç§æ–¹å¼è·å¾—å…¨å±€æœ€ä¼˜è§£ã€‚</li><li>å¯¹äºNPå®Œå…¨é—®é¢˜ï¼Œè¿˜æ²¡æœ‰æ‰¾åˆ°å¿«é€Ÿè§£å†³æ–¹æ¡ˆã€‚</li><li>é¢ä¸´NPå®Œå…¨é—®é¢˜æ—¶ï¼Œæœ€ä½³çš„åšæ³•æ˜¯ä½¿ç”¨è¿‘ä¼¼ç®—æ³•ã€‚</li><li>è´ªå©ªç®—æ³•æ˜“äºå®ç°ã€è¿è¡Œé€Ÿåº¦å¿«ï¼Œæ˜¯ä¸é”™çš„è¿‘ä¼¼ç®—æ³•ã€‚</li></ol></blockquote><h2 id="9-ç¬¬ä¹ç« -åŠ¨æ€è§„åˆ’"><a href="#9-ç¬¬ä¹ç« -åŠ¨æ€è§„åˆ’" class="headerlink" title="9. ç¬¬ä¹ç«  åŠ¨æ€è§„åˆ’"></a><strong>9. ç¬¬ä¹ç«  åŠ¨æ€è§„åˆ’</strong></h2><p>9.1.2 åŠ¨æ€è§„åˆ’<br>åŠ¨æ€è§„åˆ’å…ˆè§£å†³å­é—®é¢˜ï¼Œå†é€æ­¥è§£å†³å¤§é—®é¢˜ã€‚<br>å¯¹äºèƒŒåŒ…é—®é¢˜ï¼Œä½ å…ˆè§£å†³å°èƒŒåŒ…ï¼ˆå­èƒŒåŒ…ï¼‰é—®é¢˜ï¼Œå†é€æ­¥è§£å†³åŸæ¥çš„é—®é¢˜ã€‚<br>æ¯ä¸ªåŠ¨æ€è§„åˆ’ç®—æ³•éƒ½ä»ä¸€ä¸ªç½‘æ ¼å¼€å§‹ï¼Œç½‘æ ¼çš„å„è¡Œä¸ºå•†å“ï¼Œå„åˆ—ä¸ºä¸åŒå®¹é‡ï¼ˆ 1ï½4ç£…ï¼‰çš„èƒŒåŒ…ã€‚æ‰€æœ‰è¿™äº›åˆ—ä½ éƒ½éœ€è¦ï¼Œå› ä¸ºå®ƒä»¬å°†å¸®åŠ©ä½ è®¡ç®—å­èƒŒåŒ…çš„ä»·å€¼ã€‚<br>åŠ¨æ€è§„åˆ’åŠŸèƒ½å¼ºå¤§ï¼Œå®ƒèƒ½å¤Ÿè§£å†³å­é—®é¢˜å¹¶ä½¿ç”¨è¿™äº›ç­”æ¡ˆæ¥è§£å†³å¤§é—®é¢˜ã€‚ ä½†ä»…å½“æ¯ä¸ªå­é—®é¢˜éƒ½æ˜¯ç¦»æ•£çš„ï¼Œå³ä¸ä¾èµ–äºå…¶ä»–å­é—®é¢˜æ—¶ï¼ŒåŠ¨æ€è§„åˆ’æ‰ç®¡ç”¨ã€‚</p><blockquote><ol><li>åŠ¨æ€è§„åˆ’å¯å¸®åŠ©ä½ åœ¨ç»™å®šçº¦æŸæ¡ä»¶ä¸‹æ‰¾åˆ°æœ€ä¼˜è§£ã€‚åœ¨èƒŒåŒ…é—®é¢˜ä¸­ï¼Œä½ å¿…é¡»åœ¨èƒŒåŒ…å®¹é‡ç»™å®šçš„æƒ…å†µä¸‹ï¼Œå·åˆ°ä»·å€¼æœ€é«˜çš„å•†å“ã€‚</li><li>åœ¨é—®é¢˜å¯åˆ†è§£ä¸ºå½¼æ­¤ç‹¬ç«‹ä¸”ç¦»æ•£çš„å­é—®é¢˜æ—¶ï¼Œå°±å¯ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚è¦è®¾è®¡å‡ºåŠ¨æ€è§„åˆ’è§£å†³æ–¹æ¡ˆå¯èƒ½å¾ˆéš¾ï¼Œè¿™æ­£æ˜¯æœ¬èŠ‚è¦ä»‹ç»çš„ã€‚ä¸‹é¢æ˜¯ä¸€äº›é€šç”¨çš„å°è´´å£«ã€‚</li><li>æ¯ç§åŠ¨æ€è§„åˆ’è§£å†³æ–¹æ¡ˆéƒ½æ¶‰åŠç½‘æ ¼ã€‚</li></ol></blockquote><p>9.3.1 ç»˜åˆ¶ç½‘æ ¼<br>å¯¹äºå‰é¢çš„èƒŒåŒ…é—®é¢˜ï¼Œæœ€ç»ˆç­”æ¡ˆæ€»æ˜¯åœ¨æœ€åçš„å•å…ƒæ ¼ä¸­ã€‚ä½†å¯¹äºæœ€é•¿å…¬å…±å­ä¸²é—®é¢˜ï¼Œç­”æ¡ˆä¸ºç½‘æ ¼ä¸­æœ€å¤§çš„æ•°å­—â€”â€”å®ƒå¯èƒ½å¹¶ä¸ä½äºæœ€åçš„å•å…ƒæ ¼ä¸­ã€‚</p><blockquote><p>9.4 å°ç»“</p><ol><li>éœ€è¦åœ¨ç»™å®šçº¦æŸæ¡ä»¶ä¸‹ä¼˜åŒ–æŸç§æŒ‡æ ‡æ—¶ï¼ŒåŠ¨æ€è§„åˆ’å¾ˆæœ‰ç”¨ã€‚</li><li>é—®é¢˜å¯åˆ†è§£ä¸ºç¦»æ•£å­é—®é¢˜æ—¶ï¼Œå¯ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚</li><li>æ¯ç§åŠ¨æ€è§„åˆ’è§£å†³æ–¹æ¡ˆéƒ½æ¶‰åŠç½‘æ ¼ã€‚</li><li>å•å…ƒæ ¼ä¸­çš„å€¼é€šå¸¸å°±æ˜¯ä½ è¦ä¼˜åŒ–çš„å€¼ã€‚</li><li>æ¯ä¸ªå•å…ƒæ ¼éƒ½æ˜¯ä¸€ä¸ªå­é—®é¢˜ï¼Œå› æ­¤ä½ éœ€è¦è€ƒè™‘å¦‚ä½•å°†é—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜ã€‚</li><li>æ²¡æœ‰æ”¾ä¹‹å››æµ·çš†å‡†çš„è®¡ç®—åŠ¨æ€è§„åˆ’è§£å†³æ–¹æ¡ˆçš„å…¬å¼ã€‚</li></ol></blockquote><h2 id="10-ç¬¬åç« -Kæœ€è¿‘é‚»ç®—æ³•"><a href="#10-ç¬¬åç« -Kæœ€è¿‘é‚»ç®—æ³•" class="headerlink" title="10. ç¬¬åç«  Kæœ€è¿‘é‚»ç®—æ³•"></a><strong>10. ç¬¬åç«  Kæœ€è¿‘é‚»ç®—æ³•</strong></h2><p>KNNå¯ä»¥ç”¨æ¥åšä¸¤é¡¹åŸºæœ¬å·¥ä½œâ€”â€”åˆ†ç±»å’Œå›å½’ï¼š</p><ol><li>åˆ†ç±»å°±æ˜¯ç¼–ç»„ï¼›</li><li>å›å½’å°±æ˜¯é¢„æµ‹ç»“æœï¼ˆå¦‚ä¸€ä¸ªæ•°å­—ï¼‰ã€‚</li></ol><p><strong>ä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆ cosine similarityï¼‰</strong><br>ä½™å¼¦ç›¸ä¼¼åº¦ä¸è®¡ç®—ä¸¤ä¸ªçŸ¢é‡çš„è·ç¦»ï¼Œè€Œæ¯”è¾ƒå®ƒä»¬çš„è§’åº¦ã€‚<br>ä½™å¼¦ç›¸ä¼¼åº¦ã€‚ä½™å¼¦ç›¸ä¼¼åº¦è¢«å¹¿æ³›ç”¨äºååŒè¿‡æ»¤ç®—æ³•ä¸­ï¼Œå°¤å…¶æ˜¯Item-baseçš„ååŒè¿‡æ»¤ã€‚<br>ä½™å¼¦ç›¸ä¼¼åº¦è¡¡é‡çš„æ˜¯ä¸¤ä¸ªå‘é‡é—´çš„å¤¹è§’å¤§å°ï¼Œé€šè¿‡å¤¹è§’çš„ä½™å¼¦å€¼è¡¨ç¤ºç»“æœï¼Œå‡è®¾Aå‘é‡æ˜¯ï¼ˆx1, y1ï¼‰ï¼ŒBå‘é‡æ˜¯(x2, y2)ï¼Œé‚£ä¹ˆä¸¤ä¸ªå‘é‡çš„ä½™å¼¦ç›¸ä¼¼åº¦ä¸ºï¼š</p><p>åˆ†å­ä¸ºå‘é‡Aä¸å‘é‡Bçš„ç‚¹ä¹˜ï¼Œåˆ†æ¯ä¸ºäºŒè€…å„è‡ªçš„L2ç›¸ä¹˜ï¼Œå³å°†æ‰€æœ‰ç»´åº¦å€¼çš„å¹³æ–¹ç›¸åŠ åå¼€æ–¹ã€‚ ä½™å¼¦ç›¸ä¼¼åº¦çš„å–å€¼ä¸º[-1,1]ï¼Œå€¼è¶Šå¤§è¡¨ç¤ºè¶Šç›¸ä¼¼ã€‚</p><p>10.3.1 OCR<br>OCRæŒ‡çš„æ˜¯å…‰å­¦å­—ç¬¦è¯†åˆ«ï¼ˆ optical character recognitionï¼‰ï¼Œè¿™æ„å‘³ç€ä½ å¯æ‹æ‘„å°åˆ·é¡µé¢çš„ç…§ç‰‡ï¼Œè®¡ç®—æœºå°†è‡ªåŠ¨è¯†åˆ«å‡ºå…¶ä¸­çš„æ–‡å­—ã€‚ ä¸€èˆ¬è€Œè¨€ï¼Œ OCRç®—æ³•æå–çº¿æ®µã€ç‚¹å’Œæ›²çº¿ç­‰ç‰¹å¾ã€‚<br>OCRçš„ç¬¬ä¸€æ­¥æ˜¯æŸ¥çœ‹å¤§é‡çš„æ•°å­—å›¾åƒå¹¶æå–ç‰¹å¾ï¼Œè¿™è¢«ç§°ä¸ºè®­ç»ƒï¼ˆ trainingï¼‰ã€‚å¤§å¤šæ•°æœºå™¨å­¦ä¹ ç®—æ³•éƒ½åŒ…å«è®­ç»ƒçš„æ­¥éª¤ï¼šè¦è®©è®¡ç®—æœºå®Œæˆä»»åŠ¡ï¼Œå¿…é¡»å…ˆè®­ç»ƒå®ƒã€‚</p><p>10.3.2 åˆ›å»ºåƒåœ¾é‚®ä»¶è¿‡æ»¤å™¨<br>åƒåœ¾é‚®ä»¶è¿‡æ»¤å™¨ä½¿ç”¨ä¸€ç§ç®€å•ç®—æ³•â€”â€”æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ï¼ˆ Naive Bayes classifierï¼‰ã€‚</p><blockquote><p>10.4 å°ç»“</p><ol><li>KNNç”¨äºåˆ†ç±»å’Œå›å½’ï¼Œéœ€è¦è€ƒè™‘æœ€è¿‘çš„é‚»å±…ã€‚</li><li>åˆ†ç±»å°±æ˜¯ç¼–ç»„ã€‚</li><li>å›å½’å°±æ˜¯é¢„æµ‹ç»“æœï¼ˆå¦‚æ•°å­—ï¼‰ã€‚</li><li>ç‰¹å¾æŠ½å–æ„å‘³ç€å°†ç‰©å“ï¼ˆå¦‚æ°´æœæˆ–ç”¨æˆ·ï¼‰è½¬æ¢ä¸ºä¸€ç³»åˆ—å¯æ¯”è¾ƒçš„æ•°å­—ã€‚</li><li>èƒ½å¦æŒ‘é€‰åˆé€‚çš„ç‰¹å¾äº‹å…³KNNç®—æ³•çš„æˆè´¥ã€‚</li></ol></blockquote><h2 id="11-ç¬¬åä¸€ç« -æ¥ä¸‹æ¥å¦‚ä½•åš"><a href="#11-ç¬¬åä¸€ç« -æ¥ä¸‹æ¥å¦‚ä½•åš" class="headerlink" title="11. ç¬¬åä¸€ç«  æ¥ä¸‹æ¥å¦‚ä½•åš"></a><strong>11. ç¬¬åä¸€ç«  æ¥ä¸‹æ¥å¦‚ä½•åš</strong></h2><p>äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆ binary search treeï¼‰<br>åœ¨äºŒå‰æŸ¥æ‰¾æ ‘ä¸­æŸ¥æ‰¾èŠ‚ç‚¹æ—¶ï¼Œå¹³å‡è¿è¡Œæ—¶é—´ä¸ºO(log n)ï¼Œä½†åœ¨æœ€ç³Ÿçš„æƒ…å†µä¸‹æ‰€éœ€æ—¶é—´ä¸ºO(n)ï¼›è€Œåœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æ—¶ï¼Œå³ä¾¿æ˜¯åœ¨æœ€ç³Ÿæƒ…å†µä¸‹æ‰€éœ€çš„æ—¶é—´ä¹Ÿåªæœ‰O(log n)ï¼Œå› æ­¤ä½ å¯èƒ½è®¤ä¸ºæœ‰åºæ•°ç»„æ¯”äºŒå‰æŸ¥æ‰¾æ ‘æ›´ä½³ã€‚ç„¶è€Œï¼ŒäºŒå‰æŸ¥æ‰¾æ ‘çš„æ’å…¥å’Œåˆ é™¤æ“ä½œçš„é€Ÿåº¦è¦å¿«å¾—å¤šã€‚<br><img src="https://img-blog.csdn.net/2018070419575199?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMzc5MDA2/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>äºŒå‰æŸ¥æ‰¾æ ‘ä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼Œä¾‹å¦‚ï¼Œä¸èƒ½éšæœºè®¿é—®ï¼Œåœ¨äºŒå‰æŸ¥æ‰¾æ ‘å¤„äºå¹³è¡¡çŠ¶æ€æ—¶ï¼Œå¹³å‡è®¿é—®æ—¶é—´ä¹Ÿä¸ºO(log n)ã€‚</p><p>11.2 åå‘ç´¢å¼•<br>ä¸€ä¸ªæ•£åˆ—è¡¨ï¼Œå°†å•è¯æ˜ å°„åˆ°åŒ…å«å®ƒçš„é¡µé¢ã€‚è¿™ç§æ•°æ®ç»“æ„è¢«ç§°ä¸ºåå‘ç´¢å¼•ï¼ˆ inverted indexï¼‰ï¼Œå¸¸ç”¨äºåˆ›å»ºæœç´¢å¼•æ“ã€‚</p><p>11.4 å¹¶è¡Œç®—æ³•<br>å¹¶è¡Œç®—æ³•è®¾è®¡èµ·æ¥å¾ˆéš¾ï¼Œè¦ç¡®ä¿å®ƒä»¬èƒ½å¤Ÿæ­£ç¡®åœ°å·¥ä½œå¹¶å®ç°æœŸæœ›çš„é€Ÿåº¦æå‡ä¹Ÿå¾ˆéš¾ã€‚æœ‰ä¸€ç‚¹æ˜¯ç¡®å®šçš„ï¼Œé‚£å°±æ˜¯é€Ÿåº¦çš„æå‡å¹¶éçº¿æ€§çš„ï¼Œå› æ­¤å³ä¾¿ä½ çš„ç¬”è®°æœ¬ç”µè„‘è£…å¤‡äº†ä¸¤ä¸ªè€Œä¸æ˜¯ä¸€ä¸ªå†…æ ¸ï¼Œç®—æ³•çš„é€Ÿåº¦ä¹Ÿä¸å¯èƒ½æé«˜ä¸€å€ï¼Œå…¶ä¸­çš„åŸå› æœ‰ä¸¤ä¸ªã€‚<br>å¹¶è¡Œæ€§ç®¡ç†å¼€é”€ã€‚å‡è®¾ä½ è¦å¯¹ä¸€ä¸ªåŒ…å«1000ä¸ªå…ƒç´ çš„æ•°ç»„è¿›è¡Œæ’åºï¼Œå¦‚ä½•åœ¨ä¸¤ä¸ªå†…æ ¸ä¹‹é—´åˆ†é…è¿™é¡¹ä»»åŠ¡å‘¢ï¼Ÿå¦‚æœè®©æ¯ä¸ªå†…æ ¸å¯¹å…¶ä¸­500ä¸ªå…ƒç´ è¿›è¡Œæ’åºï¼Œå†å°†ä¸¤ä¸ªæ’å¥½åºçš„æ•°ç»„åˆå¹¶æˆä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œé‚£ä¹ˆåˆå¹¶ä¹Ÿæ˜¯éœ€è¦æ—¶é—´çš„ã€‚<br>è´Ÿè½½å‡è¡¡ã€‚å‡è®¾ä½ éœ€è¦å®Œæˆ10ä¸ªä»»åŠ¡ï¼Œå› æ­¤ä½ ç»™æ¯ä¸ªå†…æ ¸éƒ½åˆ†é…5ä¸ªä»»åŠ¡ã€‚ä½†åˆ†é…ç»™å†…æ ¸Açš„ä»»åŠ¡éƒ½å¾ˆå®¹æ˜“ï¼Œ 10ç§’é’Ÿå°±å®Œæˆäº†ï¼Œè€Œåˆ†é…ç»™å†…æ ¸Bçš„ä»»åŠ¡éƒ½å¾ˆéš¾ï¼Œ 1åˆ†é’Ÿæ‰å®Œæˆã€‚è¿™æ„å‘³ç€æœ‰é‚£ä¹ˆ50ç§’ï¼Œå†…æ ¸Båœ¨å¿™æ­»å¿™æ´»ï¼Œè€Œå†…æ ¸Aå´é—²å¾—å¾ˆï¼ä½ å¦‚ä½•å‡åŒ€åœ°åˆ†é…å·¥ä½œï¼Œè®©ä¸¤ä¸ªå†…æ ¸éƒ½ä¸€æ ·å¿™å‘¢ï¼Ÿ</p><p>11.5 MapReduce<br>MapReduceæ˜¯ä¸€ç§æµè¡Œçš„åˆ†å¸ƒå¼ç®—æ³•ï¼Œä½ å¯é€šè¿‡æµè¡Œçš„å¼€æºå·¥å…·Apache Hadoopæ¥ä½¿ç”¨å®ƒã€‚åˆ†å¸ƒå¼ç®—æ³•éå¸¸é€‚åˆç”¨äºåœ¨çŸ­æ—¶é—´å†…å®Œæˆæµ·é‡å·¥ä½œï¼Œå…¶ä¸­çš„MapReduceåŸºäºä¸¤ä¸ªç®€å•çš„ç†å¿µï¼šæ˜ å°„ï¼ˆ mapï¼‰å‡½æ•°å’Œå½’å¹¶ï¼ˆ reduceï¼‰å‡½æ•°ã€‚<br>11.5.2 æ˜ å°„å‡½æ•°<br>æ˜ å°„å‡½æ•°å¾ˆç®€å•ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶å¯¹å…¶ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡ŒåŒæ ·çš„å¤„ç†ã€‚<br>11.5.3 å½’å¹¶å‡½æ•°<br>å½’å¹¶å‡½æ•°å¯èƒ½ä»¤äººè¿·æƒ‘ï¼Œå…¶ç†å¿µæ˜¯å°†å¾ˆå¤šé¡¹å½’å¹¶ä¸ºä¸€é¡¹ã€‚æ˜ å°„æ˜¯å°†ä¸€ä¸ªæ•°ç»„è½¬æ¢ä¸ºå¦ä¸€ä¸ªæ•°ç»„ã€‚<br>MapReduceä½¿ç”¨è¿™ä¸¤ä¸ªç®€å•æ¦‚å¿µåœ¨å¤šå°è®¡ç®—æœºä¸Šæ‰§è¡Œæ•°æ®æŸ¥è¯¢ã€‚æ•°æ®é›†å¾ˆå¤§ï¼ŒåŒ…å«æ•°åäº¿è¡Œæ—¶ï¼Œä½¿ç”¨MapReduceåªéœ€å‡ åˆ†é’Ÿå°±å¯è·å¾—æŸ¥è¯¢ç»“æœï¼Œè€Œä¼ ç»Ÿæ•°æ®åº“å¯èƒ½è¦è€—è´¹æ•°å°æ—¶ã€‚<br>11.6 å¸ƒéš†è¿‡æ»¤å™¨å’Œ HyperLogLog<br>å¸ƒéš†è¿‡æ»¤å™¨æ˜¯ä¸€ç§æ¦‚ç‡å‹æ•°æ®ç»“æ„ï¼Œå¸ƒéš†è¿‡æ»¤å™¨çš„ä¼˜ç‚¹åœ¨äºå ç”¨çš„å­˜å‚¨ç©ºé—´å¾ˆå°‘ã€‚ä½¿ç”¨æ•£åˆ—è¡¨æ—¶ï¼Œå¿…é¡»å­˜å‚¨Googleæœé›†è¿‡çš„æ‰€æœ‰URLï¼Œä½†ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨æ—¶ä¸ç”¨è¿™æ ·åšã€‚å¸ƒéš†è¿‡æ»¤å™¨éå¸¸é€‚åˆç”¨äºä¸è¦æ±‚ç­”æ¡ˆç»å¯¹å‡†ç¡®çš„æƒ…å†µï¼Œå‰é¢æ‰€æœ‰çš„ç¤ºä¾‹éƒ½æ˜¯è¿™æ ·çš„ã€‚<br>HyperLogLogæ˜¯ä¸€ç§ç±»ä¼¼äºå¸ƒéš†è¿‡æ»¤å™¨çš„ç®—æ³•ã€‚<br>HyperLogLogè¿‘ä¼¼åœ°è®¡ç®—é›†åˆä¸­ä¸åŒçš„å…ƒç´ æ•°ï¼Œä¸å¸ƒéš†è¿‡æ»¤å™¨ä¸€æ ·ï¼Œå®ƒä¸èƒ½ç»™å‡ºå‡†ç¡®çš„ç­”æ¡ˆï¼Œä½†ä¹Ÿå…«ä¹ä¸ç¦»åï¼Œè€Œå ç”¨çš„å†…å­˜ç©ºé—´å´å°‘å¾—å¤šã€‚<br>é¢ä¸´æµ·é‡æ•°æ®ä¸”åªè¦æ±‚ç­”æ¡ˆå…«ä¹ä¸ç¦»åæ—¶ï¼Œå¯è€ƒè™‘ä½¿ç”¨æ¦‚ç‡å‹ç®—æ³•ï¼</p><p>11.7 SHA ç®—æ³•<br>å¦ä¸€ç§æ•£åˆ—å‡½æ•°æ˜¯å®‰å…¨æ•£åˆ—ç®—æ³•ï¼ˆ secure hash algorithmï¼Œ SHAï¼‰å‡½æ•°ã€‚ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ SHAè¿”å›å…¶æ•£åˆ—å€¼ã€‚<br>SHAæ˜¯ä¸€ä¸ªæ•£åˆ—å‡½æ•°ï¼Œå®ƒç”Ÿæˆä¸€ä¸ªæ•£åˆ—å€¼â€”â€”ä¸€ä¸ªè¾ƒçŸ­çš„å­—ç¬¦ä¸²ã€‚ç”¨äºåˆ›å»ºæ•£åˆ—è¡¨çš„æ•£åˆ—å‡½æ•°æ ¹æ®å­—ç¬¦ä¸²ç”Ÿæˆæ•°ç»„ç´¢å¼•ï¼Œè€ŒSHAæ ¹æ®å­—ç¬¦ä¸²ç”Ÿæˆå¦ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å¯¹äºæ¯ä¸ªä¸åŒçš„å­—ç¬¦ä¸²ï¼Œ SHAç”Ÿæˆçš„æ•£åˆ—å€¼éƒ½ä¸åŒã€‚<br>ä½ å¯ä½¿ç”¨SHAæ¥åˆ¤æ–­ä¸¤ä¸ªæ–‡ä»¶æ˜¯å¦ç›¸åŒï¼Œè¿™åœ¨æ¯”è¾ƒè¶…å¤§å‹æ–‡ä»¶æ—¶å¾ˆæœ‰ç”¨ã€‚</p><p><strong>æ–æ³¢é‚£å¥‘æ•°åˆ—</strong><br>æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆFibonacci sequenceï¼‰ï¼Œåˆç§°é»„é‡‘åˆ†å‰²æ•°åˆ—ã€å› æ•°å­¦å®¶åˆ—æ˜‚çº³å¤šÂ·æ–æ³¢é‚£å¥‘ï¼ˆLeonardoda Fibonacciï¼‰ä»¥å…”å­ç¹æ®–ä¸ºä¾‹å­è€Œå¼•å…¥ï¼Œæ•…åˆç§°ä¸ºâ€œå…”å­æ•°åˆ—â€ï¼ŒæŒ‡çš„æ˜¯è¿™æ ·ä¸€ä¸ªæ•°åˆ—ï¼š1ã€1ã€2ã€3ã€5ã€8ã€13ã€21ã€34ã€â€¦â€¦åœ¨æ•°å­¦ä¸Šï¼Œæ–æ³¢çº³å¥‘æ•°åˆ—ä»¥å¦‚ä¸‹è¢«ä»¥é€’å½’çš„æ–¹æ³•å®šä¹‰ï¼šF(1)=1ï¼ŒF(2)=1, F(n)=F(n-1)+F(n-2)ï¼ˆn&gt;=2ï¼ŒnâˆˆN*ï¼‰åœ¨ç°ä»£ç‰©ç†ã€å‡†æ™¶ä½“ç»“æ„ã€åŒ–å­¦ç­‰é¢†åŸŸï¼Œæ–æ³¢çº³å¥‘æ•°åˆ—éƒ½æœ‰ç›´æ¥çš„åº”ç”¨ï¼Œä¸ºæ­¤ï¼Œç¾å›½æ•°å­¦ä¼šä»1963å¹´èµ·å‡ºç‰ˆäº†ä»¥ã€Šæ–æ³¢çº³å¥‘æ•°åˆ—å­£åˆŠã€‹ä¸ºåçš„ä¸€ä»½æ•°å­¦æ‚å¿—ï¼Œç”¨äºä¸“é—¨åˆŠè½½è¿™æ–¹é¢çš„ç ”ç©¶æˆæœã€‚</p><p>é€’å½’æ–¹å¼å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ— å‰né¡¹:</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é€’å½’æ–¹å¼å®ç° ç”Ÿæˆå‰20é¡¹</span></span><br><span class="line">lis =[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">20</span>):</span><br><span class="line">    <span class="keyword">if</span> i ==<span class="number">0</span> <span class="keyword">or</span> i ==<span class="number">1</span>:<span class="comment">#ç¬¬1,2é¡¹ éƒ½ä¸º1</span></span><br><span class="line">        lis.append(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        lis.append(lis[i<span class="number">-2</span>]+lis[i<span class="number">-1</span>])<span class="comment">#ä»ç¬¬3é¡¹å¼€å§‹æ¯é¡¹å€¼ä¸ºå‰ä¸¤é¡¹å€¼ä¹‹å’Œ</span></span><br><span class="line">print(lis)<span class="number">12345678</span></span><br><span class="line"> <span class="comment">#é€’å½’å‡½æ•°å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Fibonacci_function_tool</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> Fibonacci_function_tool(n - <span class="number">1</span>) + Fibonacci_function_tool(n - <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Fibonacci_function</span><span class="params">(n)</span>:</span></span><br><span class="line">    result_list = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n + <span class="number">1</span>): result_list.append(Fibonacci_function_tool(i))</span><br><span class="line">    <span class="keyword">return</span> result_list</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>ç®—æ³•</category>
        <category>python</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ</title>
    <url>/2020/03/01/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<!-- build time:Wed Jun 17 2020 15:06:13 GMT+0800 (GMT+08:00) --><h1 id="å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ"><a href="#å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ" class="headerlink" title="å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ"></a>å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ</h1><h2 id="ï¼ˆç¬¬1é˜¶æ®µï¼‰å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿéƒ¨åˆ†æˆªå›¾"><a href="#ï¼ˆç¬¬1é˜¶æ®µï¼‰å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿéƒ¨åˆ†æˆªå›¾" class="headerlink" title="ï¼ˆç¬¬1é˜¶æ®µï¼‰å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿéƒ¨åˆ†æˆªå›¾"></a>ï¼ˆç¬¬1é˜¶æ®µï¼‰å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿéƒ¨åˆ†æˆªå›¾</h2><p><img src="/2020/03/01/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/1-1.JPG" alt="1-1.JPG"></p><p><img src="/2020/03/01/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/1-2.JPG" alt="1-2.JPG"></p><h2 id="ï¼ˆç¬¬2é˜¶æ®µï¼‰å­¦ç”Ÿé€‰è¯¾ç®¡ç†ç³»ç»Ÿéƒ¨åˆ†æˆªå›¾"><a href="#ï¼ˆç¬¬2é˜¶æ®µï¼‰å­¦ç”Ÿé€‰è¯¾ç®¡ç†ç³»ç»Ÿéƒ¨åˆ†æˆªå›¾" class="headerlink" title="ï¼ˆç¬¬2é˜¶æ®µï¼‰å­¦ç”Ÿé€‰è¯¾ç®¡ç†ç³»ç»Ÿéƒ¨åˆ†æˆªå›¾"></a>ï¼ˆç¬¬2é˜¶æ®µï¼‰å­¦ç”Ÿé€‰è¯¾ç®¡ç†ç³»ç»Ÿéƒ¨åˆ†æˆªå›¾</h2><p><img src="/2020/03/01/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/2-1.JPG" alt="2-1.JPG"></p><p><img src="/2020/03/01/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/2-2.JPG" alt="2-2.JPG"></p><p><img src="/2020/03/01/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/2-3.JPG" alt="2-3.JPG"></p><p><img src="/2020/03/01/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/2-4.JPG" alt="2-4.JPG"></p><p><img src="/2020/03/01/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/2-5.JPG" alt="2-5.JPG"></p><h2 id="ï¼ˆç¬¬3é˜¶æ®µï¼‰å­¦ç”Ÿç­¾åˆ°è€ƒå‹¤ç³»ç»Ÿæˆªå›¾-ç•¥"><a href="#ï¼ˆç¬¬3é˜¶æ®µï¼‰å­¦ç”Ÿç­¾åˆ°è€ƒå‹¤ç³»ç»Ÿæˆªå›¾-ç•¥" class="headerlink" title="ï¼ˆç¬¬3é˜¶æ®µï¼‰å­¦ç”Ÿç­¾åˆ°è€ƒå‹¤ç³»ç»Ÿæˆªå›¾(ç•¥)"></a>ï¼ˆç¬¬3é˜¶æ®µï¼‰å­¦ç”Ÿç­¾åˆ°è€ƒå‹¤ç³»ç»Ÿæˆªå›¾(ç•¥)</h2><h2 id="ï¼ˆç¬¬4é˜¶æ®µï¼‰å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿéƒ¨åˆ†æˆªå›¾"><a href="#ï¼ˆç¬¬4é˜¶æ®µï¼‰å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿéƒ¨åˆ†æˆªå›¾" class="headerlink" title="ï¼ˆç¬¬4é˜¶æ®µï¼‰å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿéƒ¨åˆ†æˆªå›¾"></a>ï¼ˆç¬¬4é˜¶æ®µï¼‰å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿéƒ¨åˆ†æˆªå›¾</h2><p><img src="/2020/03/01/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/4-1.JPG" alt="4-1.JPG"></p><p><img src="/2020/03/01/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/4-2.JPG" alt="4-2.JPG"></p><p><img src="/2020/03/01/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/4-3.JPG" alt="4-3.JPG"></p><h4 id="å®Œæ•´æºä»£ç å’Œè§†é¢‘æ•™å­¦èµ„æºï¼šç™¾åº¦äº‘é“¾æ¥-ç™¾åº¦ç½‘ç›˜ï¼Œæå–ç ï¼š3jbh"><a href="#å®Œæ•´æºä»£ç å’Œè§†é¢‘æ•™å­¦èµ„æºï¼šç™¾åº¦äº‘é“¾æ¥-ç™¾åº¦ç½‘ç›˜ï¼Œæå–ç ï¼š3jbh" class="headerlink" title="å®Œæ•´æºä»£ç å’Œè§†é¢‘æ•™å­¦èµ„æºï¼šç™¾åº¦äº‘é“¾æ¥:ç™¾åº¦ç½‘ç›˜ï¼Œæå–ç ï¼š3jbh"></a><strong><em>å®Œæ•´æºä»£ç å’Œè§†é¢‘æ•™å­¦èµ„æºï¼šç™¾åº¦äº‘é“¾æ¥:<a href="https://pan.baidu.com/s/1vwebuzdVTBmSc-bHdbEnSg" target="_blank" rel="noopener">ç™¾åº¦ç½‘ç›˜</a>ï¼Œæå–ç ï¼š3jbh</em></strong></h4><!-- rebuild by neat -->]]></content>
      <categories>
        <category>å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>pythonä¸­çš„is å’Œ == ä½ çœŸçš„æå¯¹å¯¹è±¡äº†å—ï¼Ÿ</title>
    <url>/2020/06/09/Python%E7%9A%84%20is%20%E5%92%8C%20==%20%E4%BD%A0%E7%9C%9F%E7%9A%84%E6%90%9E%E5%AF%B9%E5%AF%B9%E8%B1%A1%E4%BA%86%E5%90%97%EF%BC%9F/</url>
    <content><![CDATA[<!-- build time:Wed Jun 17 2020 15:06:13 GMT+0800 (GMT+08:00) --><p>é¦–å…ˆæˆ‘å…ˆæ”¾ä¸€å¼ ç®€å•æ€»ç»“çš„å›¾</p><p><img src="https://wx2.sbimg.cn/2020/06/09/image-20200608161408086.png" alt="image-20200608161408086"></p><p>ä¸‹é¢æ˜¯æˆ‘åšçš„ä¸€ä¸ªé¢˜ç›®</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å·²çŸ¥x &#x3D; [[]]*3 æ‰§è¡Œè¯­å¥x[0].append(1)åxçš„å€¼ä¸º_____  #[[1],[1],[1]]</span><br><span class="line">å·²çŸ¥x &#x3D; [[] for in i range(3)] æ‰§è¡Œè¯­å¥x[0].append(1)åxçš„å€¼ä¸º_____  # [[1],[],[]]</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt;b&#x3D;[[]]*3</span><br><span class="line">&gt;&gt;&gt;b</span><br><span class="line">[[], [], []]</span><br><span class="line">&gt;&gt;&gt;[id(b[i]) for i in range(3)]		#æŸ¥çœ‹åœ°å€</span><br><span class="line">[2637926546248, 2637926546248, 2637926546248]</span><br><span class="line">&gt;&gt;&gt;a &#x3D; [[] for i in range(3)]</span><br><span class="line">&gt;&gt;&gt;[id(a[i]) for i in range(3)]		#æŸ¥çœ‹åœ°å€</span><br><span class="line">[2637624332232, 2637909035016, 2637926538824]</span><br></pre></td></tr></table></figure><h3 id="ä¸‹é¢å¼€å§‹æ­£æ–‡ï¼Œåœ¨Pythonä¸­ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡"><a href="#ä¸‹é¢å¼€å§‹æ­£æ–‡ï¼Œåœ¨Pythonä¸­ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡" class="headerlink" title="ä¸‹é¢å¼€å§‹æ­£æ–‡ï¼Œåœ¨Pythonä¸­ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡"></a>ä¸‹é¢å¼€å§‹æ­£æ–‡ï¼Œåœ¨Pythonä¸­ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡</h3><p>Pythonä¸­å¯¹è±¡åŒ…å«çš„ä¸‰ä¸ªåŸºæœ¬è¦ç´ ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul><li>id(èº«ä»½æ ‡è¯†)</li><li>type(æ•°æ®ç±»å‹)</li><li>value(å€¼)</li></ul><p>å¯¹è±¡ä¹‹é—´æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰å¯ä»¥ç”¨ == ï¼Œä¹Ÿå¯ä»¥ç”¨ is ã€‚</p><p>is å’Œ == éƒ½æ˜¯å¯¹å¯¹è±¡è¿›è¡Œæ¯”è¾ƒåˆ¤æ–­ä½œç”¨çš„ï¼Œä½†å¯¹å¯¹è±¡æ¯”è¾ƒåˆ¤æ–­çš„å†…å®¹å¹¶ä¸ç›¸åŒã€‚ä¸‹é¢æ¥çœ‹çœ‹å…·ä½“åŒºåˆ«åœ¨å“ª?</p><p>is æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„idå€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¹Ÿå°±æ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œæ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ã€‚</p><p>== æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼Œé»˜è®¤ä¼šè°ƒç”¨å¯¹è±¡çš„ <code>__eq__</code> æ–¹æ³•ã€‚</p><p>== æ˜¯pythonæ ‡å‡†æ“ä½œç¬¦ä¸­çš„æ¯”è¾ƒæ“ä½œç¬¦ï¼Œç”¨æ¥æ¯”è¾ƒåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„å€¼æ˜¯å¦ç›¸ç­‰ã€‚</p><p>å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; a &#x3D; [1, 2, 3]</span><br><span class="line">&gt;&gt;&gt; b &#x3D; a</span><br><span class="line">&gt;&gt;&gt; b is a </span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; b &#x3D;&#x3D; a</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; b &#x3D; a[:]</span><br><span class="line">&gt;&gt;&gt; b is a</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; b &#x3D;&#x3D; a</span><br><span class="line">True</span><br></pre></td></tr></table></figure><p>is ä¹Ÿè¢«å«åšåŒä¸€æ€§è¿ç®—ç¬¦ï¼Œä¹Ÿå°±æ˜¯idæ˜¯å¦ç›¸åŒã€‚</p><p>çœ‹ä¸‹é¢ä»£ç ï¼Œ aå’Œbå˜é‡çš„idä¸åŒï¼Œ æ‰€ä»¥ b == a æ˜¯Trueï¼Œ b is a æ˜¯False.</p><p>å†æ¥çœ‹ä¸€ä¸‹ä»–ä»¬çš„idï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; id(a)</span><br><span class="line">4364243328</span><br><span class="line">&gt;&gt;&gt; </span><br><span class="line">&gt;&gt;&gt; id(b)</span><br><span class="line">4364202696</span><br></pre></td></tr></table></figure><p>å“ªäº›æƒ…å†µä¸‹ is å’Œ == ç»“æœæ˜¯å®Œå…¨ç›¸åŒçš„ï¼Ÿ</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; a &#x3D; 256</span><br><span class="line">&gt;&gt;&gt; b &#x3D; 256</span><br><span class="line">&gt;&gt;&gt; a is b</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; a &#x3D;&#x3D; b</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; a &#x3D; 1000</span><br><span class="line">&gt;&gt;&gt; b &#x3D; 10**3</span><br><span class="line">&gt;&gt;&gt; a &#x3D;&#x3D; b</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; a is b</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æ•°å­—ç±»å‹ä¸å®Œå…¨ç›¸åŒã€‚</p><p>é‚£ä¸ºä»€ä¹ˆ256æ—¶ç›¸åŒï¼Œ è€Œ1000æ—¶ä¸åŒå‘¢ï¼Ÿ</p><p>å› ä¸ºå‡ºäºå¯¹æ€§èƒ½çš„è€ƒè™‘ï¼ŒPythonå†…éƒ¨åšäº†å¾ˆå¤šçš„ä¼˜åŒ–å·¥ä½œï¼Œå¯¹äºæ•´æ•°å¯¹è±¡ï¼ŒPythonæŠŠä¸€äº›é¢‘ç¹ä½¿ç”¨çš„æ•´æ•°å¯¹è±¡ç¼“å­˜èµ·æ¥ï¼Œä¿å­˜åˆ°ä¸€ä¸ªå« small_ints çš„é“¾è¡¨ä¸­ï¼Œåœ¨Pythonçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ï¼Œä»»ä½•éœ€è¦å¼•ç”¨è¿™äº›æ•´æ•°å¯¹è±¡çš„åœ°æ–¹ï¼Œéƒ½ä¸å†é‡æ–°åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œè€Œæ˜¯ç›´æ¥å¼•ç”¨ç¼“å­˜ä¸­çš„å¯¹è±¡ã€‚</p><p>PythonæŠŠè¿™äº›å¯èƒ½é¢‘ç¹ä½¿ç”¨çš„æ•´æ•°å¯¹è±¡è§„å®šåœ¨èŒƒå›´ [-5, 256] ä¹‹é—´çš„å°å¯¹è±¡æ”¾åœ¨ small_ints ä¸­ï¼Œä½†å‡¡æ˜¯éœ€è¦ç”¨äº›å°æ•´æ•°æ—¶ï¼Œå°±ä»è¿™é‡Œé¢å–ï¼Œä¸å†å»ä¸´æ—¶åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; c &#x3D; &#39;miracle.young&#39;</span><br><span class="line">&gt;&gt;&gt; d &#x3D; &#39;miracle.young&#39;</span><br><span class="line">&gt;&gt;&gt; c is d</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; c &#x3D;&#x3D; d</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; c &#x3D; &#39;miracleyoung&#39;</span><br><span class="line">&gt;&gt;&gt; d &#x3D; &#39;miracleyoung&#39;</span><br><span class="line">&gt;&gt;&gt; c is c</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; c &#x3D;&#x3D; d</span><br><span class="line">True</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥å­—ç¬¦ä¸²ç±»å‹ä¸å®Œå…¨ç›¸åŒï¼Œè¿™ä¸ªå’Œè§£é‡Šå™¨å®ç°æœ‰å…³ã€‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; a &#x3D; (1,2,3) # aå’Œbä¸ºå…ƒç»„ç±»å‹</span><br><span class="line">&gt;&gt;&gt; b &#x3D; (1,2,3)</span><br><span class="line">&gt;&gt;&gt; a is b</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; a &#x3D; [1,2,3] # aå’Œbä¸ºlistç±»å‹</span><br><span class="line">&gt;&gt;&gt; b &#x3D; [1,2,3]</span><br><span class="line">&gt;&gt;&gt; a is b</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; a &#x3D; &#123;&#39;miracle&#39;:100,&#39;young&#39;:1&#125; # aå’Œbä¸ºdictç±»å‹</span><br><span class="line">&gt;&gt;&gt; b &#x3D; &#123;&#39;miracle&#39;:100,&#39;young&#39;:1&#125;</span><br><span class="line">&gt;&gt;&gt; a is b</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; a &#x3D; set([1,2,3]) # aå’Œbä¸ºsetç±»å‹</span><br><span class="line">&gt;&gt;&gt; b &#x3D; set([1,2,3])</span><br><span class="line">&gt;&gt;&gt; a is b</span><br><span class="line">False</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥å½“å˜é‡æ˜¯æ•°å­—ã€å­—ç¬¦ä¸²ã€å…ƒç»„ï¼Œåˆ—è¡¨ï¼Œå­—å…¸æ—¶ï¼Œis å’Œ == éƒ½ä¸ç›¸åŒï¼Œ ä¸èƒ½äº’æ¢ä½¿ç”¨ï¼å½“æ¯”è¾ƒå€¼æ—¶ï¼Œè¦ä½¿ç”¨ ==ï¼Œæ¯”è¾ƒæ˜¯å¦æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€æ—¶åº”è¯¥ä½¿ç”¨isã€‚</p><p>å½“ç„¶ï¼Œå¼€å‘ä¸­æ¯”è¾ƒå€¼çš„æƒ…å†µæ¯”è¾ƒå¤šã€‚</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello, I am</title>
    <url>/2020/01/07/hello-world/</url>
    <content><![CDATA[<!-- build time:Wed Jun 17 2020 15:06:13 GMT+0800 (GMT+08:00) --><p>Welcome to Qing-Beiâ€™s blog!</p><p>I am Qing-Bei, a contemporary college student and future programmer who loves programming and mining various technologies.I hope to find the answer in my heart through my own efforts.</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hello</category>
      </categories>
      <tags>
        <tag>Hello Worldï¼</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonä¸­æ·±æ‹·è´å’Œæµ…æ‹·è´</title>
    <url>/2020/06/09/%E8%B0%88%E8%B0%88python%E4%B8%AD%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D/</url>
    <content><![CDATA[<!-- build time:Wed Jun 17 2020 15:06:13 GMT+0800 (GMT+08:00) --><h1 id="Pythonä¸­æ·±æ‹·è´å’Œæµ…æ‹·è´"><a href="#Pythonä¸­æ·±æ‹·è´å’Œæµ…æ‹·è´" class="headerlink" title="Pythonä¸­æ·±æ‹·è´å’Œæµ…æ‹·è´"></a>Pythonä¸­æ·±æ‹·è´å’Œæµ…æ‹·è´</h1><p>pythonä¸­æ·±æ‹·è´å’Œæµ…æ‹·è´çš„çŸ¥è¯†è¿™é‡Œè¿›è¡Œä¸‹æ€»ç»“ï¼Œä»¥ä¾¿ä»Šåå¤ä¹ <br><code>python</code>ä¸­çš„æ·±æ‹·è´å’Œæµ…æ‹·è´å’Œ<code>java</code>é‡Œé¢çš„æ¦‚å¿µæ˜¯ä¸€æ ·çš„ï¼Œæ‰€è°“æµ…æ‹·è´å°±æ˜¯å¯¹å¼•ç”¨çš„æ‹·è´ï¼Œæ‰€è°“æ·±æ‹·è´å°±æ˜¯å¯¹å¯¹è±¡çš„èµ„æºçš„æ‹·è´ã€‚<br>é¦–å…ˆï¼Œå¯¹<strong>èµ‹å€¼</strong>æ“ä½œæˆ‘ä»¬è¦æœ‰ä»¥ä¸‹è®¤è¯†ï¼š</p><ol><li>èµ‹å€¼æ˜¯å°†ä¸€ä¸ªå¯¹è±¡çš„åœ°å€èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œè®©å˜é‡æŒ‡å‘è¯¥åœ°å€ï¼ˆ æ—§ç“¶è£…æ—§é…’ ï¼‰ã€‚</li><li>ä¿®æ”¹ä¸å¯å˜å¯¹è±¡ï¼ˆ<code>str</code>ã€<code>tuple</code>ï¼‰éœ€è¦å¼€è¾Ÿæ–°çš„ç©ºé—´</li><li>ä¿®æ”¹å¯å˜å¯¹è±¡ï¼ˆ<code>list</code>ç­‰ï¼‰ä¸éœ€è¦å¼€è¾Ÿæ–°çš„ç©ºé—´</li></ol><ul><li><strong>æµ…æ‹·è´</strong>ä»…ä»…å¤åˆ¶äº†å®¹å™¨ä¸­å…ƒç´ çš„åœ°å€</li></ul><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[<span class="string">'hello'</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=a[:]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[id(x) <span class="keyword">for</span> x <span class="keyword">in</span> a]</span><br><span class="line">[<span class="number">55792504</span>, <span class="number">6444104</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[id(x) <span class="keyword">for</span> x <span class="keyword">in</span> b]</span><br><span class="line">[<span class="number">55792504</span>, <span class="number">6444104</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">0</span>]=<span class="string">'world'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">1</span>].append(<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(a)</span><br><span class="line">[<span class="string">'world'</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(b)</span><br><span class="line">[<span class="string">'hello'</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œæœªä¿®æ”¹å‰ï¼Œ<code>a</code>å’Œ<code>b</code>ä¸­å…ƒç´ çš„åœ°å€éƒ½æ˜¯ç›¸åŒçš„ï¼Œä¸å¯å˜çš„<code>hello</code><br>å’Œå¯å˜çš„<code>list</code>åœ°å€éƒ½ä¸€æ ·ï¼Œè¯´æ˜æµ…æ‹·è´çŸ¥è¯†å°†å®¹å™¨å†…çš„å…ƒç´ çš„åœ°å€å¤åˆ¶äº†ä¸€ä»½ã€‚è¿™å¯ä»¥é€šè¿‡ä¿®æ”¹åï¼Œ<code>b</code>ä¸­å­—ç¬¦ä¸²æ²¡æ”¹å˜ï¼Œä½†æ˜¯<code>list</code>å…ƒç´ éšç€<code>a</code>ç›¸åº”æ”¹å˜å¾—åˆ°éªŒè¯ã€‚</p><blockquote><p>æµ…æ‹·è´æ˜¯åœ¨å¦ä¸€å—åœ°å€ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å˜é‡æˆ–å®¹å™¨ï¼Œä½†æ˜¯å®¹å™¨å†…çš„å…ƒç´ çš„åœ°å€å‡æ˜¯æºå¯¹è±¡çš„å…ƒç´ çš„åœ°å€çš„æ‹·è´ã€‚ä¹Ÿå°±æ˜¯è¯´æ–°çš„å®¹å™¨ä¸­æŒ‡å‘äº†æ—§çš„å…ƒç´ ï¼ˆ æ–°ç“¶è£…æ—§é…’ ï¼‰ã€‚</p></blockquote><ul><li><strong>æ·±æ‹·è´</strong>ï¼Œå®Œå…¨æ‹·è´äº†ä¸€ä¸ªå‰¯æœ¬ï¼Œå®¹å™¨å†…éƒ¨å…ƒç´ åœ°å€éƒ½ä¸ä¸€æ ·</li></ul><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> copy <span class="keyword">import</span> deepcopy</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[<span class="string">'hello'</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=deepcopy(a)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[id(x) <span class="keyword">for</span> x <span class="keyword">in</span> a]</span><br><span class="line">[<span class="number">55792504</span>, <span class="number">55645000</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[id(x) <span class="keyword">for</span> x <span class="keyword">in</span> b]</span><br><span class="line">[<span class="number">55792504</span>, <span class="number">58338824</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">0</span>]=<span class="string">'world'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">1</span>].append(<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(a)</span><br><span class="line">[<span class="string">'world'</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(b)</span><br><span class="line">[<span class="string">'hello'</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œæ·±æ‹·è´åï¼Œ<code>a</code>å’Œ<code>b</code>çš„åœ°å€ä»¥åŠ<code>a</code>å’Œ<code>b</code>ä¸­çš„å…ƒç´ åœ°å€å‡ä¸åŒï¼Œè¿™æ˜¯å®Œå…¨æ‹·è´çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œä¿®æ”¹<code>a</code>åï¼Œå‘ç°<code>b</code>æ²¡æœ‰å‘ç”Ÿä»»ä½•æ”¹å˜ï¼Œå› ä¸º<code>b</code>æ˜¯ä¸€ä¸ªå®Œå…¨çš„å‰¯æœ¬ï¼Œå…ƒç´ åœ°å€ä¸<code>a</code>å‡ä¸åŒï¼Œ<code>a</code>ä¿®æ”¹ä¸å½±å“<code>b</code>ã€‚</p><blockquote><p>æ·±æ‹·è´æ˜¯åœ¨å¦ä¸€å—åœ°å€ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å˜é‡æˆ–å®¹å™¨ï¼ŒåŒæ—¶å®¹å™¨å†…çš„å…ƒç´ çš„åœ°å€ä¹Ÿæ˜¯æ–°å¼€è¾Ÿçš„ï¼Œä»…ä»…æ˜¯å€¼ç›¸åŒè€Œå·²ï¼Œæ˜¯å®Œå…¨çš„å‰¯æœ¬ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ˆ æ–°ç“¶è£…æ–°é…’ ï¼‰ã€‚</p></blockquote><!-- rebuild by neat -->]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>æ›´æ–°æ—¥å¿—</title>
    <url>/2020/03/01/%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97/</url>
    <content><![CDATA[<!-- build time:Wed Jun 17 2020 15:06:13 GMT+0800 (GMT+08:00) --><h1 id="1-æ›´æ–°ï¼š"><a href="#1-æ›´æ–°ï¼š" class="headerlink" title="1. æ›´æ–°ï¼š"></a>1. æ›´æ–°ï¼š</h1><h2 id="2020-2-29"><a href="#2020-2-29" class="headerlink" title="2020.2.29"></a>2020.2.29</h2><ol><li><em>é¡µé¢åŠ è½½æ€§èƒ½ä¼˜åŒ–</em></li><li><em>å›¾ç‰‡æ‡’åŠ è½½</em></li><li><em>å‘å¸ƒæ–°åšå®¢</em></li><li><em>ä¼˜åŒ–èƒŒæ™¯</em></li><li><em>å‹ç¼©ä»£ç </em></li></ol><h2 id="2020-6-09"><a href="#2020-6-09" class="headerlink" title="2020.6.09"></a>2020.6.09</h2><ul><li>æ›´æ¢Butterflyä¸»é¢˜</li></ul><!-- rebuild by neat -->]]></content>
      <tags>
        <tag>æ›´æ–°æ—¥å¿—</tag>
      </tags>
  </entry>
  <entry>
    <title>pythonåˆ—è¡¨ç”Ÿæˆå¼</title>
    <url>/2020/03/05/python%E5%88%97%E8%A1%A8%E7%94%9F%E6%88%90%E5%BC%8F/</url>
    <content><![CDATA[<!-- build time:Wed Jun 17 2020 15:06:13 GMT+0800 (GMT+08:00) --><h1 id="åˆ—è¡¨ç”Ÿæˆå¼"><a href="#åˆ—è¡¨ç”Ÿæˆå¼" class="headerlink" title="åˆ—è¡¨ç”Ÿæˆå¼"></a>åˆ—è¡¨ç”Ÿæˆå¼</h1><p>åˆ—è¡¨ç”Ÿæˆå¼å³List Comprehensionsï¼Œæ˜¯Pythonå†…ç½®çš„éå¸¸ç®€å•å´å¼ºå¤§çš„å¯ä»¥ç”¨æ¥åˆ›å»ºlistçš„ç”Ÿæˆå¼ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œè¦ç”Ÿæˆlist <code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</code>å¯ä»¥ç”¨<code>list(range(1, 11))</code>ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(range(<span class="number">1</span>, <span class="number">11</span>))</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br></pre></td></tr></table></figure><p>ä½†å¦‚æœè¦ç”Ÿæˆ<code>[1x1, 2x2, 3x3, ..., 10x10]</code>æ€ä¹ˆåšï¼Ÿæ–¹æ³•ä¸€æ˜¯å¾ªç¯ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = []</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line"><span class="meta">... </span>   L.append(x * x)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L</span><br><span class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>, <span class="number">100</span>]</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å¾ªç¯å¤ªç¹çï¼Œè€Œåˆ—è¡¨ç”Ÿæˆå¼åˆ™å¯ä»¥ç”¨ä¸€è¡Œè¯­å¥ä»£æ›¿å¾ªç¯ç”Ÿæˆä¸Šé¢çš„listï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>)]</span><br><span class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>, <span class="number">100</span>]</span><br></pre></td></tr></table></figure><p>å†™åˆ—è¡¨ç”Ÿæˆå¼æ—¶ï¼ŒæŠŠè¦ç”Ÿæˆçš„å…ƒç´ <code>x * x</code>æ”¾åˆ°å‰é¢ï¼Œåé¢è·Ÿ<code>for</code>å¾ªç¯ï¼Œå°±å¯ä»¥æŠŠliståˆ›å»ºå‡ºæ¥ï¼Œååˆ†æœ‰ç”¨ï¼Œå¤šå†™å‡ æ¬¡ï¼Œå¾ˆå¿«å°±å¯ä»¥ç†Ÿæ‚‰è¿™ç§è¯­æ³•ã€‚</p><p>forå¾ªç¯åé¢è¿˜å¯ä»¥åŠ ä¸Šifåˆ¤æ–­ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç­›é€‰å‡ºä»…å¶æ•°çš„å¹³æ–¹ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>]</span><br><span class="line">[<span class="number">4</span>, <span class="number">16</span>, <span class="number">36</span>, <span class="number">64</span>, <span class="number">100</span>]</span><br></pre></td></tr></table></figure><p>è¿˜å¯ä»¥ä½¿ç”¨ä¸¤å±‚å¾ªç¯ï¼Œå¯ä»¥ç”Ÿæˆå…¨æ’åˆ—ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[m + n <span class="keyword">for</span> m <span class="keyword">in</span> <span class="string">'ABC'</span> <span class="keyword">for</span> n <span class="keyword">in</span> <span class="string">'XYZ'</span>]</span><br><span class="line">[<span class="string">'AX'</span>, <span class="string">'AY'</span>, <span class="string">'AZ'</span>, <span class="string">'BX'</span>, <span class="string">'BY'</span>, <span class="string">'BZ'</span>, <span class="string">'CX'</span>, <span class="string">'CY'</span>, <span class="string">'CZ'</span>]</span><br></pre></td></tr></table></figure><p>ä¸‰å±‚å’Œä¸‰å±‚ä»¥ä¸Šçš„å¾ªç¯å°±å¾ˆå°‘ç”¨åˆ°äº†ã€‚</p><p>è¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼ï¼Œå¯ä»¥å†™å‡ºéå¸¸ç®€æ´çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•åï¼Œå¯ä»¥é€šè¿‡ä¸€è¡Œä»£ç å®ç°ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os <span class="comment"># å¯¼å…¥osæ¨¡å—ï¼Œæ¨¡å—çš„æ¦‚å¿µåé¢è®²åˆ°</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[d <span class="keyword">for</span> d <span class="keyword">in</span> os.listdir(<span class="string">'.'</span>)] <span class="comment"># os.listdirå¯ä»¥åˆ—å‡ºæ–‡ä»¶å’Œç›®å½•</span></span><br><span class="line">[<span class="string">'.emacs.d'</span>, <span class="string">'.ssh'</span>, <span class="string">'.Trash'</span>, <span class="string">'Adlm'</span>, <span class="string">'Applications'</span>, <span class="string">'Desktop'</span>, <span class="string">'Documents'</span>, <span class="string">'Downloads'</span>, <span class="string">'Library'</span>, <span class="string">'Movies'</span>, <span class="string">'Music'</span>, <span class="string">'Pictures'</span>, <span class="string">'Public'</span>, <span class="string">'VirtualBox VMs'</span>, <span class="string">'Workspace'</span>, <span class="string">'XCode'</span>]</span><br></pre></td></tr></table></figure><p><code>for</code>å¾ªç¯å…¶å®å¯ä»¥åŒæ—¶ä½¿ç”¨ä¸¤ä¸ªç”šè‡³å¤šä¸ªå˜é‡ï¼Œæ¯”å¦‚<code>dict</code>çš„<code>items()</code>å¯ä»¥åŒæ—¶è¿­ä»£keyå’Œvalueï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'x'</span>: <span class="string">'A'</span>, <span class="string">'y'</span>: <span class="string">'B'</span>, <span class="string">'z'</span>: <span class="string">'C'</span> &#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> k, v <span class="keyword">in</span> d.items():</span><br><span class="line"><span class="meta">... </span>    print(k, <span class="string">'='</span>, v)</span><br><span class="line">...</span><br><span class="line">y = B</span><br><span class="line">x = A</span><br><span class="line">z = C</span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œåˆ—è¡¨ç”Ÿæˆå¼ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªå˜é‡æ¥ç”Ÿæˆlistï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'x'</span>: <span class="string">'A'</span>, <span class="string">'y'</span>: <span class="string">'B'</span>, <span class="string">'z'</span>: <span class="string">'C'</span> &#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[k + <span class="string">'='</span> + v <span class="keyword">for</span> k, v <span class="keyword">in</span> d.items()]</span><br><span class="line">[<span class="string">'y=B'</span>, <span class="string">'x=A'</span>, <span class="string">'z=C'</span>]</span><br></pre></td></tr></table></figure><p>æœ€åæŠŠä¸€ä¸ªlistä¸­æ‰€æœ‰çš„å­—ç¬¦ä¸²å˜æˆå°å†™ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = [<span class="string">'Hello'</span>, <span class="string">'World'</span>, <span class="string">'IBM'</span>, <span class="string">'Apple'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[s.lower() <span class="keyword">for</span> s <span class="keyword">in</span> L]</span><br><span class="line">[<span class="string">'hello'</span>, <span class="string">'world'</span>, <span class="string">'ibm'</span>, <span class="string">'apple'</span>]</span><br></pre></td></tr></table></figure><h3 id="if-â€¦-else"><a href="#if-â€¦-else" class="headerlink" title="if â€¦ else"></a>if â€¦ else</h3><p>ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼çš„æ—¶å€™ï¼Œæœ‰äº›ç«¥é‹ç»å¸¸æä¸æ¸…æ¥š<code>if...else</code>çš„ç”¨æ³•ã€‚</p><p>ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç æ­£å¸¸è¾“å‡ºå¶æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>]</span><br><span class="line">[<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>]</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨æœ€åçš„<code>if</code>åŠ ä¸Š<code>else</code>ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span>]</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span></span><br><span class="line">    [x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span>]</span><br><span class="line">                                              ^</span><br><span class="line">SyntaxError: invalid syntax</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å› ä¸ºè·Ÿåœ¨<code>for</code>åé¢çš„<code>if</code>æ˜¯ä¸€ä¸ªç­›é€‰æ¡ä»¶ï¼Œä¸èƒ½å¸¦<code>else</code>ï¼Œå¦åˆ™å¦‚ä½•ç­›é€‰ï¼Ÿ</p><p>å¦ä¸€äº›ç«¥é‹å‘ç°æŠŠ<code>if</code>å†™åœ¨<code>for</code>å‰é¢å¿…é¡»åŠ <code>else</code>ï¼Œå¦åˆ™æŠ¥é”™ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[x <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>)]</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span></span><br><span class="line">    [x <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>)]</span><br><span class="line">                       ^</span><br><span class="line">SyntaxError: invalid syntax</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å› ä¸º<code>for</code>å‰é¢çš„éƒ¨åˆ†æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå®ƒå¿…é¡»æ ¹æ®<code>x</code>è®¡ç®—å‡ºä¸€ä¸ªç»“æœã€‚å› æ­¤ï¼Œè€ƒå¯Ÿè¡¨è¾¾å¼ï¼š<code>x if x % 2 == 0</code>ï¼Œå®ƒæ— æ³•æ ¹æ®<code>x</code>è®¡ç®—å‡ºç»“æœï¼Œå› ä¸ºç¼ºå°‘<code>else</code>ï¼Œå¿…é¡»åŠ ä¸Š<code>else</code>ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[x <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">else</span> -x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>)]</span><br><span class="line">[<span class="number">-1</span>, <span class="number">2</span>, <span class="number">-3</span>, <span class="number">4</span>, <span class="number">-5</span>, <span class="number">6</span>, <span class="number">-7</span>, <span class="number">8</span>, <span class="number">-9</span>, <span class="number">10</span>]</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°<code>for</code>å‰é¢çš„è¡¨è¾¾å¼<code>x if x % 2 == 0 else -x</code>æ‰èƒ½æ ¹æ®<code>x</code>è®¡ç®—å‡ºç¡®å®šçš„ç»“æœã€‚</p><p>å¯è§ï¼Œåœ¨ä¸€ä¸ªåˆ—è¡¨ç”Ÿæˆå¼ä¸­ï¼Œ<code>for</code>å‰é¢çš„<code>if ... else</code>æ˜¯è¡¨è¾¾å¼ï¼Œè€Œ<code>for</code>åé¢çš„<code>if</code>æ˜¯è¿‡æ»¤æ¡ä»¶ï¼Œä¸èƒ½å¸¦<code>else</code>ã€‚</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonå‡½æ•°å‚æ•°</title>
    <url>/2020/06/16/python%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0/</url>
    <content><![CDATA[<!-- build time:Thu Jun 18 2020 19:51:08 GMT+0800 (GMT+08:00) --><h1 id="Pythonå‡½æ•°å‚æ•°"><a href="#Pythonå‡½æ•°å‚æ•°" class="headerlink" title="Pythonå‡½æ•°å‚æ•°"></a>Pythonå‡½æ•°å‚æ•°</h1><p>å®šä¹‰å‡½æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŠŠå‚æ•°çš„åå­—å’Œä½ç½®ç¡®å®šä¸‹æ¥ï¼Œå‡½æ•°çš„æ¥å£å®šä¹‰å°±å®Œæˆäº†ã€‚å¯¹äºå‡½æ•°çš„è°ƒç”¨è€…æ¥è¯´ï¼Œåªéœ€è¦çŸ¥é“å¦‚ä½•ä¼ é€’æ­£ç¡®çš„å‚æ•°ï¼Œä»¥åŠå‡½æ•°å°†è¿”å›ä»€ä¹ˆæ ·çš„å€¼å°±å¤Ÿäº†ï¼Œå‡½æ•°å†…éƒ¨çš„å¤æ‚é€»è¾‘è¢«å°è£…èµ·æ¥ï¼Œè°ƒç”¨è€…æ— éœ€äº†è§£ã€‚</p><p>Pythonçš„å‡½æ•°å®šä¹‰éå¸¸ç®€å•ï¼Œä½†çµæ´»åº¦å´éå¸¸å¤§ã€‚é™¤äº†æ­£å¸¸å®šä¹‰çš„å¿…é€‰å‚æ•°å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°ï¼Œä½¿å¾—å‡½æ•°å®šä¹‰å‡ºæ¥çš„æ¥å£ï¼Œä¸ä½†èƒ½å¤„ç†å¤æ‚çš„å‚æ•°ï¼Œè¿˜å¯ä»¥ç®€åŒ–è°ƒç”¨è€…çš„ä»£ç ã€‚</p><h2 id="é»˜è®¤å‚æ•°"><a href="#é»˜è®¤å‚æ•°" class="headerlink" title="é»˜è®¤å‚æ•°"></a>é»˜è®¤å‚æ•°</h2><p>æˆ‘ä»¬ä»¥å…·ä½“çš„ä¾‹å­æ¥è¯´æ˜å¦‚ä½•å®šä¹‰å‡½æ•°çš„é»˜è®¤å‚æ•°ã€‚å…ˆå†™ä¸€ä¸ªè®¡ç®—x^2çš„å‡½æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def power(x):</span><br><span class="line">    return x * x</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬è°ƒç”¨<code>power</code>å‡½æ•°æ—¶ï¼Œå¿…é¡»ä¼ å…¥æœ‰ä¸”ä»…æœ‰çš„ä¸€ä¸ªå‚æ•°<code>x</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; power(5)</span><br><span class="line">25</span><br><span class="line">&gt;&gt;&gt; power(15)</span><br><span class="line">225</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬è¦è®¡ç®—x^3æ€ä¹ˆåŠï¼Ÿå¯ä»¥å†å®šä¹‰ä¸€ä¸ª<code>power3</code>å‡½æ•°ï¼Œä½†æ˜¯å¦‚æœè¦è®¡ç®—x^4 x^5â€¦â€¦æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬ä¸å¯èƒ½å®šä¹‰æ— é™å¤šä¸ªå‡½æ•°ã€‚</p><p>ä½ ä¹Ÿè®¸æƒ³åˆ°äº†ï¼Œå¯ä»¥æŠŠ<code>power(x)</code>ä¿®æ”¹ä¸º<code>power(x, n)</code>ï¼Œç”¨æ¥è®¡ç®—x^nï¼Œè¯´å¹²å°±å¹²ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def power(x, n):</span><br><span class="line">    s &#x3D; 1</span><br><span class="line">    while n &gt; 0:</span><br><span class="line">        n &#x3D; n - 1</span><br><span class="line">        s &#x3D; s * x</span><br><span class="line">    return s</span><br></pre></td></tr></table></figure><p>å¯¹äºè¿™ä¸ªä¿®æ”¹åçš„<code>power</code>å‡½æ•°ï¼Œå¯ä»¥è®¡ç®—ä»»æ„næ¬¡æ–¹ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; power(5, 2)</span><br><span class="line">25</span><br><span class="line">&gt;&gt;&gt; power(5, 3)</span><br><span class="line">125</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œæ—§çš„è°ƒç”¨ä»£ç å¤±è´¥äº†ï¼ŒåŸå› æ˜¯æˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ªå‚æ•°ï¼Œå¯¼è‡´æ—§çš„ä»£ç æ— æ³•æ­£å¸¸è°ƒç”¨ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; power(5)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">TypeError: power() takes exactly 2 arguments (1 given)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™ï¼Œé»˜è®¤å‚æ•°å°±æ’ä¸Šç”¨åœºäº†ã€‚ç”±äºæˆ‘ä»¬ç»å¸¸è®¡ç®—x2ï¼Œæ‰€ä»¥ï¼Œå®Œå…¨å¯ä»¥æŠŠç¬¬äºŒä¸ªå‚æ•°nçš„é»˜è®¤å€¼è®¾å®šä¸º2ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def power(x, n&#x3D;2):</span><br><span class="line">    s &#x3D; 1</span><br><span class="line">    while n &gt; 0:</span><br><span class="line">        n &#x3D; n - 1</span><br><span class="line">        s &#x3D; s * x</span><br><span class="line">    return s</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œå½“æˆ‘ä»¬è°ƒç”¨<code>power(5)</code>æ—¶ï¼Œç›¸å½“äºè°ƒç”¨<code>power(5, 2)</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; power(5)</span><br><span class="line">25</span><br><span class="line">&gt;&gt;&gt; power(5, 2)</span><br><span class="line">25</span><br></pre></td></tr></table></figure><p>è€Œå¯¹äº<code>n &gt; 2</code>çš„å…¶ä»–æƒ…å†µï¼Œå°±å¿…é¡»æ˜ç¡®åœ°ä¼ å…¥nï¼Œæ¯”å¦‚<code>power(5, 3)</code>ã€‚</p><p>ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œé»˜è®¤å‚æ•°å¯ä»¥ç®€åŒ–å‡½æ•°çš„è°ƒç”¨ã€‚è®¾ç½®é»˜è®¤å‚æ•°æ—¶ï¼Œæœ‰å‡ ç‚¹è¦æ³¨æ„ï¼š</p><p>ä¸€æ˜¯å¿…é€‰å‚æ•°åœ¨å‰ï¼Œé»˜è®¤å‚æ•°åœ¨åï¼Œå¦åˆ™Pythonçš„è§£é‡Šå™¨ä¼šæŠ¥é”™ï¼ˆæ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆé»˜è®¤å‚æ•°ä¸èƒ½æ”¾åœ¨å¿…é€‰å‚æ•°å‰é¢ï¼‰ï¼›</p><p>äºŒæ˜¯å¦‚ä½•è®¾ç½®é»˜è®¤å‚æ•°ã€‚</p><p>å½“å‡½æ•°æœ‰å¤šä¸ªå‚æ•°æ—¶ï¼ŒæŠŠå˜åŒ–å¤§çš„å‚æ•°æ”¾å‰é¢ï¼Œå˜åŒ–å°çš„å‚æ•°æ”¾åé¢ã€‚å˜åŒ–å°çš„å‚æ•°å°±å¯ä»¥ä½œä¸ºé»˜è®¤å‚æ•°ã€‚</p><p>ä½¿ç”¨é»˜è®¤å‚æ•°æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿæœ€å¤§çš„å¥½å¤„æ˜¯èƒ½é™ä½è°ƒç”¨å‡½æ•°çš„éš¾åº¦ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å†™ä¸ªä¸€å¹´çº§å°å­¦ç”Ÿæ³¨å†Œçš„å‡½æ•°ï¼Œéœ€è¦ä¼ å…¥<code>name</code>å’Œ<code>gender</code>ä¸¤ä¸ªå‚æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def enroll(name, gender):</span><br><span class="line">    print &#39;name:&#39;, name</span><br><span class="line">    print &#39;gender:&#39;, gender</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œè°ƒç”¨<code>enroll()</code>å‡½æ•°åªéœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; enroll(&#39;Sarah&#39;, &#39;F&#39;)</span><br><span class="line">name: Sarah</span><br><span class="line">gender: F</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦ç»§ç»­ä¼ å…¥å¹´é¾„ã€åŸå¸‚ç­‰ä¿¡æ¯æ€ä¹ˆåŠï¼Ÿè¿™æ ·ä¼šä½¿å¾—è°ƒç”¨å‡½æ•°çš„å¤æ‚åº¦å¤§å¤§å¢åŠ ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŠŠå¹´é¾„å’ŒåŸå¸‚è®¾ä¸ºé»˜è®¤å‚æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def enroll(name, gender, age&#x3D;6, city&#x3D;&#39;Beijing&#39;):</span><br><span class="line">    print &#39;name:&#39;, name</span><br><span class="line">    print &#39;gender:&#39;, gender</span><br><span class="line">    print &#39;age:&#39;, age</span><br><span class="line">    print &#39;city:&#39;, city</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œå¤§å¤šæ•°å­¦ç”Ÿæ³¨å†Œæ—¶ä¸éœ€è¦æä¾›å¹´é¾„å’ŒåŸå¸‚ï¼Œåªæä¾›å¿…é¡»çš„ä¸¤ä¸ªå‚æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; enroll(&#39;Sarah&#39;, &#39;F&#39;)</span><br><span class="line">Student:</span><br><span class="line">name: Sarah</span><br><span class="line">gender: F</span><br><span class="line">age: 6</span><br><span class="line">city: Beijing</span><br></pre></td></tr></table></figure><p>åªæœ‰ä¸é»˜è®¤å‚æ•°ä¸ç¬¦çš„å­¦ç”Ÿæ‰éœ€è¦æä¾›é¢å¤–çš„ä¿¡æ¯ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">enroll(&#39;Bob&#39;, &#39;M&#39;, 7)</span><br><span class="line">enroll(&#39;Adam&#39;, &#39;M&#39;, city&#x3D;&#39;Tianjin&#39;)</span><br></pre></td></tr></table></figure><p>å¯è§ï¼Œé»˜è®¤å‚æ•°é™ä½äº†å‡½æ•°è°ƒç”¨çš„éš¾åº¦ï¼Œè€Œä¸€æ—¦éœ€è¦æ›´å¤æ‚çš„è°ƒç”¨æ—¶ï¼Œåˆå¯ä»¥ä¼ é€’æ›´å¤šçš„å‚æ•°æ¥å®ç°ã€‚æ— è®ºæ˜¯ç®€å•è°ƒç”¨è¿˜æ˜¯å¤æ‚è°ƒç”¨ï¼Œå‡½æ•°åªéœ€è¦å®šä¹‰ä¸€ä¸ªã€‚</p><p>æœ‰å¤šä¸ªé»˜è®¤å‚æ•°æ—¶ï¼Œè°ƒç”¨çš„æ—¶å€™ï¼Œæ—¢å¯ä»¥æŒ‰é¡ºåºæä¾›é»˜è®¤å‚æ•°ï¼Œæ¯”å¦‚è°ƒç”¨<code>enroll(&#39;Bob&#39;, &#39;M&#39;, 7)</code>ï¼Œæ„æ€æ˜¯ï¼Œé™¤äº†<code>name</code>ï¼Œ<code>gender</code>è¿™ä¸¤ä¸ªå‚æ•°å¤–ï¼Œæœ€å1ä¸ªå‚æ•°åº”ç”¨åœ¨å‚æ•°<code>age</code>ä¸Šï¼Œ<code>city</code>å‚æ•°ç”±äºæ²¡æœ‰æä¾›ï¼Œä»ç„¶ä½¿ç”¨é»˜è®¤å€¼ã€‚</p><p>ä¹Ÿå¯ä»¥ä¸æŒ‰é¡ºåºæä¾›éƒ¨åˆ†é»˜è®¤å‚æ•°ã€‚å½“ä¸æŒ‰é¡ºåºæä¾›éƒ¨åˆ†é»˜è®¤å‚æ•°æ—¶ï¼Œéœ€è¦æŠŠå‚æ•°åå†™ä¸Šã€‚æ¯”å¦‚è°ƒç”¨<code>enroll(&#39;Adam&#39;, &#39;M&#39;, city=&#39;Tianjin&#39;)</code>ï¼Œæ„æ€æ˜¯ï¼Œ<code>city</code>å‚æ•°ç”¨ä¼ è¿›å»çš„å€¼ï¼Œå…¶ä»–é»˜è®¤å‚æ•°ç»§ç»­ä½¿ç”¨é»˜è®¤å€¼ã€‚</p><p>é»˜è®¤å‚æ•°å¾ˆæœ‰ç”¨ï¼Œä½†ä½¿ç”¨ä¸å½“ï¼Œä¹Ÿä¼šæ‰å‘é‡Œã€‚é»˜è®¤å‚æ•°æœ‰ä¸ªæœ€å¤§çš„å‘ï¼Œæ¼”ç¤ºå¦‚ä¸‹ï¼š</p><p>å…ˆå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªlistï¼Œæ·»åŠ ä¸€ä¸ª<code>END</code>å†è¿”å›ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def add_end(L&#x3D;[]):</span><br><span class="line">    L.append(&#39;END&#39;)</span><br><span class="line">    return L</span><br></pre></td></tr></table></figure><p>å½“ä½ æ­£å¸¸è°ƒç”¨æ—¶ï¼Œç»“æœä¼¼ä¹ä¸é”™ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; add_end([1, 2, 3])</span><br><span class="line">[1, 2, 3, &#39;END&#39;]</span><br><span class="line">&gt;&gt;&gt; add_end([&#39;x&#39;, &#39;y&#39;, &#39;z&#39;])</span><br><span class="line">[&#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;END&#39;]</span><br></pre></td></tr></table></figure><p>å½“ä½ ä½¿ç”¨é»˜è®¤å‚æ•°è°ƒç”¨æ—¶ï¼Œä¸€å¼€å§‹ç»“æœä¹Ÿæ˜¯å¯¹çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; add_end()</span><br><span class="line">[&#39;END&#39;]</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œå†æ¬¡è°ƒç”¨<code>add_end()</code>æ—¶ï¼Œç»“æœå°±ä¸å¯¹äº†ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; add_end()</span><br><span class="line">[&#39;END&#39;, &#39;END&#39;]</span><br><span class="line">&gt;&gt;&gt; add_end()</span><br><span class="line">[&#39;END&#39;, &#39;END&#39;, &#39;END&#39;]</span><br></pre></td></tr></table></figure><p>å¾ˆå¤šåˆå­¦è€…å¾ˆç–‘æƒ‘ï¼Œé»˜è®¤å‚æ•°æ˜¯<code>[]</code>ï¼Œä½†æ˜¯å‡½æ•°ä¼¼ä¹æ¯æ¬¡éƒ½â€œè®°ä½äº†â€ä¸Šæ¬¡æ·»åŠ äº†<code>&#39;END&#39;</code>åçš„listã€‚</p><p>åŸå› è§£é‡Šå¦‚ä¸‹ï¼š</p><p>Pythonå‡½æ•°åœ¨å®šä¹‰çš„æ—¶å€™ï¼Œé»˜è®¤å‚æ•°<code>L</code>çš„å€¼å°±è¢«è®¡ç®—å‡ºæ¥äº†ï¼Œå³<code>[]</code>ï¼Œå› ä¸ºé»˜è®¤å‚æ•°<code>L</code>ä¹Ÿæ˜¯ä¸€ä¸ªå˜é‡ï¼Œå®ƒæŒ‡å‘å¯¹è±¡<code>[]</code>ï¼Œæ¯æ¬¡è°ƒç”¨è¯¥å‡½æ•°ï¼Œå¦‚æœæ”¹å˜äº†<code>L</code>çš„å†…å®¹ï¼Œåˆ™ä¸‹æ¬¡è°ƒç”¨æ—¶ï¼Œé»˜è®¤å‚æ•°çš„å†…å®¹å°±å˜äº†ï¼Œä¸å†æ˜¯å‡½æ•°å®šä¹‰æ—¶çš„<code>[]</code>äº†ã€‚</p><p>æ‰€ä»¥ï¼Œå®šä¹‰é»˜è®¤å‚æ•°è¦ç‰¢è®°ä¸€ç‚¹ï¼šé»˜è®¤å‚æ•°å¿…é¡»æŒ‡å‘ä¸å˜å¯¹è±¡ï¼</p><p>è¦ä¿®æ”¹ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<code>None</code>è¿™ä¸ªä¸å˜å¯¹è±¡æ¥å®ç°ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def add_end(L&#x3D;None):</span><br><span class="line">    if L is None:</span><br><span class="line">        L &#x3D; []</span><br><span class="line">    L.append(&#39;END&#39;)</span><br><span class="line">    return L</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæ— è®ºè°ƒç”¨å¤šå°‘æ¬¡ï¼Œéƒ½ä¸ä¼šæœ‰é—®é¢˜ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; add_end()</span><br><span class="line">[&#39;END&#39;]</span><br><span class="line">&gt;&gt;&gt; add_end()</span><br><span class="line">[&#39;END&#39;]</span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆè¦è®¾è®¡strã€Noneè¿™æ ·çš„ä¸å˜å¯¹è±¡å‘¢ï¼Ÿå› ä¸ºä¸å˜å¯¹è±¡ä¸€æ—¦åˆ›å»ºï¼Œå¯¹è±¡å†…éƒ¨çš„æ•°æ®å°±ä¸èƒ½ä¿®æ”¹ï¼Œè¿™æ ·å°±å‡å°‘äº†ç”±äºä¿®æ”¹æ•°æ®å¯¼è‡´çš„é”™è¯¯ã€‚æ­¤å¤–ï¼Œç”±äºå¯¹è±¡ä¸å˜ï¼Œå¤šä»»åŠ¡ç¯å¢ƒä¸‹åŒæ—¶è¯»å–å¯¹è±¡ä¸éœ€è¦åŠ é”ï¼ŒåŒæ—¶è¯»ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ã€‚æˆ‘ä»¬åœ¨ç¼–å†™ç¨‹åºæ—¶ï¼Œå¦‚æœå¯ä»¥è®¾è®¡ä¸€ä¸ªä¸å˜å¯¹è±¡ï¼Œé‚£å°±å°½é‡è®¾è®¡æˆä¸å˜å¯¹è±¡ã€‚</p><h2 id="å¯å˜å‚æ•°"><a href="#å¯å˜å‚æ•°" class="headerlink" title="å¯å˜å‚æ•°"></a>å¯å˜å‚æ•°</h2><p>åœ¨Pythonå‡½æ•°ä¸­ï¼Œè¿˜å¯ä»¥å®šä¹‰å¯å˜å‚æ•°ã€‚é¡¾åæ€ä¹‰ï¼Œå¯å˜å‚æ•°å°±æ˜¯ä¼ å…¥çš„å‚æ•°ä¸ªæ•°æ˜¯å¯å˜çš„ï¼Œå¯ä»¥æ˜¯1ä¸ªã€2ä¸ªåˆ°ä»»æ„ä¸ªï¼Œè¿˜å¯ä»¥æ˜¯0ä¸ªã€‚</p><p>æˆ‘ä»¬ä»¥æ•°å­¦é¢˜ä¸ºä¾‹å­ï¼Œç»™å®šä¸€ç»„æ•°å­—aï¼Œbï¼Œcâ€¦â€¦ï¼Œè¯·è®¡ç®—a^2 + b^2 + c^2 + â€¦â€¦ã€‚</p><p>è¦å®šä¹‰å‡ºè¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¿…é¡»ç¡®å®šè¾“å…¥çš„å‚æ•°ã€‚ç”±äºå‚æ•°ä¸ªæ•°ä¸ç¡®å®šï¼Œæˆ‘ä»¬é¦–å…ˆæƒ³åˆ°å¯ä»¥æŠŠaï¼Œbï¼Œcâ€¦â€¦ä½œä¸ºä¸€ä¸ªlistæˆ–tupleä¼ è¿›æ¥ï¼Œè¿™æ ·ï¼Œå‡½æ•°å¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def calc(numbers):</span><br><span class="line">    sum &#x3D; 0</span><br><span class="line">    for n in numbers:</span><br><span class="line">        sum &#x3D; sum + n * n</span><br><span class="line">    return sum</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è°ƒç”¨çš„æ—¶å€™ï¼Œéœ€è¦å…ˆç»„è£…å‡ºä¸€ä¸ªlistæˆ–tupleï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; calc([1, 2, 3])</span><br><span class="line">14</span><br><span class="line">&gt;&gt;&gt; calc((1, 3, 5, 7))</span><br><span class="line">84</span><br></pre></td></tr></table></figure><p>å¦‚æœåˆ©ç”¨å¯å˜å‚æ•°ï¼Œè°ƒç”¨å‡½æ•°çš„æ–¹å¼å¯ä»¥ç®€åŒ–æˆè¿™æ ·ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; calc(1, 2, 3)</span><br><span class="line">14</span><br><span class="line">&gt;&gt;&gt; calc(1, 3, 5, 7)</span><br><span class="line">84</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬æŠŠå‡½æ•°çš„å‚æ•°æ”¹ä¸ºå¯å˜å‚æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def calc(*numbers):</span><br><span class="line">    sum &#x3D; 0</span><br><span class="line">    for n in numbers:</span><br><span class="line">        sum &#x3D; sum + n * n</span><br><span class="line">    return sum</span><br></pre></td></tr></table></figure><p>å®šä¹‰å¯å˜å‚æ•°å’Œå®šä¹‰listæˆ–tupleå‚æ•°ç›¸æ¯”ï¼Œä»…ä»…åœ¨å‚æ•°å‰é¢åŠ äº†ä¸€ä¸ª<code>*</code>å·ã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œå‚æ•°<code>numbers</code>æ¥æ”¶åˆ°çš„æ˜¯ä¸€ä¸ªtupleï¼Œå› æ­¤ï¼Œå‡½æ•°ä»£ç å®Œå…¨ä¸å˜ã€‚ä½†æ˜¯ï¼Œè°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå¯ä»¥ä¼ å…¥ä»»æ„ä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬0ä¸ªå‚æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; calc(1, 2)</span><br><span class="line">5</span><br><span class="line">&gt;&gt;&gt; calc()</span><br><span class="line">0</span><br></pre></td></tr></table></figure><p>å¦‚æœå·²ç»æœ‰ä¸€ä¸ªlistæˆ–è€…tupleï¼Œè¦è°ƒç”¨ä¸€ä¸ªå¯å˜å‚æ•°æ€ä¹ˆåŠï¼Ÿå¯ä»¥è¿™æ ·åšï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; nums &#x3D; [1, 2, 3]</span><br><span class="line">&gt;&gt;&gt; calc(nums[0], nums[1], nums[2])</span><br><span class="line">14</span><br></pre></td></tr></table></figure><p>è¿™ç§å†™æ³•å½“ç„¶æ˜¯å¯è¡Œçš„ï¼Œé—®é¢˜æ˜¯å¤ªç¹çï¼Œæ‰€ä»¥Pythonå…è®¸ä½ åœ¨listæˆ–tupleå‰é¢åŠ ä¸€ä¸ª<code>*</code>å·ï¼ŒæŠŠlistæˆ–tupleçš„å…ƒç´ å˜æˆå¯å˜å‚æ•°ä¼ è¿›å»ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; nums &#x3D; [1, 2, 3]</span><br><span class="line">&gt;&gt;&gt; calc(*nums)</span><br><span class="line">14</span><br></pre></td></tr></table></figure><p>è¿™ç§å†™æ³•ç›¸å½“æœ‰ç”¨ï¼Œè€Œä¸”å¾ˆå¸¸è§ã€‚</p><h2 id="å…³é”®å­—å‚æ•°"><a href="#å…³é”®å­—å‚æ•°" class="headerlink" title="å…³é”®å­—å‚æ•°"></a>å…³é”®å­—å‚æ•°</h2><p>å¯å˜å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å¯å˜å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªtupleã€‚è€Œå…³é”®å­—å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå«å‚æ•°åçš„å‚æ•°ï¼Œè¿™äº›å…³é”®å­—å‚æ•°åœ¨å‡½æ•°å†…éƒ¨è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªdictã€‚è¯·çœ‹ç¤ºä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def person(name, age, **kw):</span><br><span class="line">    print &#39;name:&#39;, name, &#39;age:&#39;, age, &#39;other:&#39;, kw</span><br></pre></td></tr></table></figure><p>å‡½æ•°<code>person</code>é™¤äº†å¿…é€‰å‚æ•°<code>name</code>å’Œ<code>age</code>å¤–ï¼Œè¿˜æ¥å—å…³é”®å­—å‚æ•°<code>kw</code>ã€‚åœ¨è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå¯ä»¥åªä¼ å…¥å¿…é€‰å‚æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; person(&#39;Michael&#39;, 30)</span><br><span class="line">name: Michael age: 30 other: &#123;&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä¼ å…¥ä»»æ„ä¸ªæ•°çš„å…³é”®å­—å‚æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; person(&#39;Bob&#39;, 35, city&#x3D;&#39;Beijing&#39;)</span><br><span class="line">name: Bob age: 35 other: &#123;&#39;city&#39;: &#39;Beijing&#39;&#125;</span><br><span class="line">&gt;&gt;&gt; person(&#39;Adam&#39;, 45, gender&#x3D;&#39;M&#39;, job&#x3D;&#39;Engineer&#39;)</span><br><span class="line">name: Adam age: 45 other: &#123;&#39;gender&#39;: &#39;M&#39;, &#39;job&#39;: &#39;Engineer&#39;&#125;</span><br></pre></td></tr></table></figure><p>å…³é”®å­—å‚æ•°æœ‰ä»€ä¹ˆç”¨ï¼Ÿå®ƒå¯ä»¥æ‰©å±•å‡½æ•°çš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼Œåœ¨<code>person</code>å‡½æ•°é‡Œï¼Œæˆ‘ä»¬ä¿è¯èƒ½æ¥æ”¶åˆ°<code>name</code>å’Œ<code>age</code>è¿™ä¸¤ä¸ªå‚æ•°ï¼Œä½†æ˜¯ï¼Œå¦‚æœè°ƒç”¨è€…æ„¿æ„æä¾›æ›´å¤šçš„å‚æ•°ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½æ”¶åˆ°ã€‚è¯•æƒ³ä½ æ­£åœ¨åšä¸€ä¸ªç”¨æˆ·æ³¨å†Œçš„åŠŸèƒ½ï¼Œé™¤äº†ç”¨æˆ·åå’Œå¹´é¾„æ˜¯å¿…å¡«é¡¹å¤–ï¼Œå…¶ä»–éƒ½æ˜¯å¯é€‰é¡¹ï¼Œåˆ©ç”¨å…³é”®å­—å‚æ•°æ¥å®šä¹‰è¿™ä¸ªå‡½æ•°å°±èƒ½æ»¡è¶³æ³¨å†Œçš„éœ€æ±‚ã€‚</p><p>å’Œå¯å˜å‚æ•°ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥å…ˆç»„è£…å‡ºä¸€ä¸ªdictï¼Œç„¶åï¼ŒæŠŠè¯¥dictè½¬æ¢ä¸ºå…³é”®å­—å‚æ•°ä¼ è¿›å»ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; kw &#x3D; &#123;&#39;city&#39;: &#39;Beijing&#39;, &#39;job&#39;: &#39;Engineer&#39;&#125;</span><br><span class="line">&gt;&gt;&gt; person(&#39;Jack&#39;, 24, city&#x3D;kw[&#39;city&#39;], job&#x3D;kw[&#39;job&#39;])</span><br><span class="line">name: Jack age: 24 other: &#123;&#39;city&#39;: &#39;Beijing&#39;, &#39;job&#39;: &#39;Engineer&#39;&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œä¸Šé¢å¤æ‚çš„è°ƒç”¨å¯ä»¥ç”¨ç®€åŒ–çš„å†™æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; kw &#x3D; &#123;&#39;city&#39;: &#39;Beijing&#39;, &#39;job&#39;: &#39;Engineer&#39;&#125;</span><br><span class="line">&gt;&gt;&gt; person(&#39;Jack&#39;, 24, **kw)</span><br><span class="line">name: Jack age: 24 other: &#123;&#39;city&#39;: &#39;Beijing&#39;, &#39;job&#39;: &#39;Engineer&#39;&#125;</span><br></pre></td></tr></table></figure><h1 id="å‚æ•°ç»„åˆ"><a href="#å‚æ•°ç»„åˆ" class="headerlink" title="å‚æ•°ç»„åˆ"></a>å‚æ•°ç»„åˆ</h1><p>åœ¨Pythonä¸­å®šä¹‰å‡½æ•°ï¼Œå¯ä»¥ç”¨å¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°ï¼Œè¿™4ç§å‚æ•°éƒ½å¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œæˆ–è€…åªç”¨å…¶ä¸­æŸäº›ï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼Œå‚æ•°å®šä¹‰çš„é¡ºåºå¿…é¡»æ˜¯ï¼šå¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°ã€‚</p><p>æ¯”å¦‚å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼ŒåŒ…å«ä¸Šè¿°4ç§å‚æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def func(a, b, c&#x3D;0, *args, **kw):</span><br><span class="line">    print &#39;a &#x3D;&#39;, a, &#39;b &#x3D;&#39;, b, &#39;c &#x3D;&#39;, c, &#39;args &#x3D;&#39;, args, &#39;kw &#x3D;&#39;, kw</span><br></pre></td></tr></table></figure><p>åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼ŒPythonè§£é‡Šå™¨è‡ªåŠ¨æŒ‰ç…§å‚æ•°ä½ç½®å’Œå‚æ•°åæŠŠå¯¹åº”çš„å‚æ•°ä¼ è¿›å»ã€‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; func(1, 2)</span><br><span class="line">a &#x3D; 1 b &#x3D; 2 c &#x3D; 0 args &#x3D; () kw &#x3D; &#123;&#125;</span><br><span class="line">&gt;&gt;&gt; func(1, 2, c&#x3D;3)</span><br><span class="line">a &#x3D; 1 b &#x3D; 2 c &#x3D; 3 args &#x3D; () kw &#x3D; &#123;&#125;</span><br><span class="line">&gt;&gt;&gt; func(1, 2, 3, &#39;a&#39;, &#39;b&#39;)</span><br><span class="line">a &#x3D; 1 b &#x3D; 2 c &#x3D; 3 args &#x3D; (&#39;a&#39;, &#39;b&#39;) kw &#x3D; &#123;&#125;</span><br><span class="line">&gt;&gt;&gt; func(1, 2, 3, &#39;a&#39;, &#39;b&#39;, x&#x3D;99)</span><br><span class="line">a &#x3D; 1 b &#x3D; 2 c &#x3D; 3 args &#x3D; (&#39;a&#39;, &#39;b&#39;) kw &#x3D; &#123;&#39;x&#39;: 99&#125;</span><br></pre></td></tr></table></figure><p>æœ€ç¥å¥‡çš„æ˜¯é€šè¿‡ä¸€ä¸ªtupleå’Œdictï¼Œä½ ä¹Ÿå¯ä»¥è°ƒç”¨è¯¥å‡½æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; args &#x3D; (1, 2, 3, 4)</span><br><span class="line">&gt;&gt;&gt; kw &#x3D; &#123;&#39;x&#39;: 99&#125;</span><br><span class="line">&gt;&gt;&gt; func(*args, **kw)</span><br><span class="line">a &#x3D; 1 b &#x3D; 2 c &#x3D; 3 args &#x3D; (4,) kw &#x3D; &#123;&#39;x&#39;: 99&#125;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œå¯¹äºä»»æ„å‡½æ•°ï¼Œéƒ½å¯ä»¥é€šè¿‡ç±»ä¼¼<code>func(*args, **kw)</code>çš„å½¢å¼è°ƒç”¨å®ƒï¼Œæ— è®ºå®ƒçš„å‚æ•°æ˜¯å¦‚ä½•å®šä¹‰çš„ã€‚</p><h1 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h1><p>Pythonçš„å‡½æ•°å…·æœ‰éå¸¸çµæ´»çš„å‚æ•°å½¢æ€ï¼Œæ—¢å¯ä»¥å®ç°ç®€å•çš„è°ƒç”¨ï¼Œåˆå¯ä»¥ä¼ å…¥éå¸¸å¤æ‚çš„å‚æ•°ã€‚</p><p>é»˜è®¤å‚æ•°ä¸€å®šè¦ç”¨ä¸å¯å˜å¯¹è±¡ï¼Œå¦‚æœæ˜¯å¯å˜å¯¹è±¡ï¼Œè¿è¡Œä¼šæœ‰é€»è¾‘é”™è¯¯ï¼</p><p>è¦æ³¨æ„å®šä¹‰å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°çš„è¯­æ³•ï¼š</p><p><code>*args</code>æ˜¯å¯å˜å‚æ•°ï¼Œargsæ¥æ”¶çš„æ˜¯ä¸€ä¸ªtupleï¼›</p><p><code>**kw</code>æ˜¯å…³é”®å­—å‚æ•°ï¼Œkwæ¥æ”¶çš„æ˜¯ä¸€ä¸ªdictã€‚</p><p>ä»¥åŠè°ƒç”¨å‡½æ•°æ—¶å¦‚ä½•ä¼ å…¥å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°çš„è¯­æ³•ï¼š</p><p>å¯å˜å‚æ•°æ—¢å¯ä»¥ç›´æ¥ä¼ å…¥ï¼š<code>func(1, 2, 3)</code>ï¼Œåˆå¯ä»¥å…ˆç»„è£…listæˆ–tupleï¼Œå†é€šè¿‡<code>*args</code>ä¼ å…¥ï¼š<code>func(*(1, 2, 3))</code>ï¼›</p><p>å…³é”®å­—å‚æ•°æ—¢å¯ä»¥ç›´æ¥ä¼ å…¥ï¼š<code>func(a=1, b=2)</code>ï¼Œåˆå¯ä»¥å…ˆç»„è£…dictï¼Œå†é€šè¿‡<code>**kw</code>ä¼ å…¥ï¼š<code>func(**{&#39;a&#39;: 1, &#39;b&#39;: 2})</code>ã€‚</p><p>ä½¿ç”¨<code>*args</code>å’Œ<code>**kw</code>æ˜¯Pythonçš„ä¹ æƒ¯å†™æ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨å…¶ä»–å‚æ•°åï¼Œä½†æœ€å¥½ä½¿ç”¨ä¹ æƒ¯ç”¨æ³•ã€‚</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitä½¿ç”¨æ•™ç¨‹</title>
    <url>/2020/06/18/git%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<!-- build time:Sat Jun 20 2020 01:24:01 GMT+0800 (GMT+08:00) --><h1 id="Gitä½¿ç”¨æ•™ç¨‹"><a href="#Gitä½¿ç”¨æ•™ç¨‹" class="headerlink" title="Gitä½¿ç”¨æ•™ç¨‹"></a>Gitä½¿ç”¨æ•™ç¨‹</h1><p>è½¬è½½è‡ª: <a href="https://www.cnblogs.com/tugenhua0707/p/4050072.html" target="_blank" rel="noopener">gitä½¿ç”¨æ•™ç¨‹</a></p><h2 id="ä¸€ï¼šGitæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä¸€ï¼šGitæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸€ï¼šGitæ˜¯ä»€ä¹ˆï¼Ÿ"></a><strong>ä¸€ï¼šGitæ˜¯ä»€ä¹ˆï¼Ÿ</strong></h2><p>â€‹ Gitæ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚</p><p>â€‹ å·¥ä½œåŸç† / æµç¨‹ï¼š</p><p><img src="https://img.vim-cn.com/55/8c5b3217f5613b3d6fbb7b27aaf2e68427fde9.png" alt="git-1"></p><ul><li>Workspaceï¼šå·¥ä½œåŒº</li><li>Index / Stageï¼šæš‚å­˜åŒº</li><li>Repositoryï¼šä»“åº“åŒºï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰</li><li>Remoteï¼šè¿œç¨‹ä»“åº“</li></ul><h2 id="äºŒï¼šSVNä¸Gitçš„æœ€ä¸»è¦çš„åŒºåˆ«ï¼Ÿ"><a href="#äºŒï¼šSVNä¸Gitçš„æœ€ä¸»è¦çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="äºŒï¼šSVNä¸Gitçš„æœ€ä¸»è¦çš„åŒºåˆ«ï¼Ÿ"></a><strong>äºŒï¼šSVNä¸Gitçš„æœ€ä¸»è¦çš„åŒºåˆ«ï¼Ÿ</strong></h2><p>SVNæ˜¯é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç‰ˆæœ¬åº“æ˜¯é›†ä¸­æ”¾åœ¨ä¸­å¤®æœåŠ¡å™¨çš„ï¼Œè€Œå¹²æ´»çš„æ—¶å€™ï¼Œç”¨çš„éƒ½æ˜¯è‡ªå·±çš„ç”µè„‘ï¼Œæ‰€ä»¥é¦–å…ˆè¦ä»ä¸­å¤®æœåŠ¡å™¨å“ªé‡Œå¾—åˆ°æœ€æ–°çš„ç‰ˆæœ¬ï¼Œç„¶åå¹²æ´»ï¼Œå¹²å®Œåï¼Œéœ€è¦æŠŠè‡ªå·±åšå®Œçš„æ´»æ¨é€åˆ°ä¸­å¤®æœåŠ¡å™¨ã€‚é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ˜¯å¿…é¡»è”ç½‘æ‰èƒ½å·¥ä½œï¼Œå¦‚æœåœ¨å±€åŸŸç½‘è¿˜å¯ä»¥ï¼Œå¸¦å®½å¤Ÿå¤§ï¼Œé€Ÿåº¦å¤Ÿå¿«ï¼Œå¦‚æœåœ¨äº’è”ç½‘ä¸‹ï¼Œå¦‚æœç½‘é€Ÿæ…¢çš„è¯ï¼Œå°±çº³é—·äº†ã€‚</p><p>Gitæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œé‚£ä¹ˆå®ƒå°±æ²¡æœ‰ä¸­å¤®æœåŠ¡å™¨çš„ï¼Œæ¯ä¸ªäººçš„ç”µè„‘å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œè¿™æ ·ï¼Œå·¥ä½œçš„æ—¶å€™å°±ä¸éœ€è¦è”ç½‘äº†ï¼Œå› ä¸ºç‰ˆæœ¬éƒ½æ˜¯åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šã€‚æ—¢ç„¶æ¯ä¸ªäººçš„ç”µè„‘éƒ½æœ‰ä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œé‚£å¤šä¸ªäººå¦‚ä½•åä½œå‘¢ï¼Ÿæ¯”å¦‚è¯´è‡ªå·±åœ¨ç”µè„‘ä¸Šæ”¹äº†æ–‡ä»¶Aï¼Œå…¶ä»–äººä¹Ÿåœ¨ç”µè„‘ä¸Šæ”¹äº†æ–‡ä»¶Aï¼Œè¿™æ—¶ï¼Œä½ ä»¬ä¸¤ä¹‹é—´åªéœ€æŠŠå„è‡ªçš„ä¿®æ”¹æ¨é€ç»™å¯¹æ–¹ï¼Œå°±å¯ä»¥äº’ç›¸çœ‹åˆ°å¯¹æ–¹çš„ä¿®æ”¹äº†ã€‚</p><h2 id="ä¸‰ï¼šåœ¨windowsä¸Šå¦‚ä½•å®‰è£…Gitï¼Ÿ"><a href="#ä¸‰ï¼šåœ¨windowsä¸Šå¦‚ä½•å®‰è£…Gitï¼Ÿ" class="headerlink" title="ä¸‰ï¼šåœ¨windowsä¸Šå¦‚ä½•å®‰è£…Gitï¼Ÿ"></a><strong>ä¸‰ï¼šåœ¨windowsä¸Šå¦‚ä½•å®‰è£…Gitï¼Ÿ</strong></h2><p>msysgitæ˜¯ windowsç‰ˆçš„Git,å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/4f/7898dd99592a556b30f854e1d0d9e6227f50f1.jpg" alt="git-2"></p><p>éœ€è¦ä»ç½‘ä¸Šä¸‹è½½ä¸€ä¸ªï¼Œç„¶åè¿›è¡Œé»˜è®¤å®‰è£…å³å¯ã€‚å®‰è£…å®Œæˆåï¼Œåœ¨å¼€å§‹èœå•é‡Œé¢æ‰¾åˆ° â€œGit â€“&gt; Git Bashâ€,å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/19/37fe2646eedd98ef8b90da05f999e167caf4fc.jpg" alt="git-3"></p><p>ä¼šå¼¹å‡ºä¸€ä¸ªç±»ä¼¼çš„å‘½ä»¤çª—å£çš„ä¸œè¥¿ï¼Œå°±è¯´æ˜Gitå®‰è£…æˆåŠŸã€‚å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/7b/4617c7c85dd552e3059b23b1bb132ebe4faf1b.jpg" alt="git-4"></p><p>å®‰è£…å®Œæˆåï¼Œè¿˜éœ€è¦æœ€åä¸€æ­¥è®¾ç½®ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/6a/882bdd3fcab7d2deaed09ff6bb94b546327627.jpg" alt="git-5"></p><p>å› ä¸ºGitæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ‰€ä»¥éœ€è¦å¡«å†™ç”¨æˆ·åå’Œé‚®ç®±ä½œä¸ºä¸€ä¸ªæ ‡è¯†ã€‚</p><p><strong>æ³¨æ„ï¼š</strong>git config â€“global å‚æ•°ï¼Œæœ‰äº†è¿™ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºä½ è¿™å°æœºå™¨ä¸Šæ‰€æœ‰çš„Gitä»“åº“éƒ½ä¼šä½¿ç”¨è¿™ä¸ªé…ç½®ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥å¯¹æŸä¸ªä»“åº“æŒ‡å®šçš„ä¸åŒçš„ç”¨æˆ·åå’Œé‚®ç®±ã€‚</p><h2 id="å››ï¼šå¦‚ä½•æ“ä½œï¼Ÿ"><a href="#å››ï¼šå¦‚ä½•æ“ä½œï¼Ÿ" class="headerlink" title="å››ï¼šå¦‚ä½•æ“ä½œï¼Ÿ"></a><strong>å››ï¼šå¦‚ä½•æ“ä½œï¼Ÿ</strong></h2><h3 id="1-åˆ›å»ºç‰ˆæœ¬åº“"><a href="#1-åˆ›å»ºç‰ˆæœ¬åº“" class="headerlink" title="1. åˆ›å»ºç‰ˆæœ¬åº“"></a>1. åˆ›å»ºç‰ˆæœ¬åº“</h3><p>ä»€ä¹ˆæ˜¯ç‰ˆæœ¬åº“ï¼Ÿç‰ˆæœ¬åº“åˆåä»“åº“ï¼Œè‹±æ–‡årepository,ä½ å¯ä»¥ç®€å•çš„ç†è§£ä¸€ä¸ªç›®å½•ï¼Œè¿™ä¸ªç›®å½•é‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶éƒ½å¯ä»¥è¢«Gitç®¡ç†èµ·æ¥ï¼Œæ¯ä¸ªæ–‡ä»¶çš„ä¿®æ”¹ï¼Œåˆ é™¤ï¼ŒGitéƒ½èƒ½è·Ÿè¸ªï¼Œä»¥ä¾¿ä»»ä½•æ—¶åˆ»éƒ½å¯ä»¥è¿½è¸ªå†å²ï¼Œæˆ–è€…åœ¨å°†æ¥æŸä¸ªæ—¶åˆ»è¿˜å¯ä»¥å°†æ–‡ä»¶â€è¿˜åŸâ€ã€‚</p><p>æ‰€ä»¥åˆ›å»ºä¸€ä¸ªç‰ˆæœ¬åº“ä¹Ÿéå¸¸ç®€å•ï¼Œå¦‚ä¸‹æˆ‘æ˜¯Dç›˜ â€“&gt; wwwä¸‹ ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªtestgitç‰ˆæœ¬åº“ã€‚</p><p>â€‹ <img src="https://img.vim-cn.com/d3/b456182de26a6934cf8e3a0950f67ca630c23a.png" alt="git-6"></p><p>pwd å‘½ä»¤æ˜¯ç”¨äºæ˜¾ç¤ºå½“å‰çš„ç›®å½•ã€‚</p><ol><li><p>é€šè¿‡å‘½ä»¤ git init æŠŠè¿™ä¸ªç›®å½•å˜æˆgitå¯ä»¥ç®¡ç†çš„ä»“åº“ï¼Œå¦‚ä¸‹ï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/a1/7a4855e0bb8174d4a0aa404da893d1f9e78761.png" alt="git-7"></p><p>è¿™æ—¶å€™ä½ å½“å‰testgitç›®å½•ä¸‹ä¼šå¤šäº†ä¸€ä¸ª.gitçš„ç›®å½•ï¼Œè¿™ä¸ªç›®å½•æ˜¯Gitæ¥è·Ÿè¸ªç®¡ç†ç‰ˆæœ¬çš„ï¼Œæ²¡äº‹åƒä¸‡ä¸è¦æ‰‹åŠ¨ä¹±æ”¹è¿™ä¸ªç›®å½•é‡Œé¢çš„æ–‡ä»¶ï¼Œå¦åˆ™ï¼Œä¼šæŠŠgitä»“åº“ç»™ç ´åäº†ã€‚å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/4f/a82ff42262a9c70a001ff92f01c8daef0e6081.png" alt="git-8"></p></li><li><p>æŠŠæ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“ä¸­ã€‚</p></li></ol><p>â€‹ é¦–å…ˆè¦æ˜ç¡®ä¸‹ï¼Œæ‰€æœ‰çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œåªèƒ½è·Ÿè¸ªæ–‡æœ¬æ–‡ä»¶çš„æ”¹åŠ¨ï¼Œæ¯”å¦‚txtæ–‡ä»¶ï¼Œç½‘é¡µï¼Œæ‰€æœ‰ç¨‹åºçš„ä»£ç ç­‰ï¼ŒGitä¹Ÿä¸åˆ—å¤–ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¯ä»¥å‘Šè¯‰ä½ æ¯æ¬¡çš„æ”¹åŠ¨ï¼Œä½†æ˜¯å›¾ç‰‡ï¼Œè§†é¢‘è¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè™½èƒ½ä¹Ÿèƒ½ç”±ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿç®¡ç†ï¼Œä½†æ²¡æ³•è·Ÿè¸ªæ–‡ä»¶çš„å˜åŒ–ï¼Œåªèƒ½æŠŠäºŒè¿›åˆ¶æ–‡ä»¶æ¯æ¬¡æ”¹åŠ¨ä¸²èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯çŸ¥é“å›¾ç‰‡ä»1kbå˜æˆ2kbï¼Œä½†æ˜¯åˆ°åº•æ”¹äº†å•¥ï¼Œç‰ˆæœ¬æ§åˆ¶ä¹Ÿä¸çŸ¥é“ã€‚</p><p><strong>ä¸‹é¢å…ˆçœ‹ä¸‹**</strong>demo<strong>**å¦‚ä¸‹æ¼”ç¤ºï¼š</strong></p><p>æˆ‘åœ¨ç‰ˆæœ¬åº“testgitç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªè®°äº‹æœ¬æ–‡ä»¶ readme.txt å†…å®¹å¦‚ä¸‹ï¼š11111111</p><p>ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨å‘½ä»¤ git add readme.txtæ·»åŠ åˆ°æš‚å­˜åŒºé‡Œé¢å»ã€‚å¦‚ä¸‹ï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/20/87cbae36cf3866ecc3259fd724ffc02f469d14.png" alt="git-9"></p><p>å¦‚æœå’Œä¸Šé¢ä¸€æ ·ï¼Œæ²¡æœ‰ä»»ä½•æç¤ºï¼Œè¯´æ˜å·²ç»æ·»åŠ æˆåŠŸäº†ã€‚</p><p>ç¬¬äºŒæ­¥ï¼šç”¨å‘½ä»¤ git commitå‘Šè¯‰Gitï¼ŒæŠŠæ–‡ä»¶æäº¤åˆ°ä»“åº“ã€‚</p><p>â€‹ <img src="https://img.vim-cn.com/23/fccc06cddc7e1e92caa1f14ac436de8e6c0195.png" alt="git-10"></p><p>ç°åœ¨æˆ‘ä»¬å·²ç»æäº¤äº†ä¸€ä¸ªreadme.txtæ–‡ä»¶äº†ï¼Œæˆ‘ä»¬ä¸‹é¢å¯ä»¥é€šè¿‡å‘½ä»¤git statusæ¥æŸ¥çœ‹æ˜¯å¦è¿˜æœ‰æ–‡ä»¶æœªæäº¤ï¼Œå¦‚ä¸‹ï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/d9/bab4ed448c85a0ebb239d00abeaa3d21d1a4b1.png" alt="git-11"></p><p>è¯´æ˜æ²¡æœ‰ä»»ä½•æ–‡ä»¶æœªæäº¤ï¼Œä½†æ˜¯æˆ‘ç°åœ¨ç»§ç»­æ¥æ”¹ä¸‹readme.txtå†…å®¹ï¼Œæ¯”å¦‚æˆ‘åœ¨ä¸‹é¢æ·»åŠ ä¸€è¡Œ2222222222å†…å®¹ï¼Œç»§ç»­ä½¿ç”¨git statusæ¥æŸ¥çœ‹ä¸‹ç»“æœï¼Œå¦‚ä¸‹ï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/68/1a092ee19e672fa8f8e0003498d431b8e75470.png" alt="git-12"></p><p>ä¸Šé¢çš„å‘½ä»¤å‘Šè¯‰æˆ‘ä»¬ readme.txtæ–‡ä»¶å·²è¢«ä¿®æ”¹ï¼Œä½†æ˜¯æœªè¢«æäº¤çš„ä¿®æ”¹ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘æƒ³çœ‹ä¸‹readme.txtæ–‡ä»¶åˆ°åº•æ”¹äº†ä»€ä¹ˆå†…å®¹ï¼Œå¦‚ä½•æŸ¥çœ‹å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><p>git diff readme.txt å¦‚ä¸‹ï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/bb/ae4dbe881e3a072b77cc551459d4b3afe7b3f7.png" alt="git-13"></p><p>å¦‚ä¸Šå¯ä»¥çœ‹åˆ°ï¼Œreadme.txtæ–‡ä»¶å†…å®¹ä»ä¸€è¡Œ11111111æ”¹æˆ äºŒè¡Œ æ·»åŠ äº†ä¸€è¡Œ22222222å†…å®¹ã€‚</p><p>çŸ¥é“äº†å¯¹readme.txtæ–‡ä»¶åšäº†ä»€ä¹ˆä¿®æ”¹åï¼Œæˆ‘ä»¬å¯ä»¥æ”¾å¿ƒçš„æäº¤åˆ°ä»“åº“äº†ï¼Œæäº¤ä¿®æ”¹å’Œæäº¤æ–‡ä»¶æ˜¯ä¸€æ ·çš„2æ­¥(ç¬¬ä¸€æ­¥æ˜¯git add ç¬¬äºŒæ­¥æ˜¯ï¼šgit commit)ã€‚</p><p>å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/7f/f6e7ad64f559c01c2e524130b0a8f80d88a66c.png" alt="git-14"></p><h3 id="2-ç‰ˆæœ¬å›é€€ï¼š"><a href="#2-ç‰ˆæœ¬å›é€€ï¼š" class="headerlink" title="2. ç‰ˆæœ¬å›é€€ï¼š"></a>2. ç‰ˆæœ¬å›é€€ï¼š</h3><p>å¦‚ä¸Šï¼Œæˆ‘ä»¬å·²ç»å­¦ä¼šäº†ä¿®æ”¹æ–‡ä»¶ï¼Œç°åœ¨æˆ‘ç»§ç»­å¯¹readme.txtæ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œå†å¢åŠ ä¸€è¡Œ</p><p>å†…å®¹ä¸º33333333333333.ç»§ç»­æ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/bb/6fc932e36136c2b4708872b06958baf4f0583c.png" alt="git-15"></p><p>ç°åœ¨æˆ‘å·²ç»å¯¹readme.txtæ–‡ä»¶åšäº†ä¸‰æ¬¡ä¿®æ”¹äº†ï¼Œé‚£ä¹ˆæˆ‘ç°åœ¨æƒ³æŸ¥çœ‹ä¸‹å†å²è®°å½•ï¼Œå¦‚ä½•æŸ¥å‘¢ï¼Ÿæˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨å‘½ä»¤ git log æ¼”ç¤ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/5e/e4b4dddaf465d42a3247d322ba44ff1ad14de8.png" alt="git-16"></p><p>git logå‘½ä»¤æ˜¾ç¤ºä»æœ€è¿‘åˆ°æœ€è¿œçš„æ˜¾ç¤ºæ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ€è¿‘ä¸‰æ¬¡æäº¤ï¼Œæœ€è¿‘çš„ä¸€æ¬¡æ˜¯,å¢åŠ å†…å®¹ä¸º333333.ä¸Šä¸€æ¬¡æ˜¯æ·»åŠ å†…å®¹222222ï¼Œç¬¬ä¸€æ¬¡é»˜è®¤æ˜¯ 111111.å¦‚æœå«Œä¸Šé¢æ˜¾ç¤ºçš„ä¿¡æ¯å¤ªå¤šçš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤ git log â€“pretty=oneline æ¼”ç¤ºå¦‚ä¸‹ï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/e8/47ceb37bb9125f969bb207a82e29ffb55c0e10.png" alt="git-17"></p><p>ç°åœ¨æˆ‘æƒ³ä½¿ç”¨ç‰ˆæœ¬å›é€€æ“ä½œï¼Œæˆ‘æƒ³æŠŠå½“å‰çš„ç‰ˆæœ¬å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œè¦ä½¿ç”¨ä»€ä¹ˆå‘½ä»¤å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹2ç§å‘½ä»¤ï¼Œç¬¬ä¸€ç§æ˜¯ï¼šgit reset â€“hard HEAD^ é‚£ä¹ˆå¦‚æœè¦å›é€€åˆ°ä¸Šä¸Šä¸ªç‰ˆæœ¬åªéœ€æŠŠHEAD^ æ”¹æˆ HEAD^^ ä»¥æ­¤ç±»æ¨ã€‚é‚£å¦‚æœè¦å›é€€åˆ°å‰100ä¸ªç‰ˆæœ¬çš„è¯ï¼Œä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•è‚¯å®šä¸æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ç®€ä¾¿å‘½ä»¤æ“ä½œï¼šgit reset â€“hard HEAD~100 å³å¯ã€‚æœªå›é€€ä¹‹å‰çš„readme.txtå†…å®¹å¦‚ä¸‹ï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/5d/e6cf37d88899c789fd354c74896f6b0b16ed2d.png" alt="git-18"></p><p>å¦‚æœæƒ³å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„å‘½ä»¤å¦‚ä¸‹æ“ä½œï¼š</p><p><img src="https://img.vim-cn.com/a8/9be2854e4470497ac60f096ecd60ff41488462.png" alt="git-19"></p><p>å†æ¥æŸ¥çœ‹ä¸‹ readme.txtå†…å®¹å¦‚ä¸‹ï¼šé€šè¿‡å‘½ä»¤cat readme.txtæŸ¥çœ‹</p><p><img src="https://img.vim-cn.com/75/5ead06cf8071a9b586f77d5a3877cd77487702.png" alt="git-20"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå†…å®¹å·²ç»å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬äº†ã€‚æˆ‘ä»¬å¯ä»¥ç»§ç»­ä½¿ç”¨git log æ¥æŸ¥çœ‹ä¸‹å†å²è®°å½•ä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/31/438003880618107dbac6c103cbd1bd00997c5b.png" alt="git-21"></p><p>æˆ‘ä»¬çœ‹åˆ° å¢åŠ 333333 å†…å®¹æˆ‘ä»¬æ²¡æœ‰çœ‹åˆ°äº†ï¼Œä½†æ˜¯ç°åœ¨æˆ‘æƒ³å›é€€åˆ°æœ€æ–°çš„ç‰ˆæœ¬ï¼Œå¦‚ï¼šæœ‰333333çš„å†…å®¹è¦å¦‚ä½•æ¢å¤å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡ç‰ˆæœ¬å·å›é€€ï¼Œä½¿ç”¨å‘½ä»¤æ–¹æ³•å¦‚ä¸‹ï¼š</p><p>git reset â€“hard ç‰ˆæœ¬å· ï¼Œä½†æ˜¯ç°åœ¨çš„é—®é¢˜å‡å¦‚æˆ‘å·²ç»å…³æ‰è¿‡ä¸€æ¬¡å‘½ä»¤è¡Œæˆ–è€…333å†…å®¹çš„ç‰ˆæœ¬å·æˆ‘å¹¶ä¸çŸ¥é“å‘¢ï¼Ÿè¦å¦‚ä½•çŸ¥é“å¢åŠ 3333å†…å®¹çš„ç‰ˆæœ¬å·å‘¢ï¼Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤å³å¯è·å–åˆ°ç‰ˆæœ¬å·ï¼šgit reflog æ¼”ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/f3/ea50f5869683cb9a7206401bac73d8e5ae6476.png" alt="git-22"></p><p>é€šè¿‡ä¸Šé¢çš„æ˜¾ç¤ºæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå¢åŠ å†…å®¹3333çš„ç‰ˆæœ¬å·æ˜¯ 6fcfc89.æˆ‘ä»¬ç°åœ¨å¯ä»¥å‘½ä»¤</p><p>git reset â€“hard 6fcfc89æ¥æ¢å¤äº†ã€‚æ¼”ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/f1/17ebd76bf8065c2469c29a294d7838a38ea104.png" alt="git-23"></p><p>å¯ä»¥çœ‹åˆ° ç›®å‰å·²ç»æ˜¯æœ€æ–°çš„ç‰ˆæœ¬äº†ã€‚</p><h3 id="3-ç†è§£å·¥ä½œåŒºä¸æš‚å­˜åŒºçš„åŒºåˆ«ï¼Ÿ"><a href="#3-ç†è§£å·¥ä½œåŒºä¸æš‚å­˜åŒºçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="3. ç†è§£å·¥ä½œåŒºä¸æš‚å­˜åŒºçš„åŒºåˆ«ï¼Ÿ"></a>3. ç†è§£å·¥ä½œåŒºä¸æš‚å­˜åŒºçš„åŒºåˆ«ï¼Ÿ</h3><p><strong>å·¥ä½œåŒºï¼š</strong>å°±æ˜¯ä½ åœ¨ç”µè„‘ä¸Šçœ‹åˆ°çš„ç›®å½•ï¼Œæ¯”å¦‚ç›®å½•ä¸‹testgité‡Œçš„æ–‡ä»¶(.gitéšè—ç›®å½•ç‰ˆæœ¬åº“é™¤å¤–)ã€‚æˆ–è€…ä»¥åéœ€è¦å†æ–°å»ºçš„ç›®å½•æ–‡ä»¶ç­‰ç­‰éƒ½å±äºå·¥ä½œåŒºèŒƒç•´ã€‚</p><p><strong>ç‰ˆæœ¬åº“**</strong>(Repository)<strong>**ï¼š</strong>å·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½•.git,è¿™ä¸ªä¸å±äºå·¥ä½œåŒºï¼Œè¿™æ˜¯ç‰ˆæœ¬åº“ã€‚å…¶ä¸­ç‰ˆæœ¬åº“é‡Œé¢å­˜äº†å¾ˆå¤šä¸œè¥¿ï¼Œå…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯stage(æš‚å­˜åŒº)ï¼Œè¿˜æœ‰Gitä¸ºæˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºäº†ç¬¬ä¸€ä¸ªåˆ†æ”¯master,ä»¥åŠæŒ‡å‘masterçš„ä¸€ä¸ªæŒ‡é’ˆHEADã€‚</p><p>æˆ‘ä»¬å‰é¢è¯´è¿‡ä½¿ç”¨Gitæäº¤æ–‡ä»¶åˆ°ç‰ˆæœ¬åº“æœ‰ä¸¤æ­¥ï¼š</p><p>ç¬¬ä¸€æ­¥ï¼šæ˜¯ä½¿ç”¨ git add æŠŠæ–‡ä»¶æ·»åŠ è¿›å»ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠæ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºã€‚</p><p>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨git commitæäº¤æ›´æ”¹ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠæš‚å­˜åŒºçš„æ‰€æœ‰å†…å®¹æäº¤åˆ°å½“å‰åˆ†æ”¯ä¸Šã€‚</p><p>æˆ‘ä»¬ç»§ç»­ä½¿ç”¨demoæ¥æ¼”ç¤ºä¸‹ï¼š</p><p>æˆ‘ä»¬åœ¨readme.txtå†æ·»åŠ ä¸€è¡Œå†…å®¹ä¸º4444444ï¼Œæ¥ç€åœ¨ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ä¸ºtest.txt å†…å®¹ä¸ºtestï¼Œæˆ‘ä»¬å…ˆç”¨å‘½ä»¤ git statusæ¥æŸ¥çœ‹ä¸‹çŠ¶æ€ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/bd/f9df3cbf8162cbf7f79faecf7b3f8c371c67a9.png" alt="git-24"></p><p>ç°åœ¨æˆ‘ä»¬å…ˆä½¿ç”¨git add å‘½ä»¤æŠŠ2ä¸ªæ–‡ä»¶éƒ½æ·»åŠ åˆ°æš‚å­˜åŒºä¸­ï¼Œå†ä½¿ç”¨git statusæ¥æŸ¥çœ‹ä¸‹çŠ¶æ€ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/38/b414c940aae8db0cd3c0645c7764c678cd8cbc.png" alt="git-25"></p><p>æ¥ç€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨git commitä¸€æ¬¡æ€§æäº¤åˆ°åˆ†æ”¯ä¸Šï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/a7/e0c1e6172d1f3f1666722cbce4405dc75f6c93.png" alt="git-26"></p><h3 id="4-Gitæ’¤é”€ä¿®æ”¹å’Œåˆ é™¤æ–‡ä»¶æ“ä½œã€‚"><a href="#4-Gitæ’¤é”€ä¿®æ”¹å’Œåˆ é™¤æ–‡ä»¶æ“ä½œã€‚" class="headerlink" title="4. Gitæ’¤é”€ä¿®æ”¹å’Œåˆ é™¤æ–‡ä»¶æ“ä½œã€‚"></a>4. Gitæ’¤é”€ä¿®æ”¹å’Œåˆ é™¤æ–‡ä»¶æ“ä½œã€‚</h3><h4 id="1-æ’¤é”€ä¿®æ”¹ï¼š"><a href="#1-æ’¤é”€ä¿®æ”¹ï¼š" class="headerlink" title="1. æ’¤é”€ä¿®æ”¹ï¼š"></a><strong>1. æ’¤é”€ä¿®æ”¹ï¼š</strong></h4><p>æ¯”å¦‚æˆ‘ç°åœ¨åœ¨readme.txtæ–‡ä»¶é‡Œé¢å¢åŠ ä¸€è¡Œ å†…å®¹ä¸º555555555555ï¼Œæˆ‘ä»¬å…ˆé€šè¿‡å‘½ä»¤æŸ¥çœ‹å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/57/c5600e1d75a21c66cbcad0e502373aaf8744a7.png" alt="git-27"></p><p>åœ¨æˆ‘æœªæäº¤ä¹‹å‰ï¼Œæˆ‘å‘ç°æ·»åŠ 5555555555555å†…å®¹æœ‰è¯¯ï¼Œæ‰€ä»¥æˆ‘å¾—é©¬ä¸Šæ¢å¤ä»¥å‰çš„ç‰ˆæœ¬ï¼Œç°åœ¨æˆ‘å¯ä»¥æœ‰å¦‚ä¸‹å‡ ç§æ–¹æ³•å¯ä»¥åšä¿®æ”¹ï¼š</p><p>ç¬¬ä¸€ï¼šå¦‚æœæˆ‘çŸ¥é“è¦åˆ æ‰é‚£äº›å†…å®¹çš„è¯ï¼Œç›´æ¥æ‰‹åŠ¨æ›´æ”¹å»æ‰é‚£äº›éœ€è¦çš„æ–‡ä»¶ï¼Œç„¶åaddæ·»åŠ åˆ°æš‚å­˜åŒºï¼Œæœ€åcommitæ‰ã€‚</p><p>ç¬¬äºŒï¼šæˆ‘å¯ä»¥æŒ‰ä»¥å‰çš„æ–¹æ³•ç›´æ¥æ¢å¤åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ã€‚ä½¿ç”¨ git reset â€“hard HEAD^</p><p>ä½†æ˜¯ç°åœ¨æˆ‘ä¸æƒ³ä½¿ç”¨ä¸Šé¢çš„2ç§æ–¹æ³•ï¼Œæˆ‘æƒ³ç›´æ¥æƒ³ä½¿ç”¨æ’¤é”€å‘½ä»¤è¯¥å¦‚ä½•æ“ä½œå‘¢ï¼Ÿé¦–å…ˆåœ¨åšæ’¤é”€ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆç”¨ git status æŸ¥çœ‹ä¸‹å½“å‰çš„çŠ¶æ€ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://img.vim-cn.com/fc/2f07314d2e577d72daf340f82e734ca434ad54.png" alt="git-28"></p><p>å¯ä»¥å‘ç°ï¼ŒGitä¼šå‘Šè¯‰ä½ ï¼Œgit checkout â€“ file å¯ä»¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹ï¼Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><p>git checkout â€“ readme.txt,å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://img.vim-cn.com/8f/b19b7f59f38a5e86b5f02c10d25ee13cfc49ca.png" alt="git-29"></p><p>å‘½ä»¤ git checkout â€“readme.txt æ„æ€å°±æ˜¯ï¼ŒæŠŠreadme.txtæ–‡ä»¶åœ¨å·¥ä½œåŒºåšçš„ä¿®æ”¹å…¨éƒ¨æ’¤é”€ï¼Œè¿™é‡Œæœ‰2ç§æƒ…å†µï¼Œå¦‚ä¸‹ï¼š</p><ol><li>readme.txtè‡ªåŠ¨ä¿®æ”¹åï¼Œè¿˜æ²¡æœ‰æ”¾åˆ°æš‚å­˜åŒºï¼Œä½¿ç”¨ æ’¤é”€ä¿®æ”¹å°±å›åˆ°å’Œç‰ˆæœ¬åº“ä¸€æ¨¡ä¸€æ ·çš„çŠ¶æ€ã€‚</li><li>å¦å¤–ä¸€ç§æ˜¯readme.txtå·²ç»æ”¾å…¥æš‚å­˜åŒºäº†ï¼Œæ¥ç€åˆä½œäº†ä¿®æ”¹ï¼Œæ’¤é”€ä¿®æ”¹å°±å›åˆ°æ·»åŠ æš‚å­˜åŒºåçš„çŠ¶æ€ã€‚</li></ol><p>å¯¹äºç¬¬äºŒç§æƒ…å†µï¼Œæˆ‘æƒ³æˆ‘ä»¬ç»§ç»­åšdemoæ¥çœ‹ä¸‹ï¼Œå‡å¦‚ç°åœ¨æˆ‘å¯¹readme.txtæ·»åŠ ä¸€è¡Œ å†…å®¹ä¸º6666666666666ï¼Œæˆ‘git add å¢åŠ åˆ°æš‚å­˜åŒºåï¼Œæ¥ç€æ·»åŠ å†…å®¹7777777ï¼Œæˆ‘æƒ³é€šè¿‡æ’¤é”€å‘½ä»¤è®©å…¶å›åˆ°æš‚å­˜åŒºåçš„çŠ¶æ€ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/01/c8f55ed637c5d4134fd2a8c7f964ba03806b79.png" alt="git-30"></p><p><strong>æ³¨æ„ï¼š</strong>å‘½ä»¤git checkout â€“ readme.txt ä¸­çš„ â€“ å¾ˆé‡è¦ï¼Œå¦‚æœæ²¡æœ‰ â€“ çš„è¯ï¼Œé‚£ä¹ˆå‘½ä»¤å˜æˆåˆ›å»ºåˆ†æ”¯äº†ã€‚</p><h4 id="2-åˆ é™¤æ–‡ä»¶ã€‚"><a href="#2-åˆ é™¤æ–‡ä»¶ã€‚" class="headerlink" title="2. åˆ é™¤æ–‡ä»¶ã€‚"></a><strong>2. åˆ é™¤æ–‡ä»¶ã€‚</strong></h4><p>å‡å¦‚æˆ‘ç°åœ¨ç‰ˆæœ¬åº“testgitç›®å½•æ·»åŠ ä¸€ä¸ªæ–‡ä»¶b.txt,ç„¶åæäº¤ã€‚å¦‚ä¸‹ï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/9c/309fce9f96a1923394b0789d3b32ff24007dfa.png" alt="git-31"></p><p>å¦‚ä¸Šï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯ä»¥ç›´æ¥åœ¨æ–‡ä»¶ç›®å½•ä¸­æŠŠæ–‡ä»¶åˆ äº†ï¼Œæˆ–è€…ä½¿ç”¨å¦‚ä¸Šrmå‘½ä»¤ï¼šrm b.txt ï¼Œå¦‚æœæˆ‘æƒ³å½»åº•ä»ç‰ˆæœ¬åº“ä¸­åˆ æ‰äº†æ­¤æ–‡ä»¶çš„è¯ï¼Œå¯ä»¥å†æ‰§è¡Œcommitå‘½ä»¤ æäº¤æ‰ï¼Œç°åœ¨ç›®å½•æ˜¯è¿™æ ·çš„ï¼Œ</p><p>â€‹ <img src="https://img.vim-cn.com/78/a4f0ce205fb1d206f78d6f93e40b5167d547a6.png" alt="git-32"></p><p>åªè¦æ²¡æœ‰commitä¹‹å‰ï¼Œå¦‚æœæˆ‘æƒ³åœ¨ç‰ˆæœ¬åº“ä¸­æ¢å¤æ­¤æ–‡ä»¶å¦‚ä½•æ“ä½œå‘¢ï¼Ÿ</p><p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ git checkout â€“ b.txtï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://img.vim-cn.com/f2/06e342452030025b055f7cc0bb4cf3c7f01287.png" alt="git-33"></p><p>å†æ¥çœ‹çœ‹æˆ‘ä»¬testgitç›®å½•ï¼Œæ·»åŠ äº†3ä¸ªæ–‡ä»¶äº†ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://img.vim-cn.com/a8/d864bd4b128f41b80b1186b6038282d3204b4c.png" alt="git-34"></p><h2 id="äº”ï¼šè¿œç¨‹ä»“åº“ã€‚"><a href="#äº”ï¼šè¿œç¨‹ä»“åº“ã€‚" class="headerlink" title="äº”ï¼šè¿œç¨‹ä»“åº“ã€‚"></a>äº”ï¼šè¿œç¨‹ä»“åº“ã€‚</h2><p>åœ¨äº†è§£ä¹‹å‰ï¼Œå…ˆæ³¨å†Œgithubè´¦å·ï¼Œç”±äºä½ çš„æœ¬åœ°Gitä»“åº“å’Œgithubä»“åº“ä¹‹é—´çš„ä¼ è¾“æ˜¯é€šè¿‡SSHåŠ å¯†çš„ï¼Œæ‰€ä»¥éœ€è¦ä¸€ç‚¹è®¾ç½®ï¼š</p><p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºSSH Keyã€‚åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰.sshç›®å½•ï¼Œå¦‚æœæœ‰ï¼Œå†çœ‹çœ‹è¿™ä¸ªç›®å½•ä¸‹æœ‰æ²¡æœ‰id_rsaå’Œid_rsa.pubè¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œç›´æ¥è·³è¿‡æ­¤å¦‚ä¸‹å‘½ä»¤ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œæ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><p>ssh-keygen -t rsa â€“C â€œ<a href="mailto:youremail@example.com">youremail@example.com</a>â€, ç”±äºæˆ‘æœ¬åœ°æ­¤å‰è¿è¡Œè¿‡ä¸€æ¬¡ï¼Œæ‰€ä»¥æœ¬åœ°æœ‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://img.vim-cn.com/95/648955904337a03588811633dcf1cf08e750aa.png" alt="git-35"></p><p>id_rsaæ˜¯ç§é’¥ï¼Œä¸èƒ½æ³„éœ²å‡ºå»ï¼Œid_rsa.pubæ˜¯å…¬é’¥ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å‘Šè¯‰ä»»ä½•äººã€‚</p><p>ç¬¬äºŒæ­¥ï¼šç™»å½•github,æ‰“å¼€â€ settingsâ€ä¸­çš„SSH Keysé¡µé¢ï¼Œç„¶åç‚¹å‡»â€œAdd SSH Keyâ€,å¡«ä¸Šä»»æ„titleï¼Œåœ¨Keyæ–‡æœ¬æ¡†é‡Œé»è´´id_rsa.pubæ–‡ä»¶çš„å†…å®¹ã€‚</p><p><img src="https://img.vim-cn.com/38/c1b1d1805e13f95503f3878736e0af6aa1863f.png" alt="git-36"></p><p>ç‚¹å‡» Add Keyï¼Œä½ å°±åº”è¯¥å¯ä»¥çœ‹åˆ°å·²ç»æ·»åŠ çš„keyã€‚</p><p><img src="https://img.vim-cn.com/7f/1428728699fa8397e71115eb8e8e682c9a7d5f.png" alt="git-37"></p><ol><li>å¦‚ä½•æ·»åŠ è¿œç¨‹åº“ï¼Ÿ</li></ol><p>â€‹ ç°åœ¨çš„æƒ…æ™¯æ˜¯ï¼šæˆ‘ä»¬å·²ç»åœ¨æœ¬åœ°åˆ›å»ºäº†ä¸€ä¸ªGitä»“åº“åï¼Œåˆæƒ³åœ¨githubåˆ›å»ºä¸€ä¸ªGitä»“åº“ï¼Œå¹¶ä¸”å¸Œæœ›è¿™ä¸¤ä¸ªä»“åº“è¿›è¡Œè¿œç¨‹åŒæ­¥ï¼Œè¿™æ ·githubçš„ä»“åº“å¯ä»¥ä½œä¸ºå¤‡ä»½ï¼Œåˆå¯ä»¥å…¶ä»–äººé€šè¿‡è¯¥ä»“åº“æ¥åä½œã€‚</p><p>é¦–å…ˆï¼Œç™»å½•githubä¸Šï¼Œç„¶ååœ¨å³ä¸Šè§’æ‰¾åˆ°â€œcreate a new repoâ€åˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ã€‚å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/87/2c9573020e7e29c604e780055e2f0008e9fb17.png" alt="git-38"></p><p>åœ¨Repository nameå¡«å…¥<code>testgit</code>ï¼Œå…¶ä»–ä¿æŒé»˜è®¤è®¾ç½®ï¼Œç‚¹å‡»â€œCreate repositoryâ€æŒ‰é’®ï¼Œå°±æˆåŠŸåœ°åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„Gitä»“åº“ï¼š</p><p><img src="https://img.vim-cn.com/1c/35e892f664f41c4ab632f4ceb02dbfdda6088d.png" alt="git-39"></p><p>ç›®å‰ï¼Œåœ¨GitHubä¸Šçš„è¿™ä¸ª<code>testgit</code>ä»“åº“è¿˜æ˜¯ç©ºçš„ï¼ŒGitHubå‘Šè¯‰æˆ‘ä»¬ï¼Œå¯ä»¥ä»è¿™ä¸ªä»“åº“å…‹éš†å‡ºæ–°çš„ä»“åº“ï¼Œä¹Ÿå¯ä»¥æŠŠä¸€ä¸ªå·²æœ‰çš„æœ¬åœ°ä»“åº“ä¸ä¹‹å…³è”ï¼Œç„¶åï¼ŒæŠŠæœ¬åœ°ä»“åº“çš„å†…å®¹æ¨é€åˆ°GitHubä»“åº“ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ ¹æ®GitHubçš„æç¤ºï¼Œåœ¨æœ¬åœ°çš„<code>testgit</code>ä»“åº“ä¸‹è¿è¡Œå‘½ä»¤ï¼š</p><p>git remote add origin <a href="https://github.com/tugenhua0707/testgit.git" target="_blank" rel="noopener">https://github.com/tugenhua0707/testgit.git</a></p><p>æ‰€æœ‰çš„å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/75/8b7a5c33f9f3234bc99f1a62bae4cc78c7bae6.png" alt="git-40"></p><p>æŠŠæœ¬åœ°åº“çš„å†…å®¹æ¨é€åˆ°è¿œç¨‹ï¼Œä½¿ç”¨ git pushå‘½ä»¤ï¼Œå®é™…ä¸Šæ˜¯æŠŠå½“å‰åˆ†æ”¯masteræ¨é€åˆ°è¿œç¨‹ã€‚</p><p>ç”±äºè¿œç¨‹åº“æ˜¯ç©ºçš„ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡æ¨é€masteråˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Šäº† â€“uå‚æ•°ï¼ŒGitä¸ä½†ä¼šæŠŠæœ¬åœ°çš„masteråˆ†æ”¯å†…å®¹æ¨é€çš„è¿œç¨‹æ–°çš„masteråˆ†æ”¯ï¼Œè¿˜ä¼šæŠŠæœ¬åœ°çš„masteråˆ†æ”¯å’Œè¿œç¨‹çš„masteråˆ†æ”¯å…³è”èµ·æ¥ï¼Œåœ¨ä»¥åçš„æ¨é€æˆ–è€…æ‹‰å–æ—¶å°±å¯ä»¥ç®€åŒ–å‘½ä»¤ã€‚æ¨é€æˆåŠŸåï¼Œå¯ä»¥ç«‹åˆ»åœ¨githubé¡µé¢ä¸­çœ‹åˆ°è¿œç¨‹åº“çš„å†…å®¹å·²ç»å’Œæœ¬åœ°ä¸€æ¨¡ä¸€æ ·äº†ï¼Œä¸Šé¢çš„è¦è¾“å…¥githubçš„ç”¨æˆ·åå’Œå¯†ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://img.vim-cn.com/8d/2fbafbafe3149690414b29b9c9c2c6c0eccf2c.png" alt="git-41"></p><p>ä»ç°åœ¨èµ·ï¼Œåªè¦æœ¬åœ°ä½œäº†æäº¤ï¼Œå°±å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤ï¼š</p><p>git push origin master</p><p>æŠŠæœ¬åœ°masteråˆ†æ”¯çš„æœ€æ–°ä¿®æ”¹æ¨é€åˆ°githubä¸Šäº†ï¼Œç°åœ¨ä½ å°±æ‹¥æœ‰äº†çœŸæ­£çš„åˆ†å¸ƒå¼ç‰ˆæœ¬åº“äº†ã€‚</p><p>\2. å¦‚ä½•ä»è¿œç¨‹åº“å…‹éš†ï¼Ÿ</p><p>ä¸Šé¢æˆ‘ä»¬äº†è§£äº†å…ˆæœ‰æœ¬åœ°åº“ï¼Œåæœ‰è¿œç¨‹åº“æ—¶å€™ï¼Œå¦‚ä½•å…³è”è¿œç¨‹åº“ã€‚</p><p>ç°åœ¨æˆ‘ä»¬æƒ³ï¼Œå‡å¦‚è¿œç¨‹åº“æœ‰æ–°çš„å†…å®¹äº†ï¼Œæˆ‘æƒ³å…‹éš†åˆ°æœ¬åœ°æ¥ å¦‚ä½•å…‹éš†å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œç™»å½•githubï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ï¼Œåå­—å«testgit2.å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/f1/28d8f6728f176194c18ae427ce7672ed66204d.png" alt="git-42"></p><p>å¦‚ä¸‹ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼š</p><p><img src="https://img.vim-cn.com/0b/0105602339f7a63b99cad7ff8fc7e14a51326b.png" alt="git-43"></p><p>ç°åœ¨ï¼Œè¿œç¨‹åº“å·²ç»å‡†å¤‡å¥½äº†ï¼Œä¸‹ä¸€æ­¥æ˜¯ä½¿ç”¨å‘½ä»¤git cloneå…‹éš†ä¸€ä¸ªæœ¬åœ°åº“äº†ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://img.vim-cn.com/88/37b60b1940ea4314a82bc4e60cea35a82e49da.png" alt="git-44"></p><p>æ¥ç€åœ¨æˆ‘æœ¬åœ°ç›®å½•ä¸‹ ç”Ÿæˆtestgit2ç›®å½•äº†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://img.vim-cn.com/2c/6af45fdd7c80dd7a78a7d3c4b0628f78451634.png" alt="git-45"></p><h2 id="å…­ï¼šåˆ›å»ºä¸åˆå¹¶åˆ†æ”¯ã€‚"><a href="#å…­ï¼šåˆ›å»ºä¸åˆå¹¶åˆ†æ”¯ã€‚" class="headerlink" title="å…­ï¼šåˆ›å»ºä¸åˆå¹¶åˆ†æ”¯ã€‚"></a>å…­ï¼šåˆ›å»ºä¸åˆå¹¶åˆ†æ”¯ã€‚</h2><p>åœ¨ ç‰ˆæœ¬å›å¡«é€€é‡Œï¼Œä½ å·²ç»çŸ¥é“ï¼Œæ¯æ¬¡æäº¤ï¼ŒGitéƒ½æŠŠå®ƒä»¬ä¸²æˆä¸€æ¡æ—¶é—´çº¿ï¼Œè¿™æ¡æ—¶é—´çº¿å°±æ˜¯ä¸€ä¸ªåˆ†æ”¯ã€‚æˆªæ­¢åˆ°ç›®å‰ï¼Œåªæœ‰ä¸€æ¡æ—¶é—´çº¿ï¼Œåœ¨Gité‡Œï¼Œè¿™ä¸ªåˆ†æ”¯å«ä¸»åˆ†æ”¯ï¼Œå³masteråˆ†æ”¯ã€‚HEADä¸¥æ ¼æ¥è¯´ä¸æ˜¯æŒ‡å‘æäº¤ï¼Œè€Œæ˜¯æŒ‡å‘masterï¼Œmasteræ‰æ˜¯æŒ‡å‘æäº¤çš„ï¼Œæ‰€ä»¥ï¼ŒHEADæŒ‡å‘çš„å°±æ˜¯å½“å‰åˆ†æ”¯ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥åˆ›å»ºdevåˆ†æ”¯ï¼Œç„¶ååˆ‡æ¢åˆ°devåˆ†æ”¯ä¸Šã€‚å¦‚ä¸‹æ“ä½œï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/c4/b1e17b04d4aa70af0742f860dc755b8bc99d7d.png" alt="git-46"></p><p>git checkout å‘½ä»¤åŠ ä¸Š â€“bå‚æ•°è¡¨ç¤ºåˆ›å»ºå¹¶åˆ‡æ¢ï¼Œç›¸å½“äºå¦‚ä¸‹2æ¡å‘½ä»¤</p><p>git branch dev</p><p>git checkout dev</p><p>git branchæŸ¥çœ‹åˆ†æ”¯ï¼Œä¼šåˆ—å‡ºæ‰€æœ‰çš„åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯å‰é¢ä¼šæ·»åŠ ä¸€ä¸ªæ˜Ÿå·ã€‚ç„¶åæˆ‘ä»¬åœ¨devåˆ†æ”¯ä¸Šç»§ç»­åšdemoï¼Œæ¯”å¦‚æˆ‘ä»¬ç°åœ¨åœ¨readme.txtå†å¢åŠ ä¸€è¡Œ 7777777777777</p><p>é¦–å…ˆæˆ‘ä»¬å…ˆæ¥æŸ¥çœ‹ä¸‹readme.txtå†…å®¹ï¼Œæ¥ç€æ·»åŠ å†…å®¹77777777ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/61/74e0fd9828a5530a5c2b80598ef95a56150630.png" alt="git-47"></p><p>ç°åœ¨devåˆ†æ”¯å·¥ä½œå·²å®Œæˆï¼Œç°åœ¨æˆ‘ä»¬åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯masterä¸Šï¼Œç»§ç»­æŸ¥çœ‹readme.txtå†…å®¹å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/0f/9f901cabdb61019683d516d3de594a9792947a.png" alt="git-48"></p><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥æŠŠdevåˆ†æ”¯ä¸Šçš„å†…å®¹åˆå¹¶åˆ°åˆ†æ”¯masterä¸Šäº†ï¼Œå¯ä»¥åœ¨masteråˆ†æ”¯ä¸Šï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ git merge dev å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://img.vim-cn.com/ff/086018080710de0082910848670b2ed5581007.png" alt="git-49"></p><p>git mergeå‘½ä»¤ç”¨äºåˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ä¸Šï¼Œåˆå¹¶åï¼Œå†æŸ¥çœ‹readme.txtå†…å®¹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå’Œdevåˆ†æ”¯æœ€æ–°æäº¤çš„æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚</p><p>æ³¨æ„åˆ°ä¸Šé¢çš„<em>Fast-forward</em>ä¿¡æ¯ï¼ŒGitå‘Šè¯‰æˆ‘ä»¬ï¼Œè¿™æ¬¡åˆå¹¶æ˜¯â€œå¿«è¿›æ¨¡å¼â€ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥æŠŠmasteræŒ‡å‘devçš„å½“å‰æäº¤ï¼Œæ‰€ä»¥åˆå¹¶é€Ÿåº¦éå¸¸å¿«ã€‚</p><p>åˆå¹¶å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥æ¥ç€åˆ é™¤devåˆ†æ”¯äº†ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/c5/e353896106305a74a6b09cd8092b6fa1abc5fe.png" alt="git-50"></p><p>æ€»ç»“åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯å‘½ä»¤å¦‚ä¸‹ï¼š</p><p>æŸ¥çœ‹åˆ†æ”¯ï¼šgit branch</p><p>åˆ›å»ºåˆ†æ”¯ï¼šgit branch name</p><p>åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout name</p><p>åˆ›å»º+åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout â€“b name</p><p>åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ï¼šgit merge name</p><p>åˆ é™¤åˆ†æ”¯ï¼šgit branch â€“d name</p><p>å¦‚ä½•è§£å†³å†²çªï¼Ÿ</p><p>ä¸‹é¢æˆ‘ä»¬è¿˜æ˜¯ä¸€æ­¥ä¸€æ­¥æ¥ï¼Œå…ˆæ–°å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œæ¯”å¦‚åå­—å«fenzhi1ï¼Œåœ¨readme.txtæ·»åŠ ä¸€è¡Œå†…å®¹8888888ï¼Œç„¶åæäº¤ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://img.vim-cn.com/84/7d8d0c1a6194e8e2020e1c67c10180d2d9a854.png" alt="git-51"></p><p>åŒæ ·ï¼Œæˆ‘ä»¬ç°åœ¨åˆ‡æ¢åˆ°masteråˆ†æ”¯ä¸Šæ¥ï¼Œä¹Ÿåœ¨æœ€åä¸€è¡Œæ·»åŠ å†…å®¹ï¼Œå†…å®¹ä¸º99999999ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://img.vim-cn.com/51/e24702835f75d58af98b0f53c88f10f68b887d.png" alt="git-52"></p><p>ç°åœ¨æˆ‘ä»¬éœ€è¦åœ¨masteråˆ†æ”¯ä¸Šæ¥åˆå¹¶fenzhi1ï¼Œå¦‚ä¸‹æ“ä½œï¼š</p><p><img src="https://img.vim-cn.com/f1/b275dd4dddd145831ddcfa4f963b4be086a314.png" alt="git-53"></p><p>Gitç”¨&lt;&lt;&lt;&lt;&lt;&lt;&lt;ï¼Œ=======ï¼Œ&gt;&gt;&gt;&gt;&gt;&gt;&gt;æ ‡è®°å‡ºä¸åŒåˆ†æ”¯çš„å†…å®¹ï¼Œå…¶ä¸­&lt;&lt;&lt;HEADæ˜¯æŒ‡ä¸»åˆ†æ”¯ä¿®æ”¹çš„å†…å®¹ï¼Œ&gt;&gt;&gt;&gt;&gt;fenzhi1 æ˜¯æŒ‡fenzhi1ä¸Šä¿®æ”¹çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸‹å¦‚ä¸‹åä¿å­˜ï¼š</p><p><img src="https://img.vim-cn.com/a8/fb7edd6ac4187d5ceb3a81ed911398af435177.png" alt="git-54"></p><p>å¦‚æœæˆ‘æƒ³æŸ¥çœ‹åˆ†æ”¯åˆå¹¶çš„æƒ…å†µçš„è¯ï¼Œéœ€è¦ä½¿ç”¨å‘½ä»¤ git log.å‘½ä»¤è¡Œæ¼”ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/e7/a360ed1831a96877f7e79ec49ede5dab668da2.png" alt="git-55"></p><p>3.åˆ†æ”¯ç®¡ç†ç­–ç•¥ã€‚</p><p>é€šå¸¸åˆå¹¶åˆ†æ”¯æ—¶ï¼Œgitä¸€èˆ¬ä½¿ç”¨â€Fast forwardâ€æ¨¡å¼ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œåˆ é™¤åˆ†æ”¯åï¼Œä¼šä¸¢æ‰åˆ†æ”¯ä¿¡æ¯ï¼Œç°åœ¨æˆ‘ä»¬æ¥ä½¿ç”¨å¸¦å‚æ•° â€“no-ffæ¥ç¦ç”¨â€Fast forwardâ€æ¨¡å¼ã€‚é¦–å…ˆæˆ‘ä»¬æ¥åšdemoæ¼”ç¤ºä¸‹ï¼š</p><ol><li>åˆ›å»ºä¸€ä¸ªdevåˆ†æ”¯ã€‚</li><li>ä¿®æ”¹readme.txtå†…å®¹ã€‚</li><li>æ·»åŠ åˆ°æš‚å­˜åŒºã€‚</li><li>åˆ‡æ¢å›ä¸»åˆ†æ”¯(master)ã€‚</li><li>åˆå¹¶devåˆ†æ”¯ï¼Œä½¿ç”¨å‘½ä»¤ git merge â€“no-ff -m â€œæ³¨é‡Šâ€ dev</li><li>æŸ¥çœ‹å†å²è®°å½•</li></ol><p>æˆªå›¾å¦‚ä¸‹ï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/11/9008d317dc0a0d7889c0e7c03fef4f2359cb71.png" alt="git-56"></p><p><strong>åˆ†æ”¯ç­–ç•¥ï¼š</strong>é¦–å…ˆmasterä¸»åˆ†æ”¯åº”è¯¥æ˜¯éå¸¸ç¨³å®šçš„ï¼Œä¹Ÿå°±æ˜¯ç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸å…è®¸åœ¨ä¸Šé¢å¹²æ´»ï¼Œå¹²æ´»ä¸€èˆ¬æƒ…å†µä¸‹åœ¨æ–°å»ºçš„devåˆ†æ”¯ä¸Šå¹²æ´»ï¼Œå¹²å®Œåï¼Œæ¯”å¦‚ä¸Šè¦å‘å¸ƒï¼Œæˆ–è€…è¯´devåˆ†æ”¯ä»£ç ç¨³å®šåå¯ä»¥åˆå¹¶åˆ°ä¸»åˆ†æ”¯masterä¸Šæ¥ã€‚</p><h2 id="ä¸ƒï¼šbugåˆ†æ”¯ï¼š"><a href="#ä¸ƒï¼šbugåˆ†æ”¯ï¼š" class="headerlink" title="ä¸ƒï¼šbugåˆ†æ”¯ï¼š"></a>ä¸ƒï¼šbugåˆ†æ”¯ï¼š</h2><p>åœ¨å¼€å‘ä¸­ï¼Œä¼šç»å¸¸ç¢°åˆ°bugé—®é¢˜ï¼Œé‚£ä¹ˆæœ‰äº†bugå°±éœ€è¦ä¿®å¤ï¼Œåœ¨Gitä¸­ï¼Œåˆ†æ”¯æ˜¯å¾ˆå¼ºå¤§çš„ï¼Œæ¯ä¸ªbugéƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªä¸´æ—¶åˆ†æ”¯æ¥ä¿®å¤ï¼Œä¿®å¤å®Œæˆåï¼Œåˆå¹¶åˆ†æ”¯ï¼Œç„¶åå°†ä¸´æ—¶çš„åˆ†æ”¯åˆ é™¤æ‰ã€‚</p><p>æ¯”å¦‚æˆ‘åœ¨å¼€å‘ä¸­æ¥åˆ°ä¸€ä¸ª404 bugæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª404åˆ†æ”¯æ¥ä¿®å¤å®ƒï¼Œä½†æ˜¯ï¼Œå½“å‰çš„devåˆ†æ”¯ä¸Šçš„å·¥ä½œè¿˜æ²¡æœ‰æäº¤ã€‚æ¯”å¦‚å¦‚ä¸‹ï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/86/e01e194fb3803e210486b1c486f263f84c4505.png" alt="git-57"></p><p>å¹¶ä¸æ˜¯æˆ‘ä¸æƒ³æäº¤ï¼Œè€Œæ˜¯å·¥ä½œè¿›è¡Œåˆ°ä¸€åŠæ—¶å€™ï¼Œæˆ‘ä»¬è¿˜æ— æ³•æäº¤ï¼Œæ¯”å¦‚æˆ‘è¿™ä¸ªåˆ†æ”¯bugè¦2å¤©å®Œæˆï¼Œä½†æ˜¯æˆ‘issue-404 bugéœ€è¦5ä¸ªå°æ—¶å†…å®Œæˆã€‚æ€ä¹ˆåŠå‘¢ï¼Ÿè¿˜å¥½ï¼ŒGitè¿˜æä¾›äº†ä¸€ä¸ªstashåŠŸèƒ½ï¼Œå¯ä»¥æŠŠå½“å‰å·¥ä½œç°åœº â€éšè—èµ·æ¥â€ï¼Œç­‰ä»¥åæ¢å¤ç°åœºåç»§ç»­å·¥ä½œã€‚å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/bb/e8cbd78754734d5c86d6b34e808a2f64292f49.png" alt="git-58"></p><p>æ‰€ä»¥ç°åœ¨æˆ‘å¯ä»¥é€šè¿‡åˆ›å»ºissue-404åˆ†æ”¯æ¥ä¿®å¤bugäº†ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬è¦ç¡®å®šåœ¨é‚£ä¸ªåˆ†æ”¯ä¸Šä¿®å¤bugï¼Œæ¯”å¦‚æˆ‘ç°åœ¨æ˜¯åœ¨ä¸»åˆ†æ”¯masterä¸Šæ¥ä¿®å¤çš„ï¼Œç°åœ¨æˆ‘è¦åœ¨masteråˆ†æ”¯ä¸Šåˆ›å»ºä¸€ä¸ªä¸´æ—¶åˆ†æ”¯ï¼Œæ¼”ç¤ºå¦‚ä¸‹ï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/ab/bbb6c49735bf98bcd72832b567e2dd3482bced.png" alt="git-59"></p><p>ä¿®å¤å®Œæˆåï¼Œåˆ‡æ¢åˆ°masteråˆ†æ”¯ä¸Šï¼Œå¹¶å®Œæˆåˆå¹¶ï¼Œæœ€ååˆ é™¤issue-404åˆ†æ”¯ã€‚æ¼”ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/25/0b85dc031690b5b0eac907650c735fc7b0bffc.png" alt="git-60"></p><p>ç°åœ¨ï¼Œæˆ‘ä»¬å›åˆ°devåˆ†æ”¯ä¸Šå¹²æ´»äº†ã€‚</p><p><img src="https://img.vim-cn.com/01/8fa0c38b1d0b7accf71aa6fd6d6cda219138ac.png" alt="git-61"></p><p>å·¥ä½œåŒºæ˜¯å¹²å‡€çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å·¥ä½œç°åœºå»å“ªé‡Œå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤ git stash listæ¥æŸ¥çœ‹ä¸‹ã€‚å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/11/fc850a37a2b693a11ebd27564e1cf25bd7c0ac.png" alt="git-62"></p><p>å·¥ä½œç°åœºè¿˜åœ¨ï¼ŒGitæŠŠstashå†…å®¹å­˜åœ¨æŸä¸ªåœ°æ–¹äº†ï¼Œä½†æ˜¯éœ€è¦æ¢å¤ä¸€ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹2ä¸ªæ–¹æ³•ï¼š</p><ol><li>git stash applyæ¢å¤ï¼Œæ¢å¤åï¼Œstashå†…å®¹å¹¶ä¸åˆ é™¤ï¼Œä½ éœ€è¦ä½¿ç”¨å‘½ä»¤git stash dropæ¥åˆ é™¤ã€‚</li><li>å¦ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨git stash pop,æ¢å¤çš„åŒæ—¶æŠŠstashå†…å®¹ä¹Ÿåˆ é™¤äº†ã€‚</li></ol><p>â€‹ æ¼”ç¤ºå¦‚ä¸‹</p><p><img src="https://img.vim-cn.com/bb/87d905b61da33219d648b687d5586b1f1f3e05.png" alt="git-63"></p><h2 id="å…«ï¼šå¤šäººåä½œ"><a href="#å…«ï¼šå¤šäººåä½œ" class="headerlink" title="å…«ï¼šå¤šäººåä½œ"></a>å…«ï¼šå¤šäººåä½œ</h2><p>å½“ä½ ä»è¿œç¨‹åº“å…‹éš†æ—¶å€™ï¼Œå®é™…ä¸ŠGitè‡ªåŠ¨æŠŠæœ¬åœ°çš„masteråˆ†æ”¯å’Œè¿œç¨‹çš„masteråˆ†æ”¯å¯¹åº”èµ·æ¥äº†ï¼Œå¹¶ä¸”è¿œç¨‹åº“çš„é»˜è®¤åç§°æ˜¯originã€‚</p><ol><li>è¦æŸ¥çœ‹è¿œç¨‹åº“çš„ä¿¡æ¯ ä½¿ç”¨ git remote</li><li>è¦æŸ¥çœ‹è¿œç¨‹åº“çš„è¯¦ç»†ä¿¡æ¯ ä½¿ç”¨ git remote â€“v</li></ol><p>å¦‚ä¸‹æ¼”ç¤ºï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/7e/7fe36e8a6dfa09923ec2d8bc2b56e37f32a43d.png" alt="git-64"></p><h3 id="ä¸€ï¼šæ¨é€åˆ†æ”¯ï¼š"><a href="#ä¸€ï¼šæ¨é€åˆ†æ”¯ï¼š" class="headerlink" title="ä¸€ï¼šæ¨é€åˆ†æ”¯ï¼š"></a><strong>ä¸€ï¼šæ¨é€åˆ†æ”¯ï¼š</strong></h3><p>æ¨é€åˆ†æ”¯å°±æ˜¯æŠŠè¯¥åˆ†æ”¯ä¸Šæ‰€æœ‰æœ¬åœ°æäº¤åˆ°è¿œç¨‹åº“ä¸­ï¼Œæ¨é€æ—¶ï¼Œè¦æŒ‡å®šæœ¬åœ°åˆ†æ”¯ï¼Œè¿™æ ·ï¼ŒGitå°±ä¼šæŠŠè¯¥åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹åº“å¯¹åº”çš„è¿œç¨‹åˆ†æ”¯ä¸Šï¼š</p><p>ä½¿ç”¨å‘½ä»¤ git push origin master</p><p>æ¯”å¦‚æˆ‘ç°åœ¨çš„githubä¸Šçš„readme.txtä»£ç å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/15/61f82d44dde26ddd9dbd58d077a7dd4799734e.png" alt="git-65"></p><p>æœ¬åœ°çš„readme.txtä»£ç å¦‚ä¸‹ï¼š</p><p>â€‹ <img src="https://img.vim-cn.com/95/173a2a31be6ebeac67427bd8df32856f7a98ac.png" alt="git-66"></p><p>ç°åœ¨æˆ‘æƒ³æŠŠæœ¬åœ°æ›´æ–°çš„readme.txtä»£ç æ¨é€åˆ°è¿œç¨‹åº“ä¸­ï¼Œä½¿ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/29/c50d67ff0778751e70a4cbd2f51813322633c7.png" alt="git-67"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸Šï¼Œæ¨é€æˆåŠŸï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­æ¥æˆªå›¾githubä¸Šçš„readme.txtå†…å®¹ å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/74/b988491115c711c22bab5b9366e777091d518e.png" alt="git-68"></p><p>å¯ä»¥çœ‹åˆ° æ¨é€æˆåŠŸäº†ï¼Œå¦‚æœæˆ‘ä»¬ç°åœ¨è¦æ¨é€åˆ°å…¶ä»–åˆ†æ”¯ï¼Œæ¯”å¦‚devåˆ†æ”¯ä¸Šï¼Œæˆ‘ä»¬è¿˜æ˜¯é‚£ä¸ªå‘½ä»¤ git push origin dev</p><p>é‚£ä¹ˆä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé‚£äº›åˆ†æ”¯è¦æ¨é€å‘¢ï¼Ÿ</p><ol><li>masteråˆ†æ”¯æ˜¯ä¸»åˆ†æ”¯ï¼Œå› æ­¤è¦æ—¶åˆ»ä¸è¿œç¨‹åŒæ­¥ã€‚</li><li>ä¸€äº›ä¿®å¤bugåˆ†æ”¯ä¸éœ€è¦æ¨é€åˆ°è¿œç¨‹å»ï¼Œå¯ä»¥å…ˆåˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Šï¼Œç„¶åæŠŠä¸»åˆ†æ”¯masteræ¨é€åˆ°è¿œç¨‹å»ã€‚</li></ol><h3 id="äºŒï¼šæŠ“å–åˆ†æ”¯ï¼š"><a href="#äºŒï¼šæŠ“å–åˆ†æ”¯ï¼š" class="headerlink" title="äºŒï¼šæŠ“å–åˆ†æ”¯ï¼š"></a><strong>äºŒï¼šæŠ“å–åˆ†æ”¯ï¼š</strong></h3><p>å¤šäººåä½œæ—¶ï¼Œå¤§å®¶éƒ½ä¼šå¾€masteråˆ†æ”¯ä¸Šæ¨é€å„è‡ªçš„ä¿®æ”¹ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿå¦å¤–ä¸€ä¸ªåŒäº‹ï¼Œå¯ä»¥åœ¨å¦ä¸€å°ç”µè„‘ä¸Šï¼ˆæ³¨æ„è¦æŠŠSSH keyæ·»åŠ åˆ°githubä¸Šï¼‰æˆ–è€…åŒä¸€å°ç”µè„‘ä¸Šå¦å¤–ä¸€ä¸ªç›®å½•å…‹éš†ï¼Œæ–°å»ºä¸€ä¸ªç›®å½•åå­—å«testgit2</p><p>ä½†æ˜¯æˆ‘é¦–å…ˆè¦æŠŠdevåˆ†æ”¯ä¹Ÿè¦æ¨é€åˆ°è¿œç¨‹å»ï¼Œå¦‚ä¸‹</p><p><img src="https://img.vim-cn.com/1f/8d9edf66ede77f034e7e5c12b97b1f236eca64.jpg" alt="git-69"></p><p>æ¥ç€è¿›å…¥testgit2ç›®å½•ï¼Œè¿›è¡Œå…‹éš†è¿œç¨‹çš„åº“åˆ°æœ¬åœ°æ¥ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/01/979d865032561133cc0a4f2966509512844e90.png" alt="git-70"></p><p>ç°åœ¨ç›®å½•ä¸‹ç”Ÿæˆæœ‰å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://img.vim-cn.com/20/c45d0f325d551b44450bd8516803044d9b73ed.png" alt="git-71"></p><p>ç°åœ¨æˆ‘ä»¬çš„å°ä¼™ä¼´è¦åœ¨devåˆ†æ”¯ä¸Šåšå¼€å‘ï¼Œå°±å¿…é¡»æŠŠè¿œç¨‹çš„originçš„devåˆ†æ”¯åˆ°æœ¬åœ°æ¥ï¼Œäºæ˜¯å¯ä»¥ä½¿ç”¨å‘½ä»¤åˆ›å»ºæœ¬åœ°devåˆ†æ”¯ï¼šgit checkout â€“b dev origin/dev</p><p>ç°åœ¨å°ä¼™ä¼´ä»¬å°±å¯ä»¥åœ¨devåˆ†æ”¯ä¸Šåšå¼€å‘äº†ï¼Œå¼€å‘å®ŒæˆåæŠŠdevåˆ†æ”¯æ¨é€åˆ°è¿œç¨‹åº“æ—¶ã€‚</p><p>å¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/cf/ac7389565ee9d78b5c3bf90c72019ef1e81e4d.png" alt="git-72"></p><p>å°ä¼™ä¼´ä»¬å·²ç»å‘origin/devåˆ†æ”¯ä¸Šæ¨é€äº†æäº¤ï¼Œè€Œæˆ‘åœ¨æˆ‘çš„ç›®å½•æ–‡ä»¶ä¸‹ä¹Ÿå¯¹åŒæ ·çš„æ–‡ä»¶åŒä¸ªåœ°æ–¹ä½œäº†ä¿®æ”¹ï¼Œä¹Ÿè¯•å›¾æ¨é€åˆ°è¿œç¨‹åº“æ—¶ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/3b/fe9e1b65c30dea40d92884a3b07168560569ed.png" alt="git-73"></p><p>ç”±ä¸Šé¢å¯çŸ¥ï¼šæ¨é€å¤±è´¥ï¼Œå› ä¸ºæˆ‘çš„å°ä¼™ä¼´æœ€æ–°æäº¤çš„å’Œæˆ‘è¯•å›¾æ¨é€çš„æœ‰å†²çªï¼Œè§£å†³çš„åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼Œä¸Šé¢å·²ç»æç¤ºæˆ‘ä»¬ï¼Œå…ˆç”¨git pullæŠŠæœ€æ–°çš„æäº¤ä»origin/devæŠ“ä¸‹æ¥ï¼Œç„¶ååœ¨æœ¬åœ°åˆå¹¶ï¼Œè§£å†³å†²çªï¼Œå†æ¨é€ã€‚</p><p><img src="https://img.vim-cn.com/24/882fe4235b1c8cb210be4f9972a739994d680f.png" alt="git-74"></p><p><em>git pull</em>ä¹Ÿå¤±è´¥äº†ï¼ŒåŸå› æ˜¯æ²¡æœ‰æŒ‡å®šæœ¬åœ°devåˆ†æ”¯ä¸è¿œç¨‹origin/devåˆ†æ”¯çš„é“¾æ¥ï¼Œæ ¹æ®æç¤ºï¼Œè®¾ç½®devå’Œorigin/devçš„é“¾æ¥ï¼šå¦‚ä¸‹ï¼š</p><p><img src="https://img.vim-cn.com/ec/818fce2318330df62c5c9e33d3ae138817b9a1.png" alt="git-75"></p><p>è¿™å›<em>git pull</em>æˆåŠŸï¼Œä½†æ˜¯åˆå¹¶æœ‰å†²çªï¼Œéœ€è¦æ‰‹åŠ¨è§£å†³ï¼Œè§£å†³çš„æ–¹æ³•å’Œåˆ†æ”¯ç®¡ç†ä¸­çš„ è§£å†³å†²çªå®Œå…¨ä¸€æ ·ã€‚è§£å†³åï¼Œæäº¤ï¼Œå†pushï¼š</p><p>æˆ‘ä»¬å¯ä»¥å…ˆæ¥çœ‹çœ‹readme.txtå†…å®¹äº†ã€‚</p><p><img src="https://img.vim-cn.com/80/fc74cd7cdd8ba25e95f36a11effbe056fb87c7.png" alt="git-76"></p><p>ç°åœ¨æ‰‹åŠ¨å·²ç»è§£å†³å®Œäº†ï¼Œæˆ‘æ¥åœ¨éœ€è¦å†æäº¤ï¼Œå†pushåˆ°è¿œç¨‹åº“é‡Œé¢å»ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://img.vim-cn.com/8d/53c7de472c5c3cc8c247e05a39f116c15010de.png" alt="git-77"></p><p>å› æ­¤ï¼šå¤šäººåä½œå·¥ä½œæ¨¡å¼ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š</p><ol><li>é¦–å…ˆï¼Œå¯ä»¥è¯•å›¾ç”¨git push origin branch-nameæ¨é€è‡ªå·±çš„ä¿®æ”¹.</li><li>å¦‚æœæ¨é€å¤±è´¥ï¼Œåˆ™å› ä¸ºè¿œç¨‹åˆ†æ”¯æ¯”ä½ çš„æœ¬åœ°æ›´æ–°æ—©ï¼Œéœ€è¦å…ˆç”¨git pullè¯•å›¾åˆå¹¶ã€‚</li><li>å¦‚æœåˆå¹¶æœ‰å†²çªï¼Œåˆ™éœ€è¦è§£å†³å†²çªï¼Œå¹¶åœ¨æœ¬åœ°æäº¤ã€‚å†ç”¨git push origin branch-nameæ¨é€ã€‚</li></ol><h2 id="ä¹-GitåŸºæœ¬å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š"><a href="#ä¹-GitåŸºæœ¬å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š" class="headerlink" title="ä¹. GitåŸºæœ¬å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š"></a>ä¹. GitåŸºæœ¬å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š</h2><p>mkdirï¼š XX (åˆ›å»ºä¸€ä¸ªç©ºç›®å½• XXæŒ‡ç›®å½•å)</p><p>pwdï¼š æ˜¾ç¤ºå½“å‰ç›®å½•çš„è·¯å¾„ã€‚</p><p>git init æŠŠå½“å‰çš„ç›®å½•å˜æˆå¯ä»¥ç®¡ç†çš„gitä»“åº“ï¼Œç”Ÿæˆéšè—.gitæ–‡ä»¶ã€‚</p><p>git add XX æŠŠxxæ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºå»ã€‚</p><p>git commit â€“m â€œXXâ€ æäº¤æ–‡ä»¶ â€“m åé¢çš„æ˜¯æ³¨é‡Šã€‚</p><p>git status æŸ¥çœ‹ä»“åº“çŠ¶æ€</p><p>git diff XX æŸ¥çœ‹XXæ–‡ä»¶ä¿®æ”¹äº†é‚£äº›å†…å®¹</p><p>git log æŸ¥çœ‹å†å²è®°å½•</p><p>git reset â€“hard HEAD^ æˆ–è€… git reset â€“hard HEAD~ å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬</p><p>â€‹ (å¦‚æœæƒ³å›é€€åˆ°100ä¸ªç‰ˆæœ¬ï¼Œä½¿ç”¨git reset â€“hard HEAD~100 )</p><p>cat XX æŸ¥çœ‹XXæ–‡ä»¶å†…å®¹</p><p>git reflog æŸ¥çœ‹å†å²è®°å½•çš„ç‰ˆæœ¬å·id</p><p>git checkout â€“ XX æŠŠXXæ–‡ä»¶åœ¨å·¥ä½œåŒºçš„ä¿®æ”¹å…¨éƒ¨æ’¤é”€ã€‚</p><p>git rm XX åˆ é™¤XXæ–‡ä»¶</p><p>git remote add origin <a href="https://github.com/tugenhua0707/testgit" target="_blank" rel="noopener">https://github.com/tugenhua0707/testgit</a> å…³è”ä¸€ä¸ªè¿œç¨‹åº“</p><p>git push â€“u(ç¬¬ä¸€æ¬¡è¦ç”¨-u ä»¥åä¸éœ€è¦) origin master æŠŠå½“å‰masteråˆ†æ”¯æ¨é€åˆ°è¿œç¨‹åº“</p><p>git clone <a href="https://github.com/tugenhua0707/testgit" target="_blank" rel="noopener">https://github.com/tugenhua0707/testgit</a> ä»è¿œç¨‹åº“ä¸­å…‹éš†</p><p>git checkout â€“b dev åˆ›å»ºdevåˆ†æ”¯ å¹¶åˆ‡æ¢åˆ°devåˆ†æ”¯ä¸Š</p><p>git branch æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„åˆ†æ”¯</p><p>git checkout master åˆ‡æ¢å›masteråˆ†æ”¯</p><p>git merge dev åœ¨å½“å‰çš„åˆ†æ”¯ä¸Šåˆå¹¶devåˆ†æ”¯</p><p>git branch â€“d dev åˆ é™¤devåˆ†æ”¯</p><p>git branch name åˆ›å»ºåˆ†æ”¯</p><p>git stash æŠŠå½“å‰çš„å·¥ä½œéšè—èµ·æ¥ ç­‰ä»¥åæ¢å¤ç°åœºåç»§ç»­å·¥ä½œ</p><p>git stash list æŸ¥çœ‹æ‰€æœ‰è¢«éšè—çš„æ–‡ä»¶åˆ—è¡¨</p><p>git stash apply æ¢å¤è¢«éšè—çš„æ–‡ä»¶ï¼Œä½†æ˜¯å†…å®¹ä¸åˆ é™¤</p><p>git stash drop åˆ é™¤æ–‡ä»¶</p><p>git stash pop æ¢å¤æ–‡ä»¶çš„åŒæ—¶ ä¹Ÿåˆ é™¤æ–‡ä»¶</p><p>git remote æŸ¥çœ‹è¿œç¨‹åº“çš„ä¿¡æ¯</p><p>git remote â€“v æŸ¥çœ‹è¿œç¨‹åº“çš„è¯¦ç»†ä¿¡æ¯</p><p>git push origin master Gitä¼šæŠŠmasteråˆ†æ”¯æ¨é€åˆ°è¿œç¨‹åº“å¯¹åº”çš„è¿œç¨‹åˆ†æ”¯ä¸Š</p><h2 id="å-Gitåˆ†æ”¯ç»ƒä¹ å¹³å°-å¿«é€Ÿé€šé“"><a href="#å-Gitåˆ†æ”¯ç»ƒä¹ å¹³å°-å¿«é€Ÿé€šé“" class="headerlink" title="å. Gitåˆ†æ”¯ç»ƒä¹ å¹³å°    å¿«é€Ÿé€šé“"></a>å. Gitåˆ†æ”¯ç»ƒä¹ å¹³å° <a href="https://learngitbranching.js.org/?demo=&locale=zh_CN" target="_blank" rel="noopener">å¿«é€Ÿé€šé“</a></h2><!-- rebuild by neat -->]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonçš„GCæœºåˆ¶</title>
    <url>/2020/06/15/Python%E7%9A%84GC%E6%9C%BA%E5%88%B6/</url>
    <content><![CDATA[<!-- build time:Mon Jun 22 2020 00:36:52 GMT+0800 (GMT+08:00) --><h1 id="Pythonçš„GCæœºåˆ¶"><a href="#Pythonçš„GCæœºåˆ¶" class="headerlink" title="Pythonçš„GCæœºåˆ¶"></a>Pythonçš„GCæœºåˆ¶</h1><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>pythoné‡‡ç”¨çš„æ˜¯<strong>å¼•ç”¨è®¡æ•°</strong>æœºåˆ¶ä¸ºä¸»ï¼Œ<strong>æ ‡è®°-æ¸…é™¤</strong>å’Œ<strong>åˆ†ä»£æ”¶é›†</strong>ä¸¤ç§æœºåˆ¶ä¸ºè¾…çš„ç­–ç•¥ã€‚</p><h3 id="å¼•ç”¨è®¡æ•°"><a href="#å¼•ç”¨è®¡æ•°" class="headerlink" title="å¼•ç”¨è®¡æ•°"></a>å¼•ç”¨è®¡æ•°</h3><ul><li>Pythonè¯­è¨€é»˜è®¤é‡‡ç”¨çš„åƒåœ¾æ”¶é›†æœºåˆ¶æ˜¯ã€å¼•ç”¨è®¡æ•°æ³• <code>Reference Counting</code>ã€ï¼Œè¯¥ç®—æ³•æœ€æ—©George E. Collinsåœ¨1960çš„æ—¶å€™é¦–æ¬¡æå‡ºï¼Œ50å¹´åçš„ä»Šå¤©ï¼Œè¯¥ç®—æ³•ä¾ç„¶è¢«å¾ˆå¤šç¼–ç¨‹è¯­è¨€ä½¿ç”¨ã€‚</li><li>ã€å¼•ç”¨è®¡æ•°æ³•ã€çš„åŸç†æ˜¯ï¼šæ¯ä¸ªå¯¹è±¡ç»´æŠ¤ä¸€ä¸ª<code>ob_ref</code>å­—æ®µï¼Œç”¨æ¥è®°å½•è¯¥å¯¹è±¡å½“å‰è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œæ¯å½“æ–°çš„å¼•ç”¨æŒ‡å‘è¯¥å¯¹è±¡æ—¶ï¼Œå®ƒçš„å¼•ç”¨è®¡æ•°<code>ob_ref</code>åŠ <code>1</code>ï¼Œæ¯å½“è¯¥å¯¹è±¡çš„å¼•ç”¨å¤±æ•ˆæ—¶è®¡æ•°<code>ob_ref</code>å‡<code>1</code>ï¼Œä¸€æ—¦å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ä¸º<code>0</code>ï¼Œè¯¥å¯¹è±¡ç«‹å³è¢«å›æ”¶ï¼Œå¯¹è±¡å ç”¨çš„å†…å­˜ç©ºé—´å°†è¢«é‡Šæ”¾ã€‚</li><li>å®ƒçš„ç¼ºç‚¹æ˜¯éœ€è¦é¢å¤–çš„ç©ºé—´ç»´æŠ¤å¼•ç”¨è®¡æ•°ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯å…¶æ¬¡çš„ï¼Œä¸è¿‡æœ€ä¸»è¦çš„é—®é¢˜æ˜¯å®ƒä¸èƒ½è§£å†³å¯¹è±¡çš„â€œå¾ªç¯å¼•ç”¨â€ï¼Œå› æ­¤ï¼Œä¹Ÿæœ‰å¾ˆå¤šè¯­è¨€æ¯”å¦‚Javaå¹¶æ²¡æœ‰é‡‡ç”¨è¯¥ç®—æ³•åšæ¥åƒåœ¾çš„æ”¶é›†æœºåˆ¶ã€‚</li></ul><h3 id="å¼•ç”¨è®¡æ•°æ¡ˆä¾‹"><a href="#å¼•ç”¨è®¡æ•°æ¡ˆä¾‹" class="headerlink" title="å¼•ç”¨è®¡æ•°æ¡ˆä¾‹"></a>å¼•ç”¨è®¡æ•°æ¡ˆä¾‹</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">'''åˆå§‹åŒ–å¯¹è±¡'''</span></span><br><span class="line">        print(<span class="string">'object born id:%s'</span> %str(hex(id(self))))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''å¾ªç¯å¼•ç”¨å˜é‡ä¸åˆ é™¤å˜é‡'''</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        c1=A()</span><br><span class="line">        <span class="keyword">del</span> c1</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(c)</span>:</span></span><br><span class="line">    print(<span class="string">'obejct refcount is: '</span>,sys.getrefcount(c)) <span class="comment">#getrefcount()æ–¹æ³•ç”¨äºè¿”å›å¯¹è±¡çš„å¼•ç”¨è®¡æ•°</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">   <span class="comment">#ç”Ÿæˆå¯¹è±¡</span></span><br><span class="line">    a=A()</span><br><span class="line">    func(a)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#å¢åŠ å¼•ç”¨</span></span><br><span class="line">    b=a</span><br><span class="line">    func(a)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#é”€æ¯å¼•ç”¨å¯¹è±¡b</span></span><br><span class="line">    <span class="keyword">del</span> b</span><br><span class="line">    func(a)</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">object born id:<span class="number">0x265c56a56d8</span></span><br><span class="line">obejct refcount <span class="keyword">is</span>:  <span class="number">4</span></span><br><span class="line">obejct refcount <span class="keyword">is</span>:  <span class="number">5</span></span><br><span class="line">obejct refcount <span class="keyword">is</span>:  <span class="number">4</span></span><br></pre></td></tr></table></figure><h4 id="å¯¼è‡´å¼•ç”¨è®¡æ•°-1çš„æƒ…å†µ"><a href="#å¯¼è‡´å¼•ç”¨è®¡æ•°-1çš„æƒ…å†µ" class="headerlink" title="å¯¼è‡´å¼•ç”¨è®¡æ•°+1çš„æƒ…å†µ"></a>å¯¼è‡´å¼•ç”¨è®¡æ•°+1çš„æƒ…å†µ</h4><ul><li>å¯¹è±¡è¢«åˆ›å»ºï¼Œä¾‹å¦‚a=23</li><li>å¯¹è±¡è¢«å¼•ç”¨ï¼Œä¾‹å¦‚b=a</li><li>å¯¹è±¡è¢«ä½œä¸ºå‚æ•°ï¼Œä¼ å…¥åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œä¾‹å¦‚<code>func(a)</code></li><li>å¯¹è±¡ä½œä¸ºä¸€ä¸ªå…ƒç´ ï¼Œå­˜å‚¨åœ¨å®¹å™¨ä¸­ï¼Œä¾‹å¦‚<code>list1=[a,a]</code></li></ul><h4 id="å¯¼è‡´å¼•ç”¨è®¡æ•°-1çš„æƒ…å†µ-1"><a href="#å¯¼è‡´å¼•ç”¨è®¡æ•°-1çš„æƒ…å†µ-1" class="headerlink" title="å¯¼è‡´å¼•ç”¨è®¡æ•°-1çš„æƒ…å†µ"></a>å¯¼è‡´å¼•ç”¨è®¡æ•°-1çš„æƒ…å†µ</h4><ul><li>å¯¹è±¡çš„åˆ«åè¢«æ˜¾å¼é”€æ¯ï¼Œä¾‹å¦‚<code>del a</code></li><li>å¯¹è±¡çš„åˆ«åè¢«èµ‹äºˆæ–°çš„å¯¹è±¡ï¼Œä¾‹å¦‚<code>a=24</code></li><li>ä¸€ä¸ªå¯¹è±¡ç¦»å¼€å®ƒçš„ä½œç”¨åŸŸï¼Œä¾‹å¦‚få‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œ<code>func</code>å‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡ï¼ˆå…¨å±€å˜é‡ä¸ä¼šï¼‰</li><li>å¯¹è±¡æ‰€åœ¨çš„å®¹å™¨è¢«é”€æ¯ï¼Œæˆ–ä»å®¹å™¨ä¸­åˆ é™¤å¯¹è±¡</li></ul><h3 id="å¾ªç¯å¼•ç”¨å¯¼è‡´å†…å­˜æ³„éœ²"><a href="#å¾ªç¯å¼•ç”¨å¯¼è‡´å†…å­˜æ³„éœ²" class="headerlink" title="å¾ªç¯å¼•ç”¨å¯¼è‡´å†…å­˜æ³„éœ²"></a>å¾ªç¯å¼•ç”¨å¯¼è‡´å†…å­˜æ³„éœ²</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''å¾ªç¯å¼•ç”¨'''</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        c1=A()</span><br><span class="line">        c2=A()</span><br><span class="line">        c1.t=c2</span><br><span class="line">        c2.t=c1</span><br><span class="line">        <span class="keyword">del</span> c1</span><br><span class="line">        <span class="keyword">del</span> c2</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœ</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">id:<span class="number">0x1feb9f691d0</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69438</span></span><br><span class="line">object born id:<span class="number">0x1feb9f690b8</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69d68</span></span><br><span class="line">object born id:<span class="number">0x1feb9f690f0</span></span><br><span class="line">object born id:<span class="number">0x1feb9f694e0</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69f60</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69eb8</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69128</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69c88</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69470</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69e48</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69ef0</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69dd8</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69e10</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69ac8</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69198</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69cf8</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69da0</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69c18</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69d30</span></span><br><span class="line">object born id:<span class="number">0x1feb9f69ba8</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><ul><li>åˆ›å»ºäº†<code>c1</code>ï¼Œ<code>c2</code>åï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°éƒ½æ˜¯<code>1</code>ï¼Œæ‰§è¡Œ<code>c1.t=c2</code>å’Œ<code>c2.t=c1</code>åï¼Œå¼•ç”¨è®¡æ•°å˜æˆ<code>2</code>.</li><li>åœ¨<code>del c1</code>åï¼Œå†…å­˜<code>c1</code>çš„å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å˜ä¸º<code>1</code>ï¼Œç”±äºä¸æ˜¯ä¸º<code>0</code>ï¼Œæ‰€ä»¥<code>c1</code>çš„å¯¹è±¡ä¸ä¼šè¢«é”€æ¯,åŒç†ï¼Œåœ¨<code>del c2</code>åä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</li><li>è™½ç„¶å®ƒä»¬ä¸¤ä¸ªçš„å¯¹è±¡éƒ½æ˜¯å¯ä»¥è¢«é”€æ¯çš„ï¼Œä½†æ˜¯ç”±äºå¾ªç¯å¼•ç”¨ï¼Œå¯¼è‡´åƒåœ¾å›æ”¶å™¨éƒ½ä¸ä¼šå›æ”¶å®ƒä»¬ï¼Œæ‰€ä»¥å°±ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ã€‚</li></ul><h3 id="åˆ†ä»£å›æ”¶"><a href="#åˆ†ä»£å›æ”¶" class="headerlink" title="åˆ†ä»£å›æ”¶"></a>åˆ†ä»£å›æ”¶</h3><ul><li>åˆ†ä»£å›æ”¶æ˜¯ä¸€ç§ä»¥ç©ºé—´æ¢æ—¶é—´çš„æ“ä½œæ–¹å¼ï¼ŒPythonå°†å†…å­˜æ ¹æ®å¯¹è±¡çš„å­˜æ´»æ—¶é—´åˆ’åˆ†ä¸ºä¸åŒçš„é›†åˆï¼Œæ¯ä¸ªé›†åˆç§°ä¸ºä¸€ä¸ªä»£ï¼ŒPythonå°†å†…å­˜åˆ†ä¸ºäº†3â€œä»£â€ï¼Œåˆ†åˆ«ä¸ºå¹´è½»ä»£ï¼ˆç¬¬0ä»£ï¼‰ã€ä¸­å¹´ä»£ï¼ˆç¬¬1ä»£ï¼‰ã€è€å¹´ä»£ï¼ˆç¬¬2ä»£ï¼‰ï¼Œä»–ä»¬å¯¹åº”çš„æ˜¯3ä¸ªé“¾è¡¨ï¼Œå®ƒä»¬çš„åƒåœ¾æ”¶é›†é¢‘ç‡ä¸å¯¹è±¡çš„å­˜æ´»æ—¶é—´çš„å¢å¤§è€Œå‡å°ã€‚</li><li>æ–°åˆ›å»ºçš„å¯¹è±¡éƒ½ä¼šåˆ†é…åœ¨<strong>å¹´è½»ä»£</strong>ï¼Œå¹´è½»ä»£é“¾è¡¨çš„æ€»æ•°è¾¾åˆ°ä¸Šé™æ—¶ï¼ŒPythonåƒåœ¾æ”¶é›†æœºåˆ¶å°±ä¼šè¢«è§¦å‘ï¼ŒæŠŠé‚£äº›å¯ä»¥è¢«å›æ”¶çš„å¯¹è±¡å›æ”¶æ‰ï¼Œè€Œé‚£äº›ä¸ä¼šå›æ”¶çš„å¯¹è±¡å°±ä¼šè¢«ç§»åˆ°<strong>ä¸­å¹´ä»£</strong>å»ï¼Œä¾æ­¤ç±»æ¨ï¼Œ<strong>è€å¹´ä»£</strong>ä¸­çš„å¯¹è±¡æ˜¯å­˜æ´»æ—¶é—´æœ€ä¹…çš„å¯¹è±¡ï¼Œç”šè‡³æ˜¯å­˜æ´»äºæ•´ä¸ªç³»ç»Ÿçš„ç”Ÿå‘½å‘¨æœŸå†…ã€‚</li><li>åŒæ—¶ï¼Œåˆ†ä»£å›æ”¶æ˜¯å»ºç«‹åœ¨æ ‡è®°æ¸…é™¤æŠ€æœ¯åŸºç¡€ä¹‹ä¸Šã€‚åˆ†ä»£å›æ”¶åŒæ ·ä½œä¸ºPythonçš„è¾…åŠ©åƒåœ¾æ”¶é›†æŠ€æœ¯å¤„ç†é‚£äº›å®¹å™¨å¯¹è±¡</li></ul><h3 id="åƒåœ¾å›æ”¶"><a href="#åƒåœ¾å›æ”¶" class="headerlink" title="åƒåœ¾å›æ”¶"></a>åƒåœ¾å›æ”¶</h3><p>æœ‰ä¸‰ç§æƒ…å†µä¼šè§¦å‘åƒåœ¾å›æ”¶ï¼š</p><ol><li>è°ƒç”¨<code>gc.collect()</code>,éœ€è¦å…ˆå¯¼å…¥<code>gc</code>æ¨¡å—ã€‚</li><li>å½“<code>gc</code>æ¨¡å—çš„è®¡æ•°å™¨è¾¾åˆ°é˜€å€¼çš„æ—¶å€™ã€‚</li><li>ç¨‹åºé€€å‡ºçš„æ—¶å€™ã€‚</li></ol><h4 id="gcæ¨¡å—"><a href="#gcæ¨¡å—" class="headerlink" title="gcæ¨¡å—"></a>gcæ¨¡å—</h4><p>gcæ¨¡å—æä¾›ä¸€ä¸ªæ¥å£ç»™å¼€å‘è€…è®¾ç½®åƒåœ¾å›æ”¶çš„é€‰é¡¹ã€‚ä¸Šé¢è¯´åˆ°ï¼Œé‡‡ç”¨å¼•ç”¨è®¡æ•°çš„æ–¹æ³•ç®¡ç†å†…å­˜çš„ä¸€ä¸ªç¼ºé™·æ˜¯å¾ªç¯å¼•ç”¨ï¼Œè€Œgcæ¨¡å—çš„ä¸€ä¸ªä¸»è¦åŠŸèƒ½å°±æ˜¯è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚</p><p><strong>å¸¸ç”¨å‡½æ•°</strong>ï¼š</p><ol><li><code>gc.set_debug(flags)</code> è®¾ç½®gcçš„debugæ—¥å¿—ï¼Œä¸€èˆ¬è®¾ç½®ä¸º<code>gc.DEBUG_LEAK</code></li><li><code>gc.collect([generation])</code><br>æ˜¾å¼è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œå¯ä»¥è¾“å…¥å‚æ•°ï¼Œ<code>0</code>ä»£è¡¨åªæ£€æŸ¥ç¬¬ä¸€ä»£çš„å¯¹è±¡ï¼Œ<code>1</code>ä»£è¡¨æ£€æŸ¥ä¸€ï¼ŒäºŒä»£çš„å¯¹è±¡ï¼Œ<code>2</code>ä»£è¡¨æ£€æŸ¥ä¸€ï¼ŒäºŒï¼Œä¸‰ä»£çš„å¯¹è±¡ï¼Œå¦‚æœä¸ä¼ å‚æ•°ï¼Œæ‰§è¡Œä¸€ä¸ª<code>full collection</code>ï¼Œä¹Ÿå°±æ˜¯ç­‰äºä¼ 2ã€‚è¿”å›ä¸å¯è¾¾ï¼ˆunreachable objectsï¼‰å¯¹è±¡çš„æ•°ç›®ã€‚</li><li><code>gc.set_threshold(threshold0[, threshold1[, threshold2])</code><br>è®¾ç½®è‡ªåŠ¨æ‰§è¡Œåƒåœ¾å›æ”¶çš„é¢‘ç‡ã€‚</li><li><code>gc.get_count()</code> è·å–å½“å‰è‡ªåŠ¨æ‰§è¡Œåƒåœ¾å›æ”¶çš„è®¡æ•°å™¨ï¼Œè¿”å›ä¸€ä¸ªé•¿åº¦ä¸º3çš„åˆ—è¡¨</li></ol><p>æ‰©å±•èµ„æ–™ï¼š<a href="https://docs.python.org/3.5/library/gc.html" target="_blank" rel="noopener">Garbage Collector interface</a></p><h4 id="gcå®è·µæ¡ˆä¾‹"><a href="#gcå®è·µæ¡ˆä¾‹" class="headerlink" title="gcå®è·µæ¡ˆä¾‹"></a>gcå®è·µæ¡ˆä¾‹</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f3</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''å¾ªç¯å¼•ç”¨'''</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        c1=A()</span><br><span class="line">        c2=A()</span><br><span class="line">        c1.t=c2</span><br><span class="line">        c2.t=c1</span><br><span class="line">        <span class="keyword">del</span> c1</span><br><span class="line">        <span class="keyword">del</span> c2</span><br><span class="line">        <span class="comment">#å¢åŠ åƒåœ¾å›æ”¶æœºåˆ¶</span></span><br><span class="line">        print(gc.garbage)</span><br><span class="line">        print(gc.collect())</span><br><span class="line">        print(gc.garbage)</span><br><span class="line">        time.sleep(<span class="number">10</span>)</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœ</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">object born id:<span class="number">0x21d1a5dc470</span></span><br><span class="line">object born id:<span class="number">0x21d1a5dc9e8</span></span><br><span class="line">[]</span><br><span class="line"><span class="number">4</span></span><br><span class="line">gc: collectable &lt;A <span class="number">0x0000021D1A5DC470</span>&gt;</span><br><span class="line">[&lt;__main__.A object at <span class="number">0x0000021D1A5DC470</span>&gt;, &lt;__main__.A object at <span class="number">0x0000021D1A5DC9E8</span>&gt;, &#123;<span class="string">'t'</span>: &lt;__main__.A object at <span class="number">0x0000021D1A5DC9E8</span>&gt;&#125;, &#123;<span class="string">'t'</span>: &lt;__main__.A object at <span class="number">0x0000021D1A5DC470</span>&gt;&#125;]</span><br><span class="line">gc: collectable &lt;A <span class="number">0x0000021D1A5DC9E8</span>&gt;</span><br><span class="line">gc: collectable &lt;dict <span class="number">0x0000021D1A156C88</span>&gt;</span><br><span class="line">gc: collectable &lt;dict <span class="number">0x0000021D1A5CABC8</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="gcæ¨¡å—çš„è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶"><a href="#gcæ¨¡å—çš„è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="gcæ¨¡å—çš„è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶"></a>gcæ¨¡å—çš„è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶</h3><p>å¿…é¡»è¦import gcæ¨¡å—ï¼Œå¹¶ä¸”is_enable()=Trueæ‰ä¼šå¯åŠ¨è‡ªåŠ¨åƒåœ¾å›æ”¶ã€‚<br>è¿™ä¸ªæœºåˆ¶çš„ä¸»è¦ä½œç”¨å°±æ˜¯å‘ç°å¹¶å¤„ç†ä¸å¯è¾¾çš„åƒåœ¾å¯¹è±¡ã€‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">åƒåœ¾å›æ”¶&#x3D;åƒåœ¾æ£€æŸ¥+åƒåœ¾å›æ”¶</span><br></pre></td></tr></table></figure><p>åœ¨Pythonä¸­ï¼Œé‡‡ç”¨åˆ†ä»£æ”¶é›†çš„æ–¹æ³•ã€‚æŠŠå¯¹è±¡åˆ†ä¸ºä¸‰ä»£ï¼Œä¸€å¼€å§‹ï¼Œå¯¹è±¡åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œæ”¾åœ¨ä¸€ä»£ä¸­ï¼Œå¦‚æœåœ¨ä¸€æ¬¡ä¸€ä»£çš„åƒåœ¾æ£€æŸ¥ä¸­ï¼Œæ”¹å¯¹è±¡å­˜æ´»ä¸‹æ¥ï¼Œå°±ä¼šè¢«æ”¾åˆ°äºŒä»£ä¸­ï¼ŒåŒç†åœ¨ä¸€æ¬¡äºŒä»£çš„åƒåœ¾æ£€æŸ¥ä¸­ï¼Œè¯¥å¯¹è±¡å­˜æ´»ä¸‹æ¥ï¼Œå°±ä¼šè¢«æ”¾åˆ°ä¸‰ä»£ä¸­ã€‚</p><p>gcæ¨¡å—é‡Œé¢ä¼šæœ‰ä¸€ä¸ªé•¿åº¦ä¸º3çš„åˆ—è¡¨çš„è®¡æ•°å™¨ï¼Œå¯ä»¥é€šè¿‡<code>gc.get_count()</code>è·å–ã€‚</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f4</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''åƒåœ¾è‡ªåŠ¨å›æ”¶'''</span></span><br><span class="line">    print(gc.get_count())</span><br><span class="line">    a=A()</span><br><span class="line">    print(gc.get_count())</span><br><span class="line">    <span class="keyword">del</span> a</span><br><span class="line">    print(gc.get_count())</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœ</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">(<span class="number">621</span>, <span class="number">10</span>, <span class="number">0</span>)</span><br><span class="line">object born id:<span class="number">0x2ca32a8c588</span></span><br><span class="line">(<span class="number">624</span>, <span class="number">10</span>, <span class="number">0</span>)</span><br><span class="line">(<span class="number">623</span>, <span class="number">10</span>, <span class="number">0</span>)</span><br></pre></td></tr></table></figure><ul><li><code>621</code>æŒ‡è·ç¦»ä¸Šä¸€æ¬¡<code>ä¸€ä»£</code>åƒåœ¾æ£€æŸ¥ï¼ŒPythonåˆ†é…å†…å­˜çš„æ•°ç›®å‡å»é‡Šæ”¾å†…å­˜çš„æ•°ç›®ï¼Œæ³¨æ„:æ˜¯å†…å­˜åˆ†é…ï¼Œè€Œä¸æ˜¯å¼•ç”¨è®¡æ•°çš„å¢åŠ ã€‚</li><li><code>10</code>æŒ‡è·ç¦»ä¸Šä¸€æ¬¡<code>äºŒä»£</code>åƒåœ¾æ£€æŸ¥ï¼Œ<code>ä¸€ä»£</code>åƒåœ¾æ£€æŸ¥çš„æ¬¡æ•°ã€‚</li><li><code>0</code>æ˜¯æŒ‡è·ç¦»ä¸Šä¸€æ¬¡<code>ä¸‰ä»£</code>åƒåœ¾æ£€æŸ¥ï¼Œ<code>äºŒä»£</code>åƒåœ¾æ£€æŸ¥çš„æ¬¡æ•°ã€‚</li></ul><h3 id="è‡ªåŠ¨å›æ”¶é˜ˆå€¼"><a href="#è‡ªåŠ¨å›æ”¶é˜ˆå€¼" class="headerlink" title="è‡ªåŠ¨å›æ”¶é˜ˆå€¼"></a>è‡ªåŠ¨å›æ”¶é˜ˆå€¼</h3><p>gcæ¨¡å¿«æœ‰ä¸€ä¸ªè‡ªåŠ¨åƒåœ¾å›æ”¶çš„é˜€å€¼ï¼Œå³é€šè¿‡<code>gc.get_threshold</code>å‡½æ•°è·å–åˆ°çš„é•¿åº¦ä¸º3çš„å…ƒç»„ï¼Œä¾‹å¦‚<code>(700,10,10)</code><br>æ¯ä¸€æ¬¡è®¡æ•°å™¨çš„å¢åŠ ï¼Œgcæ¨¡å—å°±ä¼šæ£€æŸ¥å¢åŠ åçš„è®¡æ•°æ˜¯å¦è¾¾åˆ°é˜€å€¼çš„æ•°ç›®ï¼Œå¦‚æœæ˜¯ï¼Œå°±ä¼šæ‰§è¡Œå¯¹åº”çš„ä»£æ•°çš„åƒåœ¾æ£€æŸ¥ï¼Œç„¶åé‡ç½®è®¡æ•°å™¨</p><p>æ³¨æ„ï¼š<br>å¦‚æœå¾ªç¯å¼•ç”¨ä¸­ï¼Œä¸¤ä¸ªå¯¹è±¡éƒ½å®šä¹‰äº†<code>__del__</code>æ–¹æ³•ï¼Œgcæ¨¡å—ä¸ä¼šé”€æ¯è¿™äº›ä¸å¯è¾¾å¯¹è±¡ï¼Œå› ä¸ºgcæ¨¡å—ä¸çŸ¥é“åº”è¯¥å…ˆè°ƒç”¨å“ªä¸ªå¯¹è±¡çš„<code>__del__</code>æ–¹æ³•ï¼Œæ‰€ä»¥ä¸ºäº†å®‰å…¨èµ·è§ï¼Œgcæ¨¡å—ä¼šæŠŠå¯¹è±¡æ”¾åˆ°<code>gc.garbage</code>ä¸­ï¼Œä½†æ˜¯ä¸ä¼šé”€æ¯å¯¹è±¡ã€‚</p><h3 id="æ ‡è®°æ¸…é™¤"><a href="#æ ‡è®°æ¸…é™¤" class="headerlink" title="æ ‡è®°æ¸…é™¤"></a>æ ‡è®°æ¸…é™¤</h3><p>æ ‡è®°æ¸…é™¤ï¼ˆMarkâ€”Sweepï¼‰ã€ç®—æ³•æ˜¯ä¸€ç§åŸºäºè¿½è¸ªå›æ”¶ï¼ˆtracing GCï¼‰æŠ€æœ¯å®ç°çš„åƒåœ¾å›æ”¶ç®—æ³•ã€‚å®ƒåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼šç¬¬ä¸€é˜¶æ®µæ˜¯æ ‡è®°é˜¶æ®µï¼ŒGCä¼šæŠŠæ‰€æœ‰çš„ã€æ´»åŠ¨å¯¹è±¡ã€æ‰“ä¸Šæ ‡è®°ï¼Œç¬¬äºŒé˜¶æ®µæ˜¯æŠŠé‚£äº›æ²¡æœ‰æ ‡è®°çš„å¯¹è±¡ã€éæ´»åŠ¨å¯¹è±¡ã€è¿›è¡Œå›æ”¶ã€‚é‚£ä¹ˆGCåˆæ˜¯å¦‚ä½•åˆ¤æ–­å“ªäº›æ˜¯æ´»åŠ¨å¯¹è±¡å“ªäº›æ˜¯éæ´»åŠ¨å¯¹è±¡çš„å‘¢ï¼Ÿ</p><p><img src="https://wx2.sbimg.cn/2020/06/22/GC.png" alt></p><p>å¯¹è±¡ä¹‹é—´é€šè¿‡å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰è¿åœ¨ä¸€èµ·ï¼Œæ„æˆä¸€ä¸ªæœ‰å‘å›¾ï¼Œå¯¹è±¡æ„æˆè¿™ä¸ªæœ‰å‘å›¾çš„èŠ‚ç‚¹ï¼Œè€Œå¼•ç”¨å…³ç³»æ„æˆè¿™ä¸ªæœ‰å‘å›¾çš„è¾¹ã€‚ä»æ ¹å¯¹è±¡ï¼ˆroot objectï¼‰å‡ºå‘ï¼Œæ²¿ç€æœ‰å‘è¾¹éå†å¯¹è±¡ï¼Œå¯è¾¾çš„ï¼ˆreachableï¼‰å¯¹è±¡æ ‡è®°ä¸ºæ´»åŠ¨å¯¹è±¡ï¼Œä¸å¯è¾¾çš„å¯¹è±¡å°±æ˜¯è¦è¢«æ¸…é™¤çš„éæ´»åŠ¨å¯¹è±¡ã€‚æ ¹å¯¹è±¡å°±æ˜¯å…¨å±€å˜é‡ã€è°ƒç”¨æ ˆã€å¯„å­˜å™¨ã€‚ mark-sweepg åœ¨ä¸Šå›¾ä¸­ï¼Œæˆ‘ä»¬æŠŠå°é»‘åœˆè§†ä¸ºå…¨å±€å˜é‡ï¼Œä¹Ÿå°±æ˜¯æŠŠå®ƒä½œä¸ºroot objectï¼Œä»å°é»‘åœˆå‡ºå‘ï¼Œå¯¹è±¡1å¯ç›´è¾¾ï¼Œé‚£ä¹ˆå®ƒå°†è¢«æ ‡è®°ï¼Œå¯¹è±¡2ã€3å¯é—´æ¥åˆ°è¾¾ä¹Ÿä¼šè¢«æ ‡è®°ï¼Œè€Œ4å’Œ5ä¸å¯è¾¾ï¼Œé‚£ä¹ˆ1ã€2ã€3å°±æ˜¯æ´»åŠ¨å¯¹è±¡ï¼Œ4å’Œ5æ˜¯éæ´»åŠ¨å¯¹è±¡ä¼šè¢«GCå›æ”¶ã€‚</p><p>æ ‡è®°æ¸…é™¤ç®—æ³•ä½œä¸ºPythonçš„è¾…åŠ©åƒåœ¾æ”¶é›†æŠ€æœ¯ä¸»è¦å¤„ç†çš„æ˜¯ä¸€äº›å®¹å™¨å¯¹è±¡ï¼Œæ¯”å¦‚listã€dictã€tupleï¼Œinstanceç­‰ï¼Œå› ä¸ºå¯¹äºå­—ç¬¦ä¸²ã€æ•°å€¼å¯¹è±¡æ˜¯ä¸å¯èƒ½é€ æˆå¾ªç¯å¼•ç”¨é—®é¢˜ã€‚Pythonä½¿ç”¨ä¸€ä¸ªåŒå‘é“¾è¡¨å°†è¿™äº›å®¹å™¨å¯¹è±¡ç»„ç»‡èµ·æ¥ã€‚ä¸è¿‡ï¼Œè¿™ç§ç®€å•ç²—æš´çš„æ ‡è®°æ¸…é™¤ç®—æ³•ä¹Ÿæœ‰æ˜æ˜¾çš„ç¼ºç‚¹ï¼šæ¸…é™¤éæ´»åŠ¨çš„å¯¹è±¡å‰å®ƒå¿…é¡»é¡ºåºæ‰«ææ•´ä¸ªå †å†…å­˜ï¼Œå“ªæ€•åªå‰©ä¸‹å°éƒ¨åˆ†æ´»åŠ¨å¯¹è±¡ä¹Ÿè¦æ‰«ææ‰€æœ‰å¯¹è±¡ã€‚</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
</search>
